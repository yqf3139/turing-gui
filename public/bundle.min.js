!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";!function(a,d){"object"==typeof c&&"object"==typeof b?b.exports=d():"function"==typeof define&&define.amd?define([],d):"object"==typeof c?c.vis=d():a.vis=d()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){var d=c(1);d.extend(b,c(7)),d.extend(b,c(26)),d.extend(b,c(62))},function(a,b,c){var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(2),f=c(6);b.isNumber=function(a){return a instanceof Number||"number"==typeof a},b.recursiveDOMDelete=function(a){if(a)for(;a.hasChildNodes()===!0;)b.recursiveDOMDelete(a.firstChild),a.removeChild(a.firstChild)},b.giveRange=function(a,b,c,d){if(b==a)return.5;var e=1/(b-a);return Math.max(0,(d-a)*e)},b.isString=function(a){return a instanceof String||"string"==typeof a},b.isDate=function(a){if(a instanceof Date)return!0;if(b.isString(a)){var c=g.exec(a);if(c)return!0;if(!isNaN(Date.parse(a)))return!0}return!1},b.randomUUID=function(){return f.v4()},b.assignAllKeys=function(a,b){for(var c in a)a.hasOwnProperty(c)&&"object"!==d(a[c])&&(a[c]=b)},b.fillIfDefined=function(a,c){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var f in a)void 0!==c[f]&&("object"!==d(c[f])?void 0!==c[f]&&null!==c[f]||void 0===a[f]||e!==!0?a[f]=c[f]:delete a[f]:"object"===d(a[f])&&b.fillIfDefined(a[f],c[f],e))},b.protoExtend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var e in d)a[e]=d[e]}return a},b.extend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a},b.selectiveExtend=function(a,b,c){if(!Array.isArray(a))throw new Error("Array with property names expected as first argument");for(var d=2;d<arguments.length;d++)for(var e=arguments[d],f=0;f<a.length;f++){var g=a[f];e.hasOwnProperty(g)&&(b[g]=e[g])}return b},b.selectiveDeepExtend=function(a,c,d){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(d))throw new TypeError("Arrays are not supported by deepExtend");for(var f=2;f<arguments.length;f++)for(var g=arguments[f],h=0;h<a.length;h++){var i=a[h];if(g.hasOwnProperty(i))if(d[i]&&d[i].constructor===Object)void 0===c[i]&&(c[i]={}),c[i].constructor===Object?b.deepExtend(c[i],d[i],!1,e):null===d[i]&&void 0!==c[i]&&e===!0?delete c[i]:c[i]=d[i];else{if(Array.isArray(d[i]))throw new TypeError("Arrays are not supported by deepExtend");null===d[i]&&void 0!==c[i]&&e===!0?delete c[i]:c[i]=d[i]}}return c},b.selectiveNotDeepExtend=function(a,c,d){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(d))throw new TypeError("Arrays are not supported by deepExtend");for(var f in d)if(d.hasOwnProperty(f)&&a.indexOf(f)==-1)if(d[f]&&d[f].constructor===Object)void 0===c[f]&&(c[f]={}),c[f].constructor===Object?b.deepExtend(c[f],d[f]):null===d[f]&&void 0!==c[f]&&e===!0?delete c[f]:c[f]=d[f];else if(Array.isArray(d[f])){c[f]=[];for(var g=0;g<d[f].length;g++)c[f].push(d[f][g])}else null===d[f]&&void 0!==c[f]&&e===!0?delete c[f]:c[f]=d[f];return c},b.deepExtend=function(a,c,d,e){for(var f in c)if(c.hasOwnProperty(f)||d===!0)if(c[f]&&c[f].constructor===Object)void 0===a[f]&&(a[f]={}),a[f].constructor===Object?b.deepExtend(a[f],c[f],d):null===c[f]&&void 0!==a[f]&&e===!0?delete a[f]:a[f]=c[f];else if(Array.isArray(c[f])){a[f]=[];for(var g=0;g<c[f].length;g++)a[f].push(c[f][g])}else null===c[f]&&void 0!==a[f]&&e===!0?delete a[f]:a[f]=c[f];return a},b.equalArray=function(a,b){if(a.length!=b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]!=b[c])return!1;return!0},b.convert=function(a,c){var d;if(void 0!==a){if(null===a)return null;if(!c)return a;if("string"!=typeof c&&!(c instanceof String))throw new Error("Type must be a string");switch(c){case"boolean":case"Boolean":return Boolean(a);case"number":case"Number":return isNaN(Date.parse(a))?Number(a.valueOf()):e(a).valueOf();case"string":case"String":return String(a);case"Date":if(b.isNumber(a))return new Date(a);if(a instanceof Date)return new Date(a.valueOf());if(e.isMoment(a))return new Date(a.valueOf());if(b.isString(a))return d=g.exec(a),d?new Date(Number(d[1])):e(new Date(a)).toDate();throw new Error("Cannot convert object of type "+b.getType(a)+" to type Date");case"Moment":if(b.isNumber(a))return e(a);if(a instanceof Date)return e(a.valueOf());if(e.isMoment(a))return e(a);if(b.isString(a))return d=g.exec(a),e(d?Number(d[1]):a);throw new Error("Cannot convert object of type "+b.getType(a)+" to type Date");case"ISODate":if(b.isNumber(a))return new Date(a);if(a instanceof Date)return a.toISOString();if(e.isMoment(a))return a.toDate().toISOString();if(b.isString(a))return d=g.exec(a),d?new Date(Number(d[1])).toISOString():e(a).format();throw new Error("Cannot convert object of type "+b.getType(a)+" to type ISODate");case"ASPDate":if(b.isNumber(a))return"/Date("+a+")/";if(a instanceof Date)return"/Date("+a.valueOf()+")/";if(b.isString(a)){d=g.exec(a);var f;return f=d?new Date(Number(d[1])).valueOf():new Date(a).valueOf(),"/Date("+f+")/"}throw new Error("Cannot convert object of type "+b.getType(a)+" to type ASPDate");default:throw new Error('Unknown type "'+c+'"')}}};var g=/^\/?Date\((\-?\d+)/i;b.getType=function(a){var b="undefined"==typeof a?"undefined":d(a);return"object"==b?null===a?"null":a instanceof Boolean?"Boolean":a instanceof Number?"Number":a instanceof String?"String":Array.isArray(a)?"Array":a instanceof Date?"Date":"Object":"number"==b?"Number":"boolean"==b?"Boolean":"string"==b?"String":void 0===b?"undefined":b},b.copyAndExtendArray=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]);return c.push(b),c},b.copyArray=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b},b.getAbsoluteLeft=function(a){return a.getBoundingClientRect().left},b.getAbsoluteRight=function(a){return a.getBoundingClientRect().right},b.getAbsoluteTop=function(a){return a.getBoundingClientRect().top},b.addClassName=function(a,b){var c=a.className.split(" ");c.indexOf(b)==-1&&(c.push(b),a.className=c.join(" "))},b.removeClassName=function(a,b){var c=a.className.split(" "),d=c.indexOf(b);d!=-1&&(c.splice(d,1),a.className=c.join(" "))},b.forEach=function(a,b){var c,d;if(Array.isArray(a))for(c=0,d=a.length;c<d;c++)b(a[c],c,a);else for(c in a)a.hasOwnProperty(c)&&b(a[c],c,a)},b.toArray=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b},b.updateProperty=function(a,b,c){return a[b]!==c&&(a[b]=c,!0)},b.throttle=function(a){var b=!1;return function(){b||(b=!0,requestAnimationFrame(function(){b=!1,a()}))}},b.addEventListener=function(a,b,c,d){a.addEventListener?(void 0===d&&(d=!1),"mousewheel"===b&&navigator.userAgent.indexOf("Firefox")>=0&&(b="DOMMouseScroll"),a.addEventListener(b,c,d)):a.attachEvent("on"+b,c)},b.removeEventListener=function(a,b,c,d){a.removeEventListener?(void 0===d&&(d=!1),"mousewheel"===b&&navigator.userAgent.indexOf("Firefox")>=0&&(b="DOMMouseScroll"),a.removeEventListener(b,c,d)):a.detachEvent("on"+b,c)},b.preventDefault=function(a){a||(a=window.event),a.preventDefault?a.preventDefault():a.returnValue=!1},b.getTarget=function(a){a||(a=window.event);var b;return a.target?b=a.target:a.srcElement&&(b=a.srcElement),void 0!=b.nodeType&&3==b.nodeType&&(b=b.parentNode),b},b.hasParent=function(a,b){for(var c=a;c;){if(c===b)return!0;c=c.parentNode}return!1},b.option={},b.option.asBoolean=function(a,b){return"function"==typeof a&&(a=a()),null!=a?0!=a:b||null},b.option.asNumber=function(a,b){return"function"==typeof a&&(a=a()),null!=a?Number(a)||b||null:b||null},b.option.asString=function(a,b){return"function"==typeof a&&(a=a()),null!=a?String(a):b||null},b.option.asSize=function(a,c){return"function"==typeof a&&(a=a()),b.isString(a)?a:b.isNumber(a)?a+"px":c||null},b.option.asElement=function(a,b){return"function"==typeof a&&(a=a()),a||b||null},b.hexToRGB=function(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null},b.overrideOpacity=function(a,c){if(a.indexOf("rgba")!=-1)return a;if(a.indexOf("rgb")!=-1){var d=a.substr(a.indexOf("(")+1).replace(")","").split(",");return"rgba("+d[0]+","+d[1]+","+d[2]+","+c+")"}var d=b.hexToRGB(a);return null==d?a:"rgba("+d.r+","+d.g+","+d.b+","+c+")"},b.RGBToHex=function(a,b,c){return"#"+((1<<24)+(a<<16)+(b<<8)+c).toString(16).slice(1)},b.parseColor=function(a){var c;if(b.isString(a)===!0){if(b.isValidRGB(a)===!0){var d=a.substr(4).substr(0,a.length-5).split(",").map(function(a){return parseInt(a)});a=b.RGBToHex(d[0],d[1],d[2])}if(b.isValidHex(a)===!0){var e=b.hexToHSV(a),f={h:e.h,s:.8*e.s,v:Math.min(1,1.02*e.v)},g={h:e.h,s:Math.min(1,1.25*e.s),v:.8*e.v},h=b.HSVToHex(g.h,g.s,g.v),i=b.HSVToHex(f.h,f.s,f.v);c={background:a,border:h,highlight:{background:i,border:h},hover:{background:i,border:h}}}else c={background:a,border:a,highlight:{background:a,border:a},hover:{background:a,border:a}}}else c={},c.background=a.background||void 0,c.border=a.border||void 0,b.isString(a.highlight)?c.highlight={border:a.highlight,background:a.highlight}:(c.highlight={},c.highlight.background=a.highlight&&a.highlight.background||void 0,c.highlight.border=a.highlight&&a.highlight.border||void 0),b.isString(a.hover)?c.hover={border:a.hover,background:a.hover}:(c.hover={},c.hover.background=a.hover&&a.hover.background||void 0,c.hover.border=a.hover&&a.hover.border||void 0);return c},b.RGBToHSV=function(a,b,c){a/=255,b/=255,c/=255;var d=Math.min(a,Math.min(b,c)),e=Math.max(a,Math.max(b,c));if(d==e)return{h:0,s:0,v:d};var f=a==d?b-c:c==d?a-b:c-a,g=a==d?3:c==d?1:5,h=60*(g-f/(e-d))/360,i=(e-d)/e,j=e;return{h:h,s:i,v:j}};var h={split:function(a){var b={};return a.split(";").forEach(function(a){if(""!=a.trim()){var c=a.split(":"),d=c[0].trim(),e=c[1].trim();b[d]=e}}),b},join:function(a){return Object.keys(a).map(function(b){return b+": "+a[b]}).join("; ")}};b.addCssText=function(a,c){var d=h.split(a.style.cssText),e=h.split(c),f=b.extend(d,e);a.style.cssText=h.join(f)},b.removeCssText=function(a,b){var c=h.split(a.style.cssText),d=h.split(b);for(var e in d)d.hasOwnProperty(e)&&delete c[e];a.style.cssText=h.join(c)},b.HSVToRGB=function(a,b,c){var d,e,f,g=Math.floor(6*a),h=6*a-g,i=c*(1-b),j=c*(1-h*b),k=c*(1-(1-h)*b);switch(g%6){case 0:d=c,e=k,f=i;break;case 1:d=j,e=c,f=i;break;case 2:d=i,e=c,f=k;break;case 3:d=i,e=j,f=c;break;case 4:d=k,e=i,f=c;break;case 5:d=c,e=i,f=j}return{r:Math.floor(255*d),g:Math.floor(255*e),b:Math.floor(255*f)}},b.HSVToHex=function(a,c,d){var e=b.HSVToRGB(a,c,d);return b.RGBToHex(e.r,e.g,e.b)},b.hexToHSV=function(a){var c=b.hexToRGB(a);return b.RGBToHSV(c.r,c.g,c.b)},b.isValidHex=function(a){var b=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a);return b},b.isValidRGB=function(a){a=a.replace(" ","");var b=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(a);return b},b.isValidRGBA=function(a){a=a.replace(" ","");var b=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(a);return b},b.selectiveBridgeObject=function(a,c){if("object"==("undefined"==typeof c?"undefined":d(c))){for(var e=Object.create(c),f=0;f<a.length;f++)c.hasOwnProperty(a[f])&&"object"==d(c[a[f]])&&(e[a[f]]=b.bridgeObject(c[a[f]]));return e}return null},b.bridgeObject=function(a){if("object"==("undefined"==typeof a?"undefined":d(a))){var c=Object.create(a);for(var e in a)a.hasOwnProperty(e)&&"object"==d(a[e])&&(c[e]=b.bridgeObject(a[e]));return c}return null},b.insertSort=function(a,b){for(var c=0;c<a.length;c++){for(var d=a[c],e=c;e>0&&b(d,a[e-1])<0;e--)a[e]=a[e-1];a[e]=d}return a},b.mergeOptions=function(a,b,c){var d=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});if(null===b[c])a[c]=Object.create(d[c]);else if(void 0!==b[c])if("boolean"==typeof b[c])a[c].enabled=b[c];else{void 0===b[c].enabled&&(a[c].enabled=!0);for(var e in b[c])b[c].hasOwnProperty(e)&&(a[c][e]=b[c][e])}},b.binarySearchCustom=function(a,b,c,d){for(var e=1e4,f=0,g=0,h=a.length-1;g<=h&&f<e;){var i=Math.floor((g+h)/2),j=a[i],k=void 0===d?j[c]:j[c][d],l=b(k);if(0==l)return i;l==-1?g=i+1:h=i-1,f++}return-1},b.binarySearchValue=function(a,b,c,d,e){for(var f,g,h,i,j=1e4,k=0,l=0,m=a.length-1,e=void 0!=e?e:function(a,b){return a==b?0:a<b?-1:1};l<=m&&k<j;){if(i=Math.floor(.5*(m+l)),f=a[Math.max(0,i-1)][c],g=a[i][c],h=a[Math.min(a.length-1,i+1)][c],0==e(g,b))return i;if(e(f,b)<0&&e(g,b)>0)return"before"==d?Math.max(0,i-1):i;if(e(g,b)<0&&e(h,b)>0)return"before"==d?i:Math.min(a.length-1,i+1);e(g,b)<0?l=i+1:m=i-1,k++}return-1},b.easingFunctions={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return a<.5?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return a<.5?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return a<.5?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+--a*a*a*a*a},easeInOutQuint:function(a){return a<.5?16*a*a*a*a*a:1+16*--a*a*a*a*a}},b.getScrollBarWidth=function(){var a=document.createElement("p");a.style.width="100%",a.style.height="200px";var b=document.createElement("div");b.style.position="absolute",b.style.top="0px",b.style.left="0px",b.style.visibility="hidden",b.style.width="200px",b.style.height="150px",b.style.overflow="hidden",b.appendChild(a),document.body.appendChild(b);var c=a.offsetWidth;b.style.overflow="scroll";var d=a.offsetWidth;return c==d&&(d=b.clientWidth),document.body.removeChild(b),c-d}},function(a,b,c){a.exports="undefined"!=typeof window&&window.moment||c(3)},function(a,b,c){(function(a){!function(b,c){a.exports=c()}(this,function(){function b(){return nd.apply(null,arguments)}function c(a){nd=a}function d(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function e(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function f(a){var b;for(b in a)return!1;return!0}function g(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function h(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function i(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function j(a,b){for(var c in b)i(b,c)&&(a[c]=b[c]);return i(b,"toString")&&(a.toString=b.toString),i(b,"valueOf")&&(a.valueOf=b.valueOf),a}function k(a,b,c,d){return rb(a,b,c,d,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function m(a){return null==a._pf&&(a._pf=l()),a._pf}function n(a){if(null==a._isValid){var b=m(a),c=od.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function o(a){var b=k(NaN);return null!=a?j(m(b),a):m(b).userInvalidated=!0,b}function p(a){return void 0===a}function q(a,b){var c,d,e;if(p(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),p(b._i)||(a._i=b._i),p(b._f)||(a._f=b._f),p(b._l)||(a._l=b._l),p(b._strict)||(a._strict=b._strict),p(b._tzm)||(a._tzm=b._tzm),p(b._isUTC)||(a._isUTC=b._isUTC),p(b._offset)||(a._offset=b._offset),p(b._pf)||(a._pf=m(b)),p(b._locale)||(a._locale=b._locale),pd.length>0)for(c in pd)d=pd[c],e=b[d],p(e)||(a[d]=e);return a}function r(a){q(this,a),this._d=new Date(null!=a._d?a._d.getTime():NaN),qd===!1&&(qd=!0,b.updateOffset(this),qd=!1)}function s(a){return a instanceof r||null!=a&&null!=a._isAMomentObject}function t(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=t(b)),c}function v(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function w(a){b.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function x(a,c){var d=!0;return j(function(){if(null!=b.deprecationHandler&&b.deprecationHandler(null,a),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}w(a+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function y(a,c){null!=b.deprecationHandler&&b.deprecationHandler(a,c),rd[a]||(w(c),rd[a]=!0)}function z(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function A(a){var b,c;for(c in a)b=a[c],z(b)?this[c]=b:this["_"+c]=b;this._config=a,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function B(a,b){var c,d=j({},a);for(c in b)i(b,c)&&(e(a[c])&&e(b[c])?(d[c]={},j(d[c],a[c]),j(d[c],b[c])):null!=b[c]?d[c]=b[c]:delete d[c]);for(c in a)i(a,c)&&!i(b,c)&&e(a[c])&&(d[c]=j({},d[c]));return d}function C(a){null!=a&&this.set(a)}function D(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return z(d)?d.call(b,c):d}function E(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function F(){return this._invalidDate}function G(a){return this._ordinal.replace("%d",a)}function H(a,b,c,d){var e=this._relativeTime[c];return z(e)?e(a,b,c,d):e.replace(/%d/i,a)}function I(a,b){var c=this._relativeTime[a>0?"future":"past"];return z(c)?c(b):c.replace(/%s/i,b)}function J(a,b){var c=a.toLowerCase();Ad[c]=Ad[c+"s"]=Ad[b]=a}function K(a){return"string"==typeof a?Ad[a]||Ad[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)i(a,c)&&(b=K(c),b&&(d[b]=a[c]));return d}function M(a,b){Bd[a]=b}function N(a){var b=[];for(var c in a)b.push({unit:c,priority:Bd[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function O(a,c){return function(d){return null!=d?(Q(this,a,d),b.updateOffset(this,c),this):P(this,a)}}function P(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function Q(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function R(a){return a=K(a),z(this[a])?this[a]():this}function S(a,b){if("object"==typeof a){a=L(a);for(var c=N(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=K(a),z(this[a]))return this[a](b);return this}function T(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function U(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Fd[a]=e),b&&(Fd[b[0]]=function(){return T(e.apply(this,arguments),b[1],b[2])}),c&&(Fd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function V(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function W(a){var b,c,d=a.match(Cd);for(b=0,c=d.length;b<c;b++)Fd[d[b]]?d[b]=Fd[d[b]]:d[b]=V(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=d[e]instanceof Function?d[e].call(b,a):d[e];return f}}function X(a,b){return a.isValid()?(b=Y(b,a.localeData()),Ed[b]=Ed[b]||W(b),Ed[b](a)):a.localeData().invalidDate()}function Y(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Dd.lastIndex=0;d>=0&&Dd.test(a);)a=a.replace(Dd,c),Dd.lastIndex=0,d-=1;return a}function Z(a,b,c){Xd[a]=z(b)?b:function(a,d){return a&&c?c:b}}function $(a,b){return i(Xd,a)?Xd[a](b._strict,b._locale):new RegExp(_(a))}function _(a){return aa(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function aa(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ba(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=u(a)}),c=0;c<a.length;c++)Yd[a[c]]=d}function ca(a,b){ba(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function da(a,b,c){null!=b&&i(Yd,a)&&Yd[a](b,c._a,c,a)}function ea(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function fa(a,b){return a?d(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||ge).test(b)?"format":"standalone"][a.month()]:this._months}function ga(a,b){return a?d(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[ge.test(b)?"format":"standalone"][a.month()]:this._monthsShort}function ha(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=k([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=td.call(this._shortMonthsParse,g),e!==-1?e:null):(e=td.call(this._longMonthsParse,g),e!==-1?e:null):"MMM"===b?(e=td.call(this._shortMonthsParse,g),e!==-1?e:(e=td.call(this._longMonthsParse,g),e!==-1?e:null)):(e=td.call(this._longMonthsParse,g),e!==-1?e:(e=td.call(this._shortMonthsParse,g),e!==-1?e:null))}function ia(a,b,c){var d,e,f;if(this._monthsParseExact)return ha.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=k([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ja(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=u(b);else if(b=a.localeData().monthsParse(b),"number"!=typeof b)return a;return c=Math.min(a.date(),ea(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ka(a){return null!=a?(ja(this,a),b.updateOffset(this,!0),this):P(this,"Month")}function la(){return ea(this.year(),this.month())}function ma(a){return this._monthsParseExact?(i(this,"_monthsRegex")||oa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=je),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function na(a){return this._monthsParseExact?(i(this,"_monthsRegex")||oa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=ke),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function oa(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=k([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=aa(d[b]),e[b]=aa(e[b]);for(b=0;b<24;b++)f[b]=aa(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function pa(a){return qa(a)?366:365}function qa(a){return a%4===0&&a%100!==0||a%400===0}function ra(){return qa(this.year())}function sa(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ta(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function ua(a,b,c){var d=7+b-c,e=(7+ta(a,0,d).getUTCDay()-b)%7;return-e+d-1}function va(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ua(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=pa(f)+j):j>pa(a)?(f=a+1,g=j-pa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function wa(a,b,c){var d,e,f=ua(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+xa(e,b,c)):g>xa(a.year(),b,c)?(d=g-xa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function xa(a,b,c){var d=ua(a,b,c),e=ua(a+1,b,c);return(pa(a)-d+e)/7}function ya(a){return wa(a,this._week.dow,this._week.doy).week}function za(){return this._week.dow}function Aa(){return this._week.doy}function Ba(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ca(a){var b=wa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Da(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Ea(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Fa(a,b){return a?d(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:this._weekdays}function Ga(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ha(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ia(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=k([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=td.call(this._weekdaysParse,g),e!==-1?e:null):"ddd"===b?(e=td.call(this._shortWeekdaysParse,g),e!==-1?e:null):(e=td.call(this._minWeekdaysParse,g),e!==-1?e:null):"dddd"===b?(e=td.call(this._weekdaysParse,g),e!==-1?e:(e=td.call(this._shortWeekdaysParse,g),e!==-1?e:(e=td.call(this._minWeekdaysParse,g),e!==-1?e:null))):"ddd"===b?(e=td.call(this._shortWeekdaysParse,g),e!==-1?e:(e=td.call(this._weekdaysParse,g),e!==-1?e:(e=td.call(this._minWeekdaysParse,g),e!==-1?e:null))):(e=td.call(this._minWeekdaysParse,g),e!==-1?e:(e=td.call(this._weekdaysParse,g),e!==-1?e:(e=td.call(this._shortWeekdaysParse,g),e!==-1?e:null)))}function Ja(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ia.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=k([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Ka(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Da(a,this.localeData()),this.add(a-b,"d")):b}function La(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ma(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Ea(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Na(a){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Oa(a){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=re),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Pa(a){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=se),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;b<7;b++)c=k([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;b<7;b++)h[b]=aa(h[b]),i[b]=aa(i[b]),j[b]=aa(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Ra(){return this.hours()%12||12}function Sa(){return this.hours()||24}function Ta(a,b){U(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Ua(a,b){return b._meridiemParse}function Va(a){return"p"===(a+"").toLowerCase().charAt(0)}function Wa(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Xa(a){return a?a.toLowerCase().replace("_","-"):a}function Ya(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Xa(a[f]).split("-"),b=e.length,c=Xa(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=Za(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&v(e,c,!0)>=b-1)break;b--}f++}return null}function Za(b){var c=null;if(!xe[b]&&"undefined"!=typeof a&&a&&a.exports)try{c=te._abbr,!function(){var a=new Error('Cannot find module "./locale"');throw a.code="MODULE_NOT_FOUND",a}(),$a(c)}catch(a){}return xe[b]}function $a(a,b){var c;return a&&(c=p(b)?bb(a):_a(a,b),c&&(te=c)),te._abbr}function _a(a,b){if(null!==b){var c=we;return b.abbr=a,null!=xe[a]?(y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=xe[a]._config):null!=b.parentLocale&&(null!=xe[b.parentLocale]?c=xe[b.parentLocale]._config:y("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),xe[a]=new C(B(c,b)),$a(a),xe[a]}return delete xe[a],null}function ab(a,b){if(null!=b){var c,d=we;null!=xe[a]&&(d=xe[a]._config),b=B(d,b),c=new C(b),c.parentLocale=xe[a],xe[a]=c,$a(a)}else null!=xe[a]&&(null!=xe[a].parentLocale?xe[a]=xe[a].parentLocale:null!=xe[a]&&delete xe[a]);return xe[a]}function bb(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return te;if(!d(a)){if(b=Za(a))return b;a=[a]}return Ya(a)}function cb(){return sd(xe)}function db(a){var b,c=a._a;return c&&m(a).overflow===-2&&(b=c[$d]<0||c[$d]>11?$d:c[_d]<1||c[_d]>ea(c[Zd],c[$d])?_d:c[ae]<0||c[ae]>24||24===c[ae]&&(0!==c[be]||0!==c[ce]||0!==c[de])?ae:c[be]<0||c[be]>59?be:c[ce]<0||c[ce]>59?ce:c[de]<0||c[de]>999?de:-1,
m(a)._overflowDayOfYear&&(b<Zd||b>_d)&&(b=_d),m(a)._overflowWeeks&&b===-1&&(b=ee),m(a)._overflowWeekday&&b===-1&&(b=fe),m(a).overflow=b),a}function eb(a){var b,c,d,e,f,g,h=a._i,i=ye.exec(h)||ze.exec(h);if(i){for(m(a).iso=!0,b=0,c=Be.length;b<c;b++)if(Be[b][1].exec(i[1])){e=Be[b][0],d=Be[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Ce.length;b<c;b++)if(Ce[b][1].exec(i[3])){f=(i[2]||" ")+Ce[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Ae.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),kb(a)}else a._isValid=!1}function fb(a){var c=De.exec(a._i);return null!==c?void(a._d=new Date(+c[1])):(eb(a),void(a._isValid===!1&&(delete a._isValid,b.createFromInputFallback(a))))}function gb(a,b,c){return null!=a?a:null!=b?b:c}function hb(a){var c=new Date(b.now());return a._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function ib(a){var b,c,d,e,f=[];if(!a._d){for(d=hb(a),a._w&&null==a._a[_d]&&null==a._a[$d]&&jb(a),a._dayOfYear&&(e=gb(a._a[Zd],d[Zd]),a._dayOfYear>pa(e)&&(m(a)._overflowDayOfYear=!0),c=ta(e,0,a._dayOfYear),a._a[$d]=c.getUTCMonth(),a._a[_d]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ae]&&0===a._a[be]&&0===a._a[ce]&&0===a._a[de]&&(a._nextDay=!0,a._a[ae]=0),a._d=(a._useUTC?ta:sa).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[ae]=24)}}function jb(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=gb(b.GG,a._a[Zd],wa(sb(),1,4).year),d=gb(b.W,1),e=gb(b.E,1),(e<1||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=gb(b.gg,a._a[Zd],wa(sb(),f,g).year),d=gb(b.w,1),null!=b.d?(e=b.d,(e<0||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),d<1||d>xa(c,f,g)?m(a)._overflowWeeks=!0:null!=i?m(a)._overflowWeekday=!0:(h=va(c,d,e,f,g),a._a[Zd]=h.year,a._dayOfYear=h.dayOfYear)}function kb(a){if(a._f===b.ISO_8601)return void eb(a);a._a=[],m(a).empty=!0;var c,d,e,f,g,h=""+a._i,i=h.length,j=0;for(e=Y(a._f,a._locale).match(Cd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match($(f,a))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&m(a).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Fd[f]?(d?m(a).empty=!1:m(a).unusedTokens.push(f),da(f,d,a)):a._strict&&!d&&m(a).unusedTokens.push(f);m(a).charsLeftOver=i-j,h.length>0&&m(a).unusedInput.push(h),a._a[ae]<=12&&m(a).bigHour===!0&&a._a[ae]>0&&(m(a).bigHour=void 0),m(a).parsedDateParts=a._a.slice(0),m(a).meridiem=a._meridiem,a._a[ae]=lb(a._locale,a._a[ae],a._meridiem),ib(a),db(a)}function lb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function mb(a){var b,c,d,e,f;if(0===a._f.length)return m(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=q({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],kb(b),n(b)&&(f+=m(b).charsLeftOver,f+=10*m(b).unusedTokens.length,m(b).score=f,(null==d||f<d)&&(d=f,c=b));j(a,c||b)}function nb(a){if(!a._d){var b=L(a._i);a._a=h([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ib(a)}}function ob(a){var b=new r(db(pb(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function pb(a){var b=a._i,c=a._f;return a._locale=a._locale||bb(a._l),null===b||void 0===c&&""===b?o({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),s(b)?new r(db(b)):(d(c)?mb(a):g(b)?a._d=b:c?kb(a):qb(a),n(a)||(a._d=null),a))}function qb(a){var c=a._i;void 0===c?a._d=new Date(b.now()):g(c)?a._d=new Date(c.valueOf()):"string"==typeof c?fb(a):d(c)?(a._a=h(c.slice(0),function(a){return parseInt(a,10)}),ib(a)):"object"==typeof c?nb(a):"number"==typeof c?a._d=new Date(c):b.createFromInputFallback(a)}function rb(a,b,c,g,h){var i={};return"boolean"==typeof c&&(g=c,c=void 0),(e(a)&&f(a)||d(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=c,i._i=a,i._f=b,i._strict=g,ob(i)}function sb(a,b,c,d){return rb(a,b,c,d,!1)}function tb(a,b){var c,e;if(1===b.length&&d(b[0])&&(b=b[0]),!b.length)return sb();for(c=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](c)||(c=b[e]);return c}function ub(){var a=[].slice.call(arguments,0);return tb("isBefore",a)}function vb(){var a=[].slice.call(arguments,0);return tb("isAfter",a)}function wb(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=bb(),this._bubble()}function xb(a){return a instanceof wb}function yb(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}function zb(a,b){U(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+T(~~(a/60),2)+b+T(~~a%60,2)})}function Ab(a,b){var c=(b||"").match(a)||[],d=c[c.length-1]||[],e=(d+"").match(He)||["-",0,0],f=+(60*e[1])+u(e[2]);return"+"===e[0]?f:-f}function Bb(a,c){var d,e;return c._isUTC?(d=c.clone(),e=(s(a)||g(a)?a.valueOf():sb(a).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),b.updateOffset(d,!1),d):sb(a).local()}function Cb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Db(a,c){var d,e=this._offset||0;return this.isValid()?null!=a?("string"==typeof a?a=Ab(Ud,a):Math.abs(a)<16&&(a*=60),!this._isUTC&&c&&(d=Cb(this)),this._offset=a,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==a&&(!c||this._changeInProgress?Tb(this,Ob(a-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,b.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Cb(this):null!=a?this:NaN}function Eb(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Fb(a){return this.utcOffset(0,a)}function Gb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Cb(this),"m")),this}function Hb(){if(this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var a=Ab(Td,this._i);0===a?this.utcOffset(0,!0):this.utcOffset(Ab(Td,this._i))}return this}function Ib(a){return!!this.isValid()&&(a=a?sb(a).utcOffset():0,(this.utcOffset()-a)%60===0)}function Jb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kb(){if(!p(this._isDSTShifted))return this._isDSTShifted;var a={};if(q(a,this),a=pb(a),a._a){var b=a._isUTC?k(a._a):sb(a._a);this._isDSTShifted=this.isValid()&&v(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Lb(){return!!this.isValid()&&!this._isUTC}function Mb(){return!!this.isValid()&&this._isUTC}function Nb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ob(a,b){var c,d,e,f=a,g=null;return xb(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=Ie.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:u(g[_d])*c,h:u(g[ae])*c,m:u(g[be])*c,s:u(g[ce])*c,ms:u(yb(1e3*g[de]))*c}):(g=Je.exec(a))?(c="-"===g[1]?-1:1,f={y:Pb(g[2],c),M:Pb(g[3],c),w:Pb(g[4],c),d:Pb(g[5],c),h:Pb(g[6],c),m:Pb(g[7],c),s:Pb(g[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=Rb(sb(f.from),sb(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new wb(f),xb(a)&&i(a,"_locale")&&(d._locale=a._locale),d}function Pb(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Qb(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Rb(a,b){var c;return a.isValid()&&b.isValid()?(b=Bb(b,a),a.isBefore(b)?c=Qb(a,b):(c=Qb(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Sb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(y(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Ob(c,d),Tb(this,e,a),this}}function Tb(a,c,d,e){var f=c._milliseconds,g=yb(c._days),h=yb(c._months);a.isValid()&&(e=null==e||e,f&&a._d.setTime(a._d.valueOf()+f*d),g&&Q(a,"Date",P(a,"Date")+g*d),h&&ja(a,P(a,"Month")+h*d),e&&b.updateOffset(a,g||h))}function Ub(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Vb(a,c){var d=a||sb(),e=Bb(d,this).startOf("day"),f=b.calendarFormat(this,e)||"sameElse",g=c&&(z(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,sb(d)))}function Wb(){return new r(this)}function Xb(a,b){var c=s(a)?a:sb(a);return!(!this.isValid()||!c.isValid())&&(b=K(p(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function Yb(a,b){var c=s(a)?a:sb(a);return!(!this.isValid()||!c.isValid())&&(b=K(p(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function Zb(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function $b(a,b){var c,d=s(a)?a:sb(a);return!(!this.isValid()||!d.isValid())&&(b=K(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function _b(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function ac(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function bc(a,b,c){var d,e,f,g;return this.isValid()?(d=Bb(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=K(b),"year"===b||"month"===b||"quarter"===b?(g=cc(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:t(g)):NaN):NaN}function cc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function dc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ec(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?z(Date.prototype.toISOString)?this.toDate().toISOString():X(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):X(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function fc(a){a||(a=this.isUtc()?b.defaultFormatUtc:b.defaultFormat);var c=X(this,a);return this.localeData().postformat(c)}function gc(a,b){return this.isValid()&&(s(a)&&a.isValid()||sb(a).isValid())?Ob({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function hc(a){return this.from(sb(),a)}function ic(a,b){return this.isValid()&&(s(a)&&a.isValid()||sb(a).isValid())?Ob({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function jc(a){return this.to(sb(),a)}function kc(a){var b;return void 0===a?this._locale._abbr:(b=bb(a),null!=b&&(this._locale=b),this)}function lc(){return this._locale}function mc(a){switch(a=K(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function nc(a){return a=K(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function oc(){return this._d.valueOf()-6e4*(this._offset||0)}function pc(){return Math.floor(this.valueOf()/1e3)}function qc(){return new Date(this.valueOf())}function rc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function sc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function tc(){return this.isValid()?this.toISOString():null}function uc(){return n(this)}function vc(){return j({},m(this))}function wc(){return m(this).overflow}function xc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function yc(a,b){U(0,[a,a.length],0,b)}function zc(a){return Dc.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ac(a){return Dc.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Bc(){return xa(this.year(),1,4)}function Cc(){var a=this.localeData()._week;return xa(this.year(),a.dow,a.doy)}function Dc(a,b,c,d,e){var f;return null==a?wa(this,d,e).year:(f=xa(a,d,e),b>f&&(b=f),Ec.call(this,a,b,c,d,e))}function Ec(a,b,c,d,e){var f=va(a,b,c,d,e),g=ta(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Fc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Gc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Hc(a,b){b[de]=u(1e3*("0."+a))}function Ic(){return this._isUTC?"UTC":""}function Jc(){return this._isUTC?"Coordinated Universal Time":""}function Kc(a){return sb(1e3*a)}function Lc(){return sb.apply(null,arguments).parseZone()}function Mc(a){return a}function Nc(a,b,c,d){var e=bb(),f=k().set(d,b);return e[c](f,a)}function Oc(a,b,c){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return Nc(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=Nc(a,d,c,"month");return e}function Pc(a,b,c,d){"boolean"==typeof a?("number"==typeof b&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,"number"==typeof b&&(c=b,b=void 0),b=b||"");var e=bb(),f=a?e._week.dow:0;if(null!=c)return Nc(b,(c+f)%7,d,"day");var g,h=[];for(g=0;g<7;g++)h[g]=Nc(b,(g+f)%7,d,"day");return h}function Qc(a,b){return Oc(a,b,"months")}function Rc(a,b){return Oc(a,b,"monthsShort")}function Sc(a,b,c){return Pc(a,b,c,"weekdays")}function Tc(a,b,c){return Pc(a,b,c,"weekdaysShort")}function Uc(a,b,c){return Pc(a,b,c,"weekdaysMin")}function Vc(){var a=this._data;return this._milliseconds=Ve(this._milliseconds),this._days=Ve(this._days),this._months=Ve(this._months),a.milliseconds=Ve(a.milliseconds),a.seconds=Ve(a.seconds),a.minutes=Ve(a.minutes),a.hours=Ve(a.hours),a.months=Ve(a.months),a.years=Ve(a.years),this}function Wc(a,b,c,d){var e=Ob(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Xc(a,b){return Wc(this,a,b,1)}function Yc(a,b){return Wc(this,a,b,-1)}function Zc(a){return a<0?Math.floor(a):Math.ceil(a)}function $c(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*Zc(ad(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=t(f/1e3),i.seconds=a%60,b=t(a/60),i.minutes=b%60,c=t(b/60),i.hours=c%24,g+=t(c/24),e=t(_c(g)),h+=e,g-=Zc(ad(e)),d=t(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function _c(a){return 4800*a/146097}function ad(a){return 146097*a/4800}function bd(a){var b,c,d=this._milliseconds;if(a=K(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+_c(b),"month"===a?c:c/12;switch(b=this._days+Math.round(ad(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function cd(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12)}function dd(a){return function(){return this.as(a)}}function ed(a){return a=K(a),this[a+"s"]()}function fd(a){return function(){return this._data[a]}}function gd(){return t(this.days()/7)}function hd(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function id(a,b,c){var d=Ob(a).abs(),e=kf(d.as("s")),f=kf(d.as("m")),g=kf(d.as("h")),h=kf(d.as("d")),i=kf(d.as("M")),j=kf(d.as("y")),k=e<lf.s&&["s",e]||f<=1&&["m"]||f<lf.m&&["mm",f]||g<=1&&["h"]||g<lf.h&&["hh",g]||h<=1&&["d"]||h<lf.d&&["dd",h]||i<=1&&["M"]||i<lf.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,hd.apply(null,k)}function jd(a){return void 0===a?kf:"function"==typeof a&&(kf=a,!0)}function kd(a,b){return void 0!==lf[a]&&(void 0===b?lf[a]:(lf[a]=b,!0))}function ld(a){var b=this.localeData(),c=id(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function md(){var a,b,c,d=mf(this._milliseconds)/1e3,e=mf(this._days),f=mf(this._months);a=t(d/60),b=t(a/60),d%=60,a%=60,c=t(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var nd,od;od=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var pd=b.momentProperties=[],qd=!1,rd={};b.suppressDeprecationWarnings=!1,b.deprecationHandler=null;var sd;sd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)i(a,b)&&c.push(b);return c};var td,ud={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},vd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},wd="Invalid date",xd="%d",yd=/\d{1,2}/,zd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ad={},Bd={},Cd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Dd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ed={},Fd={},Gd=/\d/,Hd=/\d\d/,Id=/\d{3}/,Jd=/\d{4}/,Kd=/[+-]?\d{6}/,Ld=/\d\d?/,Md=/\d\d\d\d?/,Nd=/\d\d\d\d\d\d?/,Od=/\d{1,3}/,Pd=/\d{1,4}/,Qd=/[+-]?\d{1,6}/,Rd=/\d+/,Sd=/[+-]?\d+/,Td=/Z|[+-]\d\d:?\d\d/gi,Ud=/Z|[+-]\d\d(?::?\d\d)?/gi,Vd=/[+-]?\d+(\.\d{1,3})?/,Wd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xd={},Yd={},Zd=0,$d=1,_d=2,ae=3,be=4,ce=5,de=6,ee=7,fe=8;td=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),U("MMMM",0,0,function(a){return this.localeData().months(this,a)}),J("month","M"),M("month",8),Z("M",Ld),Z("MM",Ld,Hd),Z("MMM",function(a,b){return b.monthsShortRegex(a)}),Z("MMMM",function(a,b){return b.monthsRegex(a)}),ba(["M","MM"],function(a,b){b[$d]=u(a)-1}),ba(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[$d]=e:m(c).invalidMonth=a});var ge=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,he="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),je=Wd,ke=Wd;U("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),J("year","y"),M("year",1),Z("Y",Sd),Z("YY",Ld,Hd),Z("YYYY",Pd,Jd),Z("YYYYY",Qd,Kd),Z("YYYYYY",Qd,Kd),ba(["YYYYY","YYYYYY"],Zd),ba("YYYY",function(a,c){c[Zd]=2===a.length?b.parseTwoDigitYear(a):u(a)}),ba("YY",function(a,c){c[Zd]=b.parseTwoDigitYear(a)}),ba("Y",function(a,b){b[Zd]=parseInt(a,10)}),b.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)};var le=O("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),J("week","w"),J("isoWeek","W"),M("week",5),M("isoWeek",5),Z("w",Ld),Z("ww",Ld,Hd),Z("W",Ld),Z("WW",Ld,Hd),ca(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=u(a)});var me={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),U("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),U("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),J("day","d"),J("weekday","e"),J("isoWeekday","E"),M("day",11),M("weekday",11),M("isoWeekday",11),Z("d",Ld),Z("e",Ld),Z("E",Ld),Z("dd",function(a,b){return b.weekdaysMinRegex(a)}),Z("ddd",function(a,b){return b.weekdaysShortRegex(a)}),Z("dddd",function(a,b){return b.weekdaysRegex(a)}),ca(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:m(c).invalidWeekday=a}),ca(["d","e","E"],function(a,b,c,d){b[d]=u(a)});var ne="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),oe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),pe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qe=Wd,re=Wd,se=Wd;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Ra),U("k",["kk",2],0,Sa),U("hmm",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)}),Ta("a",!0),Ta("A",!1),J("hour","h"),M("hour",13),Z("a",Ua),Z("A",Ua),Z("H",Ld),Z("h",Ld),Z("HH",Ld,Hd),Z("hh",Ld,Hd),Z("hmm",Md),Z("hmmss",Nd),Z("Hmm",Md),Z("Hmmss",Nd),ba(["H","HH"],ae),ba(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),ba(["h","hh"],function(a,b,c){b[ae]=u(a),m(c).bigHour=!0}),ba("hmm",function(a,b,c){var d=a.length-2;b[ae]=u(a.substr(0,d)),b[be]=u(a.substr(d)),m(c).bigHour=!0}),ba("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[ae]=u(a.substr(0,d)),b[be]=u(a.substr(d,2)),b[ce]=u(a.substr(e)),m(c).bigHour=!0}),ba("Hmm",function(a,b,c){var d=a.length-2;b[ae]=u(a.substr(0,d)),b[be]=u(a.substr(d))}),ba("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[ae]=u(a.substr(0,d)),b[be]=u(a.substr(d,2)),b[ce]=u(a.substr(e))});var te,ue=/[ap]\.?m?\.?/i,ve=O("Hours",!0),we={calendar:ud,longDateFormat:vd,invalidDate:wd,ordinal:xd,ordinalParse:yd,relativeTime:zd,months:he,monthsShort:ie,week:me,weekdays:ne,weekdaysMin:pe,weekdaysShort:oe,meridiemParse:ue},xe={},ye=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ze=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ae=/Z|[+-]\d\d(?::?\d\d)?/,Be=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ce=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],De=/^\/?Date\((\-?\d+)/i;b.createFromInputFallback=x("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),b.ISO_8601=function(){};var Ee=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=sb.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:o()}),Fe=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=sb.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:o()}),Ge=function(){return Date.now?Date.now():+new Date};zb("Z",":"),zb("ZZ",""),Z("Z",Ud),Z("ZZ",Ud),ba(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ab(Ud,a)});var He=/([\+\-]|\d\d)/gi;b.updateOffset=function(){};var Ie=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Je=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ob.fn=wb.prototype;var Ke=Sb(1,"add"),Le=Sb(-1,"subtract");b.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",b.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Me=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),yc("gggg","weekYear"),yc("ggggg","weekYear"),yc("GGGG","isoWeekYear"),yc("GGGGG","isoWeekYear"),J("weekYear","gg"),J("isoWeekYear","GG"),M("weekYear",1),M("isoWeekYear",1),Z("G",Sd),Z("g",Sd),Z("GG",Ld,Hd),Z("gg",Ld,Hd),Z("GGGG",Pd,Jd),Z("gggg",Pd,Jd),Z("GGGGG",Qd,Kd),Z("ggggg",Qd,Kd),ca(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=u(a)}),ca(["gg","GG"],function(a,c,d,e){c[e]=b.parseTwoDigitYear(a)}),U("Q",0,"Qo","quarter"),J("quarter","Q"),M("quarter",7),Z("Q",Gd),ba("Q",function(a,b){b[$d]=3*(u(a)-1)}),U("D",["DD",2],"Do","date"),J("date","D"),M("date",9),Z("D",Ld),Z("DD",Ld,Hd),Z("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),ba(["D","DD"],_d),ba("Do",function(a,b){b[_d]=u(a.match(Ld)[0],10)});var Ne=O("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),J("dayOfYear","DDD"),M("dayOfYear",4),Z("DDD",Od),Z("DDDD",Id),ba(["DDD","DDDD"],function(a,b,c){c._dayOfYear=u(a)}),U("m",["mm",2],0,"minute"),J("minute","m"),M("minute",14),Z("m",Ld),Z("mm",Ld,Hd),ba(["m","mm"],be);var Oe=O("Minutes",!1);U("s",["ss",2],0,"second"),J("second","s"),M("second",15),Z("s",Ld),Z("ss",Ld,Hd),ba(["s","ss"],ce);var Pe=O("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),J("millisecond","ms"),M("millisecond",16),Z("S",Od,Gd),Z("SS",Od,Hd),Z("SSS",Od,Id);var Qe;for(Qe="SSSS";Qe.length<=9;Qe+="S")Z(Qe,Rd);for(Qe="S";Qe.length<=9;Qe+="S")ba(Qe,Hc);var Re=O("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var Se=r.prototype;Se.add=Ke,Se.calendar=Vb,Se.clone=Wb,Se.diff=bc,Se.endOf=nc,Se.format=fc,Se.from=gc,Se.fromNow=hc,Se.to=ic,Se.toNow=jc,Se.get=R,Se.invalidAt=wc,Se.isAfter=Xb,Se.isBefore=Yb,Se.isBetween=Zb,Se.isSame=$b,Se.isSameOrAfter=_b,Se.isSameOrBefore=ac,Se.isValid=uc,Se.lang=Me,Se.locale=kc,Se.localeData=lc,Se.max=Fe,Se.min=Ee,Se.parsingFlags=vc,Se.set=S,Se.startOf=mc,Se.subtract=Le,Se.toArray=rc,Se.toObject=sc,Se.toDate=qc,Se.toISOString=ec,Se.toJSON=tc,Se.toString=dc,Se.unix=pc,Se.valueOf=oc,Se.creationData=xc,Se.year=le,Se.isLeapYear=ra,Se.weekYear=zc,Se.isoWeekYear=Ac,Se.quarter=Se.quarters=Fc,Se.month=ka,Se.daysInMonth=la,Se.week=Se.weeks=Ba,Se.isoWeek=Se.isoWeeks=Ca,Se.weeksInYear=Cc,Se.isoWeeksInYear=Bc,Se.date=Ne,Se.day=Se.days=Ka,Se.weekday=La,Se.isoWeekday=Ma,Se.dayOfYear=Gc,Se.hour=Se.hours=ve,Se.minute=Se.minutes=Oe,Se.second=Se.seconds=Pe,Se.millisecond=Se.milliseconds=Re,Se.utcOffset=Db,Se.utc=Fb,Se.local=Gb,Se.parseZone=Hb,Se.hasAlignedHourOffset=Ib,Se.isDST=Jb,Se.isLocal=Lb,Se.isUtcOffset=Mb,Se.isUtc=Nb,Se.isUTC=Nb,Se.zoneAbbr=Ic,Se.zoneName=Jc,Se.dates=x("dates accessor is deprecated. Use date instead.",Ne),Se.months=x("months accessor is deprecated. Use month instead",ka),Se.years=x("years accessor is deprecated. Use year instead",le),Se.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Eb),Se.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kb);var Te=Se,Ue=C.prototype;Ue.calendar=D,Ue.longDateFormat=E,Ue.invalidDate=F,Ue.ordinal=G,Ue.preparse=Mc,Ue.postformat=Mc,Ue.relativeTime=H,Ue.pastFuture=I,Ue.set=A,Ue.months=fa,Ue.monthsShort=ga,Ue.monthsParse=ia,Ue.monthsRegex=na,Ue.monthsShortRegex=ma,Ue.week=ya,Ue.firstDayOfYear=Aa,Ue.firstDayOfWeek=za,Ue.weekdays=Fa,Ue.weekdaysMin=Ha,Ue.weekdaysShort=Ga,Ue.weekdaysParse=Ja,Ue.weekdaysRegex=Na,Ue.weekdaysShortRegex=Oa,Ue.weekdaysMinRegex=Pa,Ue.isPM=Va,Ue.meridiem=Wa,$a("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),b.lang=x("moment.lang is deprecated. Use moment.locale instead.",$a),b.langData=x("moment.langData is deprecated. Use moment.localeData instead.",bb);var Ve=Math.abs,We=dd("ms"),Xe=dd("s"),Ye=dd("m"),Ze=dd("h"),$e=dd("d"),_e=dd("w"),af=dd("M"),bf=dd("y"),cf=fd("milliseconds"),df=fd("seconds"),ef=fd("minutes"),ff=fd("hours"),gf=fd("days"),hf=fd("months"),jf=fd("years"),kf=Math.round,lf={s:45,m:45,h:22,d:26,M:11},mf=Math.abs,nf=wb.prototype;nf.abs=Vc,nf.add=Xc,nf.subtract=Yc,nf.as=bd,nf.asMilliseconds=We,nf.asSeconds=Xe,nf.asMinutes=Ye,nf.asHours=Ze,nf.asDays=$e,nf.asWeeks=_e,nf.asMonths=af,nf.asYears=bf,nf.valueOf=cd,nf._bubble=$c,nf.get=ed,nf.milliseconds=cf,nf.seconds=df,nf.minutes=ef,nf.hours=ff,nf.days=gf,nf.weeks=gd,nf.months=hf,nf.years=jf,nf.humanize=ld,nf.toISOString=md,nf.toString=md,nf.toJSON=md,nf.locale=kc,nf.localeData=lc,nf.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",md),nf.lang=Me,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Z("x",Sd),Z("X",Vd),ba("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),ba("x",function(a,b,c){c._d=new Date(u(a))}),b.version="2.15.2",c(sb),b.fn=Te,b.min=ub,b.max=vb,b.now=Ge,b.utc=k,b.unix=Kc,b.months=Qc,b.isDate=g,b.locale=$a,b.invalid=o,b.duration=Ob,b.isMoment=s,b.weekdays=Sc,b.parseZone=Lc,b.localeData=bb,b.isDuration=xb,b.monthsShort=Rc,b.weekdaysMin=Uc,b.defineLocale=_a,b.updateLocale=ab,b.locales=cb,b.weekdaysShort=Tc,b.normalizeUnits=K,b.relativeTimeRounding=jd,b.relativeTimeThreshold=kd,b.calendarFormat=Ub,b.prototype=Te;var of=b;return of})}).call(b,c(4)(a))},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(a,b){function c(a){throw new Error("Cannot find module '"+a+"'.")}c.keys=function(){return[]},c.resolve=c,a.exports=c,c.id=5},function(a,b){(function(b){function c(a,b,c){var d=b&&c||0,e=0;for(b=b||[],a.toLowerCase().replace(/[0-9a-f]{2}/g,function(a){e<16&&(b[d+e++]=l[a])});e<16;)b[d+e++]=0;return b}function d(a,b){var c=b||0,d=k;return d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]}function e(a,b,c){var e=b&&c||0,f=b||[];a=a||{};var g=void 0!==a.clockseq?a.clockseq:p,h=void 0!==a.msecs?a.msecs:(new Date).getTime(),i=void 0!==a.nsecs?a.nsecs:r+1,j=h-q+(i-r)/1e4;if(j<0&&void 0===a.clockseq&&(g=g+1&16383),(j<0||h>q)&&void 0===a.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");q=h,r=i,p=g,h+=122192928e5;var k=(1e4*(268435455&h)+i)%4294967296;f[e++]=k>>>24&255,f[e++]=k>>>16&255,f[e++]=k>>>8&255,f[e++]=255&k;
var l=h/4294967296*1e4&268435455;f[e++]=l>>>8&255,f[e++]=255&l,f[e++]=l>>>24&15|16,f[e++]=l>>>16&255,f[e++]=g>>>8|128,f[e++]=255&g;for(var m=a.node||o,n=0;n<6;n++)f[e+n]=m[n];return b?b:d(f)}function f(a,b,c){var e=b&&c||0;"string"==typeof a&&(b="binary"==a?new Array(16):null,a=null),a=a||{};var f=a.random||(a.rng||g)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,b)for(var h=0;h<16;h++)b[e+h]=f[h];return b||d(f)}var g,h="undefined"!=typeof window?window:"undefined"!=typeof b?b:null;if(h&&h.crypto&&crypto.getRandomValues){var i=new Uint8Array(16);g=function(){return crypto.getRandomValues(i),i}}if(!g){var j=new Array(16);g=function(){for(var a,b=0;b<16;b++)0===(3&b)&&(a=4294967296*Math.random()),j[b]=a>>>((3&b)<<3)&255;return j}}for(var k=[],l={},m=0;m<256;m++)k[m]=(m+256).toString(16).substr(1),l[k[m]]=m;var n=g(),o=[1|n[0],n[1],n[2],n[3],n[4],n[5]],p=16383&(n[6]<<8|n[7]),q=0,r=0,s=f;s.v1=e,s.v4=f,s.parse=c,s.unparse=d,a.exports=s}).call(b,function(){return this}())},function(a,b,c){b.util=c(1),b.DOMutil=c(8),b.DataSet=c(9),b.DataView=c(11),b.Queue=c(10),b.Graph3d=c(12),b.graph3d={Camera:c(16),Filter:c(17),Point2d:c(15),Point3d:c(14),Slider:c(18),StepNumber:c(19)},b.moment=c(2),b.Hammer=c(22),b.keycharm=c(25)},function(a,b){b.prepareElements=function(a){for(var b in a)a.hasOwnProperty(b)&&(a[b].redundant=a[b].used,a[b].used=[])},b.cleanupElements=function(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b].redundant){for(var c=0;c<a[b].redundant.length;c++)a[b].redundant[c].parentNode.removeChild(a[b].redundant[c]);a[b].redundant=[]}},b.resetElements=function(a){b.prepareElements(a),b.cleanupElements(a),b.prepareElements(a)},b.getSVGElement=function(a,b,c){var d;return b.hasOwnProperty(a)?b[a].redundant.length>0?(d=b[a].redundant[0],b[a].redundant.shift()):(d=document.createElementNS("http://www.w3.org/2000/svg",a),c.appendChild(d)):(d=document.createElementNS("http://www.w3.org/2000/svg",a),b[a]={used:[],redundant:[]},c.appendChild(d)),b[a].used.push(d),d},b.getDOMElement=function(a,b,c,d){var e;return b.hasOwnProperty(a)?b[a].redundant.length>0?(e=b[a].redundant[0],b[a].redundant.shift()):(e=document.createElement(a),void 0!==d?c.insertBefore(e,d):c.appendChild(e)):(e=document.createElement(a),b[a]={used:[],redundant:[]},void 0!==d?c.insertBefore(e,d):c.appendChild(e)),b[a].used.push(e),e},b.drawPoint=function(a,c,d,e,f,g){var h;if("circle"==d.style?(h=b.getSVGElement("circle",e,f),h.setAttributeNS(null,"cx",a),h.setAttributeNS(null,"cy",c),h.setAttributeNS(null,"r",.5*d.size)):(h=b.getSVGElement("rect",e,f),h.setAttributeNS(null,"x",a-.5*d.size),h.setAttributeNS(null,"y",c-.5*d.size),h.setAttributeNS(null,"width",d.size),h.setAttributeNS(null,"height",d.size)),void 0!==d.styles&&h.setAttributeNS(null,"style",d.styles),h.setAttributeNS(null,"class",d.className+" vis-point"),g){var i=b.getSVGElement("text",e,f);g.xOffset&&(a+=g.xOffset),g.yOffset&&(c+=g.yOffset),g.content&&(i.textContent=g.content),g.className&&i.setAttributeNS(null,"class",g.className+" vis-label"),i.setAttributeNS(null,"x",a),i.setAttributeNS(null,"y",c)}return h},b.drawBar=function(a,c,d,e,f,g,h,i){if(0!=e){e<0&&(e*=-1,c-=e);var j=b.getSVGElement("rect",g,h);j.setAttributeNS(null,"x",a-.5*d),j.setAttributeNS(null,"y",c),j.setAttributeNS(null,"width",d),j.setAttributeNS(null,"height",e),j.setAttributeNS(null,"class",f),i&&j.setAttributeNS(null,"style",i)}}},function(a,b,c){function d(a,b){if(a&&!Array.isArray(a)&&(b=a,a=null),this._options=b||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var c=Object.keys(this._options.type),d=0,e=c.length;d<e;d++){var f=c[d],g=this._options.type[f];"Date"==g||"ISODate"==g||"ASPDate"==g?this._type[f]="Date":this._type[f]=g}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={},a&&this.add(a),this.setOptions(b)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(1),g=c(10);d.prototype.setOptions=function(a){a&&void 0!==a.queue&&(a.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=g.extend(this,{replace:["add","update","remove"]})),"object"===e(a.queue)&&this._queue.setOptions(a.queue)))},d.prototype.on=function(a,b){var c=this._subscribers[a];c||(c=[],this._subscribers[a]=c),c.push({callback:b})},d.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")},d.prototype.off=function(a,b){var c=this._subscribers[a];c&&(this._subscribers[a]=c.filter(function(a){return a.callback!=b}))},d.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")},d.prototype._trigger=function(a,b,c){if("*"==a)throw new Error("Cannot trigger event *");var d=[];a in this._subscribers&&(d=d.concat(this._subscribers[a])),"*"in this._subscribers&&(d=d.concat(this._subscribers["*"]));for(var e=0,f=d.length;e<f;e++){var g=d[e];g.callback&&g.callback(a,b,c||null)}},d.prototype.add=function(a,b){var c,d=[],e=this;if(Array.isArray(a))for(var f=0,g=a.length;f<g;f++)c=e._addItem(a[f]),d.push(c);else{if(!(a instanceof Object))throw new Error("Unknown dataType");c=e._addItem(a),d.push(c)}return d.length&&this._trigger("add",{items:d},b),d},d.prototype.update=function(a,b){var c=[],d=[],e=[],g=[],h=this,i=h._fieldId,j=function(a){var b=a[i];if(h._data[b]){var j=f.extend({},h._data[b]);b=h._updateItem(a),d.push(b),g.push(a),e.push(j)}else b=h._addItem(a),c.push(b)};if(Array.isArray(a))for(var k=0,l=a.length;k<l;k++)a[k]instanceof Object?j(a[k]):console.warn("Ignoring input item, which is not an object at index "+k);else{if(!(a instanceof Object))throw new Error("Unknown dataType");j(a)}if(c.length&&this._trigger("add",{items:c},b),d.length){var m={items:d,oldData:e,data:g};this._trigger("update",m,b)}return c.concat(d)},d.prototype.get=function(a){var b,c,d,e=this,g=f.getType(arguments[0]);"String"==g||"Number"==g?(b=arguments[0],d=arguments[1]):"Array"==g?(c=arguments[0],d=arguments[1]):d=arguments[0];var h;if(d&&d.returnType){var i=["Array","Object"];h=i.indexOf(d.returnType)==-1?"Array":d.returnType}else h="Array";var j,k,l,m,n,o=d&&d.type||this._options.type,p=d&&d.filter,q=[];if(void 0!=b)j=e._getItem(b,o),j&&p&&!p(j)&&(j=null);else if(void 0!=c)for(m=0,n=c.length;m<n;m++)j=e._getItem(c[m],o),p&&!p(j)||q.push(j);else for(k=Object.keys(this._data),m=0,n=k.length;m<n;m++)l=k[m],j=e._getItem(l,o),p&&!p(j)||q.push(j);if(d&&d.order&&void 0==b&&this._sort(q,d.order),d&&d.fields){var r=d.fields;if(void 0!=b)j=this._filterFields(j,r);else for(m=0,n=q.length;m<n;m++)q[m]=this._filterFields(q[m],r)}if("Object"==h){var s,t={};for(m=0,n=q.length;m<n;m++)s=q[m],t[s.id]=s;return t}return void 0!=b?j:q},d.prototype.getIds=function(a){var b,c,d,e,f,g=this._data,h=a&&a.filter,i=a&&a.order,j=a&&a.type||this._options.type,k=Object.keys(g),l=[];if(h)if(i){for(f=[],b=0,c=k.length;b<c;b++)d=k[b],e=this._getItem(d,j),h(e)&&f.push(e);for(this._sort(f,i),b=0,c=f.length;b<c;b++)l.push(f[b][this._fieldId])}else for(b=0,c=k.length;b<c;b++)d=k[b],e=this._getItem(d,j),h(e)&&l.push(e[this._fieldId]);else if(i){for(f=[],b=0,c=k.length;b<c;b++)d=k[b],f.push(g[d]);for(this._sort(f,i),b=0,c=f.length;b<c;b++)l.push(f[b][this._fieldId])}else for(b=0,c=k.length;b<c;b++)d=k[b],e=g[d],l.push(e[this._fieldId]);return l},d.prototype.getDataSet=function(){return this},d.prototype.forEach=function(a,b){var c,d,e,f,g=b&&b.filter,h=b&&b.type||this._options.type,i=this._data,j=Object.keys(i);if(b&&b.order){var k=this.get(b);for(c=0,d=k.length;c<d;c++)e=k[c],f=e[this._fieldId],a(e,f)}else for(c=0,d=j.length;c<d;c++)f=j[c],e=this._getItem(f,h),g&&!g(e)||a(e,f)},d.prototype.map=function(a,b){var c,d,e,f,g=b&&b.filter,h=b&&b.type||this._options.type,i=[],j=this._data,k=Object.keys(j);for(c=0,d=k.length;c<d;c++)e=k[c],f=this._getItem(e,h),g&&!g(f)||i.push(a(f,e));return b&&b.order&&this._sort(i,b.order),i},d.prototype._filterFields=function(a,b){if(!a)return a;var c,d,e={},f=Object.keys(a),g=f.length;if(Array.isArray(b))for(c=0;c<g;c++)d=f[c],b.indexOf(d)!=-1&&(e[d]=a[d]);else for(c=0;c<g;c++)d=f[c],b.hasOwnProperty(d)&&(e[b[d]]=a[d]);return e},d.prototype._sort=function(a,b){if(f.isString(b)){var c=b;a.sort(function(a,b){var d=a[c],e=b[c];return d>e?1:d<e?-1:0})}else{if("function"!=typeof b)throw new TypeError("Order must be a function or a string");a.sort(b)}},d.prototype.remove=function(a,b){var c,d,e,f,g=[],h=[],i=[];for(i=Array.isArray(a)?a:[a],c=0,d=i.length;c<d;c++)f=this._remove(i[c]),f&&(e=f[this._fieldId],e&&(g.push(e),h.push(f)));return g.length&&this._trigger("remove",{items:g,oldData:h},b),g},d.prototype._remove=function(a){var b,c;return f.isNumber(a)||f.isString(a)?c=a:a instanceof Object&&(c=a[this._fieldId]),void 0!==c&&this._data[c]?(b=this._data[c],delete this._data[c],this.length--,b):null},d.prototype.clear=function(a){var b,c,d=Object.keys(this._data),e=[];for(b=0,c=d.length;b<c;b++)e.push(this._data[d[b]]);return this._data={},this.length=0,this._trigger("remove",{items:d,oldData:e},a),d},d.prototype.max=function(a){var b,c,d=this._data,e=Object.keys(d),f=null,g=null;for(b=0,c=e.length;b<c;b++){var h=e[b],i=d[h],j=i[a];null!=j&&(!f||j>g)&&(f=i,g=j)}return f},d.prototype.min=function(a){var b,c,d=this._data,e=Object.keys(d),f=null,g=null;for(b=0,c=e.length;b<c;b++){var h=e[b],i=d[h],j=i[a];null!=j&&(!f||j<g)&&(f=i,g=j)}return f},d.prototype.distinct=function(a){var b,c,d,e=this._data,g=Object.keys(e),h=[],i=this._options.type&&this._options.type[a]||null,j=0;for(b=0,d=g.length;b<d;b++){var k=g[b],l=e[k],m=l[a],n=!1;for(c=0;c<j;c++)if(h[c]==m){n=!0;break}n||void 0===m||(h[j]=m,j++)}if(i)for(b=0,d=h.length;b<d;b++)h[b]=f.convert(h[b],i);return h},d.prototype._addItem=function(a){var b=a[this._fieldId];if(void 0!=b){if(this._data[b])throw new Error("Cannot add item: item with id "+b+" already exists")}else b=f.randomUUID(),a[this._fieldId]=b;var c,d,e={},g=Object.keys(a);for(c=0,d=g.length;c<d;c++){var h=g[c],i=this._type[h];e[h]=f.convert(a[h],i)}return this._data[b]=e,this.length++,b},d.prototype._getItem=function(a,b){var c,d,e,g,h=this._data[a];if(!h)return null;var i={},j=Object.keys(h);if(b)for(e=0,g=j.length;e<g;e++)c=j[e],d=h[c],i[c]=f.convert(d,b[c]);else for(e=0,g=j.length;e<g;e++)c=j[e],d=h[c],i[c]=d;return i},d.prototype._updateItem=function(a){var b=a[this._fieldId];if(void 0==b)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(a)+")");var c=this._data[b];if(!c)throw new Error("Cannot update item: no item with id "+b+" found");for(var d=Object.keys(a),e=0,g=d.length;e<g;e++){var h=d[e],i=this._type[h];c[h]=f.convert(a[h],i)}return b},a.exports=d},function(a,b){function c(a){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(a)}c.prototype.setOptions=function(a){a&&"undefined"!=typeof a.delay&&(this.delay=a.delay),a&&"undefined"!=typeof a.max&&(this.max=a.max),this._flushIfNeeded()},c.extend=function(a,b){var d=new c(b);if(void 0!==a.flush)throw new Error("Target object already has a property flush");a.flush=function(){d.flush()};var e=[{name:"flush",original:void 0}];if(b&&b.replace)for(var f=0;f<b.replace.length;f++){var g=b.replace[f];e.push({name:g,original:a[g]}),d.replace(a,g)}return d._extended={object:a,methods:e},d},c.prototype.destroy=function(){if(this.flush(),this._extended){for(var a=this._extended.object,b=this._extended.methods,c=0;c<b.length;c++){var d=b[c];d.original?a[d.name]=d.original:delete a[d.name]}this._extended=null}},c.prototype.replace=function(a,b){var c=this,d=a[b];if(!d)throw new Error("Method "+b+" undefined");a[b]=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];c.queue({args:a,fn:d,context:this})}},c.prototype.queue=function(a){"function"==typeof a?this._queue.push({fn:a}):this._queue.push(a),this._flushIfNeeded()},c.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var a=this;this._timeout=setTimeout(function(){a.flush()},this.delay)}},c.prototype.flush=function(){for(;this._queue.length>0;){var a=this._queue.shift();a.fn.apply(a.context||a.fn,a.args||[])}},a.exports=c},function(a,b,c){function d(a,b){this._data=null,this._ids={},this.length=0,this._options=b||{},this._fieldId="id",this._subscribers={};var c=this;this.listener=function(){c._onEvent.apply(c,arguments)},this.setData(a)}var e=c(1),f=c(9);d.prototype.setData=function(a){var b,c,d,e,f;if(this._data){for(this._data.off&&this._data.off("*",this.listener),b=this._data.getIds({filter:this._options&&this._options.filter}),f=[],d=0,e=b.length;d<e;d++)f.push(this._data._data[b[d]]);this._ids={},this.length=0,this._trigger("remove",{items:b,oldData:f})}if(this._data=a,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",b=this._data.getIds({filter:this._options&&this._options.filter}),d=0,e=b.length;d<e;d++)c=b[d],this._ids[c]=!0;this.length=b.length,this._trigger("add",{items:b}),this._data.on&&this._data.on("*",this.listener)}},d.prototype.refresh=function(){var a,b,c,d=this._data.getIds({filter:this._options&&this._options.filter}),e=Object.keys(this._ids),f={},g=[],h=[],i=[];for(b=0,c=d.length;b<c;b++)a=d[b],f[a]=!0,this._ids[a]||(g.push(a),this._ids[a]=!0);for(b=0,c=e.length;b<c;b++)a=e[b],f[a]||(h.push(a),i.push(this._data[a]),delete this._ids[a]);this.length+=g.length-h.length,g.length&&this._trigger("add",{items:g}),h.length&&this._trigger("remove",{items:h,oldData:i})},d.prototype.get=function(a){var b,c,d,f=this,g=e.getType(arguments[0]);"String"==g||"Number"==g||"Array"==g?(b=arguments[0],c=arguments[1],d=arguments[2]):(c=arguments[0],d=arguments[1]);var h=e.extend({},this._options,c);this._options.filter&&c&&c.filter&&(h.filter=function(a){return f._options.filter(a)&&c.filter(a)});var i=[];return void 0!=b&&i.push(b),i.push(h),i.push(d),this._data&&this._data.get.apply(this._data,i)},d.prototype.getIds=function(a){var b;if(this._data){var c,d=this._options.filter;c=a&&a.filter?d?function(b){return d(b)&&a.filter(b)}:a.filter:d,b=this._data.getIds({filter:c,order:a&&a.order})}else b=[];return b},d.prototype.map=function(a,b){var c=[];if(this._data){var d,e=this._options.filter;d=b&&b.filter?e?function(a){return e(a)&&b.filter(a)}:b.filter:e,c=this._data.map(a,{filter:d,order:b&&b.order})}else c=[];return c},d.prototype.getDataSet=function(){for(var a=this;a instanceof d;)a=a._data;return a||null},d.prototype._onEvent=function(a,b,c){var d,e,f,g,h=b&&b.items,i=[],j=[],k=[],l=[],m=[],n=[];if(h&&this._data){switch(a){case"add":for(d=0,e=h.length;d<e;d++)f=h[d],g=this.get(f),g&&(this._ids[f]=!0,i.push(f));break;case"update":for(d=0,e=h.length;d<e;d++)f=h[d],g=this.get(f),g?this._ids[f]?(j.push(f),m.push(b.data[d]),l.push(b.oldData[d])):(this._ids[f]=!0,i.push(f)):this._ids[f]&&(delete this._ids[f],k.push(f),n.push(b.oldData[d]));break;case"remove":for(d=0,e=h.length;d<e;d++)f=h[d],this._ids[f]&&(delete this._ids[f],k.push(f),n.push(b.oldData[d]))}this.length+=i.length-k.length,i.length&&this._trigger("add",{items:i},c),j.length&&this._trigger("update",{items:j,oldData:l,data:m},c),k.length&&this._trigger("remove",{items:k,oldData:n},c)}},d.prototype.on=f.prototype.on,d.prototype.off=f.prototype.off,d.prototype._trigger=f.prototype._trigger,d.prototype.subscribe=d.prototype.on,d.prototype.unsubscribe=d.prototype.off,a.exports=d},function(a,b,c){function d(a,b,c){if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=a,this.dataTable=null,this.dataPoints=null,this.create(),q.setDefaults(s,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.setOptions(c),b&&this.setData(b)}function e(a){return"clientX"in a?a.clientX:a.targetTouches[0]&&a.targetTouches[0].clientX||0}function f(a){return"clientY"in a?a.clientY:a.targetTouches[0]&&a.targetTouches[0].clientY||0}var g=c(13),h=c(9),i=c(11),j=c(1),k=c(14),l=c(15),m=(c(16),c(17)),n=c(18),o=c(19),p=c(20),q=c(21);d.STYLE=q.STYLE;var r=void 0,s={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(a){return a},yValueLabel:function(a){return a},zValueLabel:function(a){return a},showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,showAnimationControls:r,animationInterval:1e3,animationPreload:!1,animationAutoStart:r,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:d.STYLE.DOT,tooltip:!1,showLegend:r,backgroundColor:r,dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},xBarWidth:r,yBarWidth:r,valueMin:r,valueMax:r,xMin:r,xMax:r,xStep:r,yMin:r,yMax:r,yStep:r,zMin:r,zMax:r,zStep:r};g(d.prototype),d.prototype._setScale=function(){this.scale=new k(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var a=this.xRange.center()*this.scale.x,b=this.yRange.center()*this.scale.y,c=this.zRange.center()*this.scale.z;this.camera.setArmLocation(a,b,c)},d.prototype._convert3Dto2D=function(a){var b=this._convertPointToTranslation(a);return this._convertTranslationToScreen(b)},d.prototype._convertPointToTranslation=function(a){var b=this.camera.getCameraLocation(),c=this.camera.getCameraRotation(),d=a.x*this.scale.x,e=a.y*this.scale.y,f=a.z*this.scale.z,g=b.x,h=b.y,i=b.z,j=Math.sin(c.x),l=Math.cos(c.x),m=Math.sin(c.y),n=Math.cos(c.y),o=Math.sin(c.z),p=Math.cos(c.z),q=n*(o*(e-h)+p*(d-g))-m*(f-i),r=j*(n*(f-i)+m*(o*(e-h)+p*(d-g)))+l*(p*(e-h)-o*(d-g)),s=l*(n*(f-i)+m*(o*(e-h)+p*(d-g)))-j*(p*(e-h)-o*(d-g));return new k(q,r,s)},d.prototype._convertTranslationToScreen=function(a){var b,c,d=this.eye.x,e=this.eye.y,f=this.eye.z,g=a.x,h=a.y,i=a.z;return this.showPerspective?(b=(g-d)*(f/i),c=(h-e)*(f/i)):(b=g*-(f/this.camera.getArmLength()),c=h*-(f/this.camera.getArmLength())),new l(this.currentXCenter+b*this.frame.canvas.clientWidth,this.currentYCenter-c*this.frame.canvas.clientWidth)},d.prototype._calcTranslations=function(a,b){void 0===b&&(b=!0);for(var c=0;c<a.length;c++){var d=a[c];d.trans=this._convertPointToTranslation(d.point),d.screen=this._convertTranslationToScreen(d.trans);var e=this._convertPointToTranslation(d.bottom);d.dist=this.showPerspective?e.length():-e.z}if(b){var f=function(a,b){return b.dist-a.dist};a.sort(f)}},d.prototype.getNumberOfRows=function(a){return a.length},d.prototype.getNumberOfColumns=function(a){var b=0;for(var c in a[0])a[0].hasOwnProperty(c)&&b++;return b},d.prototype.getDistinctValues=function(a,b){for(var c=[],d=0;d<a.length;d++)c.indexOf(a[d][b])==-1&&c.push(a[d][b]);return c},d.prototype.getColumnRange=function(a,b){for(var c=new p,d=0;d<a.length;d++){var e=a[d][b];c.adjust(e)}return c},d.prototype._checkValueField=function(a){var b=this.style===d.STYLE.BARCOLOR||this.style===d.STYLE.BARSIZE||this.style===d.STYLE.DOTCOLOR||this.style===d.STYLE.DOTSIZE;if(b){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===a[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},d.prototype._setRangeDefaults=function(a,b,c){void 0!==b&&(a.min=b),void 0!==c&&(a.max=c),a.max<=a.min&&(a.max=a.min+1)},d.prototype._dataInitialize=function(a,b){var c=this;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==a){Array.isArray(a)&&(a=new h(a));var e;if(!(a instanceof h||a instanceof i))throw new Error("Array, DataSet, or DataView expected");if(e=a.get(),0!=e.length){this.dataSet=a,this.dataTable=e,this._onChange=function(){c.setData(c.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var f=this.style==d.STYLE.BAR||this.style==d.STYLE.BARCOLOR||this.style==d.STYLE.BARSIZE;if(f){if(void 0!==this.defaultXBarWidth)this.xBarWidth=this.defaultXBarWidth;else{var g=this.getDistinctValues(e,this.colX);this.xBarWidth=g[1]-g[0]||1}if(void 0!==this.defaultYBarWidth)this.yBarWidth=this.defaultYBarWidth;else{var j=this.getDistinctValues(e,this.colY);this.yBarWidth=j[1]-j[0]||1}}var k=5,l=this.getColumnRange(e,this.colX);f&&l.expand(this.xBarWidth/2),this._setRangeDefaults(l,this.defaultXMin,this.defaultXMax),this.xRange=l,this.xStep=void 0!==this.defaultXStep?this.defaultXStep:l.range()/k;var n=this.getColumnRange(e,this.colY);f&&n.expand(this.yBarWidth/2),this._setRangeDefaults(n,this.defaultYMin,this.defaultYMax),this.yRange=n,this.yStep=void 0!==this.defaultYStep?this.defaultYStep:n.range()/k;var o=this.getColumnRange(e,this.colZ);if(this._setRangeDefaults(o,this.defaultZMin,this.defaultZMax),this.zRange=o,this.zStep=void 0!==this.defaultZStep?this.defaultZStep:o.range()/k,e[0].hasOwnProperty("style")){this.colValue="style";var p=this.getColumnRange(e,this.colValue);this._setRangeDefaults(p,this.defaultValueMin,this.defaultValueMax),this.valueRange=p}e[0].hasOwnProperty("filter")&&(this.colFilter="filter",void 0===this.dataFilter&&(this.dataFilter=new m(a,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){c.redraw()}))),this._setScale()}}},d.prototype._getDataPoints=function(a){var b,c,e,f,g,h,i=[];if(this.style===d.STYLE.GRID||this.style===d.STYLE.SURFACE){var j=[],l=[];for(e=0;e<this.getNumberOfRows(a);e++)b=a[e][this.colX]||0,c=a[e][this.colY]||0,j.indexOf(b)===-1&&j.push(b),l.indexOf(c)===-1&&l.push(c);var m=function(a,b){return a-b};j.sort(m),l.sort(m);var n=[];for(e=0;e<a.length;e++){b=a[e][this.colX]||0,c=a[e][this.colY]||0,f=a[e][this.colZ]||0;var o=j.indexOf(b),p=l.indexOf(c);void 0===n[o]&&(n[o]=[]);var q=new k;q.x=b,q.y=c,q.z=f,q.data=a[e],g={},g.point=q,g.trans=void 0,g.screen=void 0,g.bottom=new k(b,c,this.zRange.min),n[o][p]=g,i.push(g)}for(b=0;b<n.length;b++)for(c=0;c<n[b].length;c++)n[b][c]&&(n[b][c].pointRight=b<n.length-1?n[b+1][c]:void 0,n[b][c].pointTop=c<n[b].length-1?n[b][c+1]:void 0,n[b][c].pointCross=b<n.length-1&&c<n[b].length-1?n[b+1][c+1]:void 0)}else for(this._checkValueField(a),e=0;e<a.length;e++)h=new k,h.x=a[e][this.colX]||0,h.y=a[e][this.colY]||0,h.z=a[e][this.colZ]||0,h.data=a[e],void 0!==this.colValue&&(h.value=a[e][this.colValue]||0),g={},g.point=h,g.bottom=new k(h.x,h.y,this.zRange.min),g.trans=void 0,g.screen=void 0,this.style===d.STYLE.LINE&&e>0&&(i[e-1].pointNext=g),i.push(g);return i},d.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(a),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var b=this,c=function(a){b._onMouseDown(a)},d=function(a){b._onTouchStart(a)},e=function(a){b._onWheel(a)},f=function(a){b._onTooltip(a)};j.addEventListener(this.frame.canvas,"keydown",onkeydown),j.addEventListener(this.frame.canvas,"mousedown",c),j.addEventListener(this.frame.canvas,"touchstart",d),j.addEventListener(this.frame.canvas,"mousewheel",e),j.addEventListener(this.frame.canvas,"mousemove",f),this.containerElement.appendChild(this.frame)},d.prototype.setSize=function(a,b){this.frame.style.width=a,this.frame.style.height=b,this._resizeCanvas()},d.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},d.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()},d.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},d.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter),"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)},d.prototype.getCameraPosition=function(){var a=this.camera.getArmRotation();return a.distance=this.camera.getArmLength(),a},d.prototype._readData=function(a){this._dataInitialize(a,this.style),this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataTable),this._redrawFilter()},d.prototype.setData=function(a){this._readData(a),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},d.prototype.setOptions=function(a){this.animationStop(),q.setOptions(a,this),this.setPointDrawingMethod(),this.setSize(this.width,this.height),this.dataTable&&this.setData(this.dataTable),this.animationAutoStart&&this.dataFilter&&this.animationStart()},d.prototype.setPointDrawingMethod=function(){var a=void 0;switch(this.style){case d.STYLE.BAR:a=d.prototype._redrawBarGraphPoint;break;case d.STYLE.BARCOLOR:a=d.prototype._redrawBarColorGraphPoint;break;case d.STYLE.BARSIZE:a=d.prototype._redrawBarSizeGraphPoint;break;case d.STYLE.DOT:a=d.prototype._redrawDotGraphPoint;break;case d.STYLE.DOTLINE:a=d.prototype._redrawDotLineGraphPoint;break;case d.STYLE.DOTCOLOR:a=d.prototype._redrawDotColorGraphPoint;break;case d.STYLE.DOTSIZE:a=d.prototype._redrawDotSizeGraphPoint;break;case d.STYLE.SURFACE:a=d.prototype._redrawSurfaceGraphPoint;break;case d.STYLE.GRID:a=d.prototype._redrawGridGraphPoint;break;case d.STYLE.LINE:a=d.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=a},d.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},d.prototype._getContext=function(){var a=this.frame.canvas,b=a.getContext("2d");return b.lineJoin="round",b.lineCap="round",b},d.prototype._redrawClear=function(){var a=this.frame.canvas,b=a.getContext("2d");b.clearRect(0,0,a.width,a.height)},d.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},d.prototype._getLegendWidth=function(){var a;if(this.style===d.STYLE.DOTSIZE){var b=this._dotSize();a=b/2+2*b}else a=this.style===d.STYLE.BARSIZE?this.xBarWidth:20;return a},d.prototype._redrawLegend=function(){if(this.showLegend===!0&&this.style!==d.STYLE.LINE&&this.style!==d.STYLE.BARSIZE){var a=this.style===d.STYLE.BARSIZE||this.style===d.STYLE.DOTSIZE,b=this.style===d.STYLE.DOTSIZE||this.style===d.STYLE.DOTCOLOR||this.style===d.STYLE.BARCOLOR,c=Math.max(.25*this.frame.clientHeight,100),e=this.margin,f=this._getLegendWidth(),g=this.frame.clientWidth-this.margin,h=g-f,i=e+c,j=this._getContext();if(j.lineWidth=1,j.font="14px arial",a===!1){var k,m=0,n=c;for(k=m;k<n;k++){var p=(k-m)/(n-m),q=240*p,r=this._hsv2rgb(q,1,1);j.strokeStyle=r,j.beginPath(),j.moveTo(h,e+k),j.lineTo(g,e+k),j.stroke()}j.strokeStyle=this.axisColor,j.strokeRect(h,e,f,c)}else{var s;if(this.style===d.STYLE.DOTSIZE){var t=this._dotSize();s=t/2}else this.style===d.STYLE.BARSIZE;j.strokeStyle=this.axisColor,j.fillStyle=this.dataColor.fill,j.beginPath(),j.moveTo(h,e),j.lineTo(g,e),j.lineTo(g-f+s,i),j.lineTo(h,i),j.closePath(),j.fill(),j.stroke()}var u=5,v=b?this.valueRange.min:this.zRange.min,w=b?this.valueRange.max:this.zRange.max,x=new o(v,w,(w-v)/5,!0);x.start(!0);for(var k,y,z;!x.end();)k=i-(x.getCurrent()-v)/(w-v)*c,y=new l(h-u,k),z=new l(h,k),this._line(j,y,z),j.textAlign="right",j.textBaseline="middle",j.fillStyle=this.axisColor,j.fillText(x.getCurrent(),h-2*u,k),x.next();j.textAlign="right",j.textBaseline="top";var A=this.legendLabel;j.fillText(A,g,i+this.margin)}},d.prototype._redrawFilter=function(){if(this.frame.filter.innerHTML="",this.dataFilter){var a={visible:this.showAnimationControls},b=new n(this.frame.filter,a);this.frame.filter.slider=b,this.frame.filter.style.padding="10px",b.setValues(this.dataFilter.values),b.setPlayInterval(this.animationInterval);var c=this,d=function(){var a=b.getIndex();c.dataFilter.selectValue(a),c.dataPoints=c.dataFilter._getDataPoints(),c.redraw()};b.setOnChangeCallback(d)}else this.frame.filter.slider=void 0},d.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},d.prototype._redrawInfo=function(){if(this.dataFilter){var a=this._getContext();a.font="14px arial",a.lineStyle="gray",a.fillStyle="gray",a.textAlign="left",a.textBaseline="top";var b=this.margin,c=this.margin;a.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),b,c)}},d.prototype._line=function(a,b,c,d){void 0!==d&&(a.strokeStyle=d),a.beginPath(),a.moveTo(b.x,b.y),a.lineTo(c.x,c.y),a.stroke()},d.prototype.drawAxisLabelX=function(a,b,c,d,e){void 0===e&&(e=0);var f=this._convert3Dto2D(b);Math.cos(2*d)>0?(a.textAlign="center",a.textBaseline="top",f.y+=e):Math.sin(2*d)<0?(a.textAlign="right",a.textBaseline="middle"):(a.textAlign="left",a.textBaseline="middle"),a.fillStyle=this.axisColor,a.fillText(c,f.x,f.y)},d.prototype.drawAxisLabelY=function(a,b,c,d,e){void 0===e&&(e=0);var f=this._convert3Dto2D(b);Math.cos(2*d)<0?(a.textAlign="center",a.textBaseline="top",f.y+=e):Math.sin(2*d)>0?(a.textAlign="right",a.textBaseline="middle"):(a.textAlign="left",a.textBaseline="middle"),a.fillStyle=this.axisColor,a.fillText(c,f.x,f.y)},d.prototype.drawAxisLabelZ=function(a,b,c,d){void 0===d&&(d=0);var e=this._convert3Dto2D(b);a.textAlign="right",a.textBaseline="middle",a.fillStyle=this.axisColor,a.fillText(c,e.x-d,e.y)},d.prototype._line3d=function(a,b,c,d){var e=this._convert3Dto2D(b),f=this._convert3Dto2D(c);this._line(a,e,f,d)},d.prototype._redrawAxis=function(){var a,b,c,d,e,f,g,h,i,j,m,n=this._getContext();n.font=24/this.camera.getArmLength()+"px arial";var p=.025/this.scale.x,q=.025/this.scale.y,r=5/this.camera.getArmLength(),s=this.camera.getArmRotation().horizontal,t=new l(Math.cos(s),Math.sin(s)),u=this.xRange,v=this.yRange,w=this.zRange;for(n.lineWidth=1,d=void 0===this.defaultXStep,c=new o(u.min,u.max,this.xStep,d),c.start(!0);!c.end();){var x=c.getCurrent();this.showGrid?(a=new k(x,v.min,w.min),b=new k(x,v.max,w.min),this._line3d(n,a,b,this.gridColor)):(a=new k(x,v.min,w.min),b=new k(x,v.min+p,w.min),this._line3d(n,a,b,this.axisColor),a=new k(x,v.max,w.min),b=new k(x,v.max-p,w.min),this._line3d(n,a,b,this.axisColor)),g=t.x>0?v.min:v.max;var y=new k(x,g,w.min),z="  "+this.xValueLabel(x)+"  ";this.drawAxisLabelX(n,y,z,s,r),c.next()}for(n.lineWidth=1,d=void 0===this.defaultYStep,c=new o(v.min,v.max,this.yStep,d),c.start(!0);!c.end();){var A=c.getCurrent();this.showGrid?(a=new k(u.min,A,w.min),b=new k(u.max,A,w.min),this._line3d(n,a,b,this.gridColor)):(a=new k(u.min,A,w.min),b=new k(u.min+q,A,w.min),this._line3d(n,a,b,this.axisColor),
a=new k(u.max,A,w.min),b=new k(u.max-q,A,w.min),this._line3d(n,a,b,this.axisColor)),f=t.y>0?u.min:u.max,y=new k(f,A,w.min);var z="  "+this.yValueLabel(A)+"  ";this.drawAxisLabelY(n,y,z,s,r),c.next()}for(n.lineWidth=1,d=void 0===this.defaultZStep,c=new o(w.min,w.max,this.zStep,d),c.start(!0),f=t.x>0?u.min:u.max,g=t.y<0?v.min:v.max;!c.end();){var B=c.getCurrent(),C=new k(f,g,B),D=this._convert3Dto2D(C);b=new l(D.x-r,D.y),this._line(n,D,b,this.axisColor);var z=this.zValueLabel(B)+" ";this.drawAxisLabelZ(n,C,z,5),c.next()}n.lineWidth=1,a=new k(f,g,w.min),b=new k(f,g,w.max),this._line3d(n,a,b,this.axisColor);var E,F;n.lineWidth=1,E=new k(u.min,v.min,w.min),F=new k(u.max,v.min,w.min),this._line3d(n,E,F,this.axisColor),E=new k(u.min,v.max,w.min),F=new k(u.max,v.max,w.min),this._line3d(n,E,F,this.axisColor),n.lineWidth=1,a=new k(u.min,v.min,w.min),b=new k(u.min,v.max,w.min),this._line3d(n,a,b,this.axisColor),a=new k(u.max,v.min,w.min),b=new k(u.max,v.max,w.min),this._line3d(n,a,b,this.axisColor);var G=this.xLabel;G.length>0&&(m=.1/this.scale.y,f=u.center()/2,g=t.x>0?v.min-m:v.max+m,e=new k(f,g,w.min),this.drawAxisLabelX(n,e,G,s));var H=this.yLabel;H.length>0&&(j=.1/this.scale.x,f=t.y>0?u.min-j:u.max+j,g=v.center()/2,e=new k(f,g,w.min),this.drawAxisLabelY(n,e,H,s));var I=this.zLabel;I.length>0&&(i=30,f=t.x>0?u.min:u.max,g=t.y<0?v.min:v.max,h=w.center()/2,e=new k(f,g,h),this.drawAxisLabelZ(n,e,I,i))},d.prototype._hsv2rgb=function(a,b,c){var d,e,f,g,h,i;switch(g=c*b,h=Math.floor(a/60),i=g*(1-Math.abs(a/60%2-1)),h){case 0:d=g,e=i,f=0;break;case 1:d=i,e=g,f=0;break;case 2:d=0,e=g,f=i;break;case 3:d=0,e=i,f=g;break;case 4:d=i,e=0,f=g;break;case 5:d=g,e=0,f=i;break;default:d=0,e=0,f=0}return"RGB("+parseInt(255*d)+","+parseInt(255*e)+","+parseInt(255*f)+")"},d.prototype._getStrokeWidth=function(a){return void 0!==a?this.showPerspective?1/-a.trans.z*this.dataColor.strokeWidth:-(this.eye.z/this.camera.getArmLength())*this.dataColor.strokeWidth:this.dataColor.strokeWidth},d.prototype._redrawBar=function(a,b,c,d,e,f){var g,h,i=this,j=b.point,l=this.zRange.min,m=[{point:new k(j.x-c,j.y-d,j.z)},{point:new k(j.x+c,j.y-d,j.z)},{point:new k(j.x+c,j.y+d,j.z)},{point:new k(j.x-c,j.y+d,j.z)}],n=[{point:new k(j.x-c,j.y-d,l)},{point:new k(j.x+c,j.y-d,l)},{point:new k(j.x+c,j.y+d,l)},{point:new k(j.x-c,j.y+d,l)}];m.forEach(function(a){a.screen=i._convert3Dto2D(a.point)}),n.forEach(function(a){a.screen=i._convert3Dto2D(a.point)});var o=[{corners:m,center:k.avg(n[0].point,n[2].point)},{corners:[m[0],m[1],n[1],n[0]],center:k.avg(n[1].point,n[0].point)},{corners:[m[1],m[2],n[2],n[1]],center:k.avg(n[2].point,n[1].point)},{corners:[m[2],m[3],n[3],n[2]],center:k.avg(n[3].point,n[2].point)},{corners:[m[3],m[0],n[0],n[3]],center:k.avg(n[0].point,n[3].point)}];for(b.surfaces=o,g=0;g<o.length;g++){h=o[g];var p=this._convertPointToTranslation(h.center);h.dist=this.showPerspective?p.length():-p.z}for(o.sort(function(a,b){var c=b.dist-a.dist;return c?c:a.corners===m?1:b.corners===m?-1:0}),a.lineWidth=this._getStrokeWidth(b),a.strokeStyle=f,a.fillStyle=e,g=2;g<o.length;g++)h=o[g],this._polygon(a,h.corners)},d.prototype._polygon=function(a,b,c,d){if(!(b.length<2)){void 0!==c&&(a.fillStyle=c),void 0!==d&&(a.strokeStyle=d),a.beginPath(),a.moveTo(b[0].screen.x,b[0].screen.y);for(var e=1;e<b.length;++e){var f=b[e];a.lineTo(f.screen.x,f.screen.y)}a.closePath(),a.fill(),a.stroke()}},d.prototype._drawCircle=function(a,b,c,d,e){var f=this._calcRadius(b,e);a.lineWidth=this._getStrokeWidth(b),a.strokeStyle=d,a.fillStyle=c,a.beginPath(),a.arc(b.screen.x,b.screen.y,f,0,2*Math.PI,!0),a.fill(),a.stroke()},d.prototype._getColorsRegular=function(a){var b=240*(1-(a.point.z-this.zRange.min)*this.scale.z/this.verticalRatio),c=this._hsv2rgb(b,1,1),d=this._hsv2rgb(b,1,.8);return{fill:c,border:d}},d.prototype._getColorsColor=function(a){var b=240*(1-(a.point.value-this.valueRange.min)*this.scale.value),c=this._hsv2rgb(b,1,1),d=this._hsv2rgb(b,1,.8);return{fill:c,border:d}},d.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},d.prototype._calcRadius=function(a,b){void 0===b&&(b=this._dotSize());var c;return c=this.showPerspective?b/-a.trans.z:b*-(this.eye.z/this.camera.getArmLength()),c<0&&(c=0),c},d.prototype._redrawBarGraphPoint=function(a,b){var c=this.xBarWidth/2,d=this.yBarWidth/2,e=this._getColorsRegular(b);this._redrawBar(a,b,c,d,e.fill,e.border)},d.prototype._redrawBarColorGraphPoint=function(a,b){var c=this.xBarWidth/2,d=this.yBarWidth/2,e=this._getColorsColor(b);this._redrawBar(a,b,c,d,e.fill,e.border)},d.prototype._redrawBarSizeGraphPoint=function(a,b){var c=(b.point.value-this.valueRange.min)/this.valueRange.range(),d=this.xBarWidth/2*(.8*c+.2),e=this.yBarWidth/2*(.8*c+.2),f=this._getColorsSize();this._redrawBar(a,b,d,e,f.fill,f.border)},d.prototype._redrawDotGraphPoint=function(a,b){var c=this._getColorsRegular(b);this._drawCircle(a,b,c.fill,c.border)},d.prototype._redrawDotLineGraphPoint=function(a,b){var c=this._convert3Dto2D(b.bottom);a.lineWidth=1,this._line(a,c,b.screen,this.gridColor),this._redrawDotGraphPoint(a,b)},d.prototype._redrawDotColorGraphPoint=function(a,b){var c=this._getColorsColor(b);this._drawCircle(a,b,c.fill,c.border)},d.prototype._redrawDotSizeGraphPoint=function(a,b){var c=this._dotSize(),d=(b.point.value-this.valueRange.min)/this.valueRange.range(),e=c/2+2*c*d,f=this._getColorsSize();this._drawCircle(a,b,f.fill,f.border,e)},d.prototype._redrawSurfaceGraphPoint=function(a,b){var c=b.pointRight,d=b.pointTop,e=b.pointCross;if(void 0!==b&&void 0!==c&&void 0!==d&&void 0!==e){var f,g,h=!0;if(this.showGrayBottom||this.showShadow){var i=k.subtract(e.trans,b.trans),j=k.subtract(d.trans,c.trans),l=k.crossProduct(i,j),m=l.length();h=l.z>0}if(h){var n,o=(b.point.z+c.point.z+d.point.z+e.point.z)/4,p=240*(1-(o-this.zRange.min)*this.scale.z/this.verticalRatio),q=1;this.showShadow?(n=Math.min(1+l.x/m/2,1),f=this._hsv2rgb(p,q,n),g=f):(n=1,f=this._hsv2rgb(p,q,n),g=this.axisColor)}else f="gray",g=this.axisColor;a.lineWidth=this._getStrokeWidth(b);var r=[b,c,e,d];this._polygon(a,r,f,g)}},d.prototype._drawGridLine=function(a,b,c){if(void 0!==b&&void 0!==c){var d=(b.point.z+c.point.z)/2,e=240*(1-(d-this.zRange.min)*this.scale.z/this.verticalRatio);a.lineWidth=2*this._getStrokeWidth(b),a.strokeStyle=this._hsv2rgb(e,1,1),this._line(a,b.screen,c.screen)}},d.prototype._redrawGridGraphPoint=function(a,b){this._drawGridLine(a,b,b.pointRight),this._drawGridLine(a,b,b.pointTop)},d.prototype._redrawLineGraphPoint=function(a,b){void 0!==b.pointNext&&(a.lineWidth=this._getStrokeWidth(b),a.strokeStyle=this.dataColor.stroke,this._line(a,b.screen,b.pointNext.screen))},d.prototype._redrawDataGraph=function(){var a,b=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),a=0;a<this.dataPoints.length;a++){var c=this.dataPoints[a];this._pointDrawingMethod.call(this,b,c)}},d.prototype._onMouseDown=function(a){if(a=a||window.event,this.leftButtonDown&&this._onMouseUp(a),this.leftButtonDown=a.which?1===a.which:1===a.button,this.leftButtonDown||this.touchDown){this.startMouseX=e(a),this.startMouseY=f(a),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var b=this;this.onmousemove=function(a){b._onMouseMove(a)},this.onmouseup=function(a){b._onMouseUp(a)},j.addEventListener(document,"mousemove",b.onmousemove),j.addEventListener(document,"mouseup",b.onmouseup),j.preventDefault(a)}},d.prototype._onMouseMove=function(a){a=a||window.event;var b=parseFloat(e(a))-this.startMouseX,c=parseFloat(f(a))-this.startMouseY,d=this.startArmRotation.horizontal+b/200,g=this.startArmRotation.vertical+c/200,h=4,i=Math.sin(h/360*2*Math.PI);Math.abs(Math.sin(d))<i&&(d=Math.round(d/Math.PI)*Math.PI-.001),Math.abs(Math.cos(d))<i&&(d=(Math.round(d/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(g))<i&&(g=Math.round(g/Math.PI)*Math.PI),Math.abs(Math.cos(g))<i&&(g=(Math.round(g/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(d,g),this.redraw();var k=this.getCameraPosition();this.emit("cameraPositionChange",k),j.preventDefault(a)},d.prototype._onMouseUp=function(a){this.frame.style.cursor="auto",this.leftButtonDown=!1,j.removeEventListener(document,"mousemove",this.onmousemove),j.removeEventListener(document,"mouseup",this.onmouseup),j.preventDefault(a)},d.prototype._onTooltip=function(a){var b=300,c=this.frame.getBoundingClientRect(),d=e(a)-c.left,g=f(a)-c.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var h=this._dataPointFromXY(d,g);h!==this.tooltip.dataPoint&&(h?this._showTooltip(h):this._hideTooltip())}else{var i=this;this.tooltipTimeout=setTimeout(function(){i.tooltipTimeout=null;var a=i._dataPointFromXY(d,g);a&&i._showTooltip(a)},b)}}},d.prototype._onTouchStart=function(a){this.touchDown=!0;var b=this;this.ontouchmove=function(a){b._onTouchMove(a)},this.ontouchend=function(a){b._onTouchEnd(a)},j.addEventListener(document,"touchmove",b.ontouchmove),j.addEventListener(document,"touchend",b.ontouchend),this._onMouseDown(a)},d.prototype._onTouchMove=function(a){this._onMouseMove(a)},d.prototype._onTouchEnd=function(a){this.touchDown=!1,j.removeEventListener(document,"touchmove",this.ontouchmove),j.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(a)},d.prototype._onWheel=function(a){a||(a=window.event);var b=0;if(a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3),b){var c=this.camera.getArmLength(),d=c*(1-b/10);this.camera.setArmLength(d),this.redraw(),this._hideTooltip()}var e=this.getCameraPosition();this.emit("cameraPositionChange",e),j.preventDefault(a)},d.prototype._insideTriangle=function(a,b){function c(a){return a>0?1:a<0?-1:0}var d=b[0],e=b[1],f=b[2],g=c((e.x-d.x)*(a.y-d.y)-(e.y-d.y)*(a.x-d.x)),h=c((f.x-e.x)*(a.y-e.y)-(f.y-e.y)*(a.x-e.x)),i=c((d.x-f.x)*(a.y-f.y)-(d.y-f.y)*(a.x-f.x));return!(0!=g&&0!=h&&g!=h||0!=h&&0!=i&&h!=i||0!=g&&0!=i&&g!=i)},d.prototype._dataPointFromXY=function(a,b){var c,e=100,f=null,g=null,h=null,i=new l(a,b);if(this.style===d.STYLE.BAR||this.style===d.STYLE.BARCOLOR||this.style===d.STYLE.BARSIZE)for(c=this.dataPoints.length-1;c>=0;c--){f=this.dataPoints[c];var j=f.surfaces;if(j)for(var k=j.length-1;k>=0;k--){var m=j[k],n=m.corners,o=[n[0].screen,n[1].screen,n[2].screen],p=[n[2].screen,n[3].screen,n[0].screen];if(this._insideTriangle(i,o)||this._insideTriangle(i,p))return f}}else for(c=0;c<this.dataPoints.length;c++){f=this.dataPoints[c];var q=f.screen;if(q){var r=Math.abs(a-q.x),s=Math.abs(b-q.y),t=Math.sqrt(r*r+s*s);(null===h||t<h)&&t<e&&(h=t,g=f)}}return g},d.prototype._showTooltip=function(a){var b,c,d;this.tooltip?(b=this.tooltip.dom.content,c=this.tooltip.dom.line,d=this.tooltip.dom.dot):(b=document.createElement("div"),b.style.position="absolute",b.style.padding="10px",b.style.border="1px solid #4d4d4d",b.style.color="#1a1a1a",b.style.background="rgba(255,255,255,0.7)",b.style.borderRadius="2px",b.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",c=document.createElement("div"),c.style.position="absolute",c.style.height="40px",c.style.width="0",c.style.borderLeft="1px solid #4d4d4d",d=document.createElement("div"),d.style.position="absolute",d.style.height="0",d.style.width="0",d.style.border="5px solid #4d4d4d",d.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:b,line:c,dot:d}}),this._hideTooltip(),this.tooltip.dataPoint=a,"function"==typeof this.showTooltip?b.innerHTML=this.showTooltip(a.point):b.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+a.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+a.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+a.point.z+"</td></tr></table>",b.style.left="0",b.style.top="0",this.frame.appendChild(b),this.frame.appendChild(c),this.frame.appendChild(d);var e=b.offsetWidth,f=b.offsetHeight,g=c.offsetHeight,h=d.offsetWidth,i=d.offsetHeight,j=a.screen.x-e/2;j=Math.min(Math.max(j,10),this.frame.clientWidth-10-e),c.style.left=a.screen.x+"px",c.style.top=a.screen.y-g+"px",b.style.left=j+"px",b.style.top=a.screen.y-g-f+"px",d.style.left=a.screen.x-h/2+"px",d.style.top=a.screen.y-i/2+"px"},d.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var a in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(a)){var b=this.tooltip.dom[a];b&&b.parentNode&&b.parentNode.removeChild(b)}}},d.prototype.setCameraPosition=function(a){q.setCameraPosition(a,this),this.redraw()},a.exports=d},function(a,b){function c(a){if(a)return d(a)}function d(a){for(var b in c.prototype)a[b]=c.prototype[b];return a}a.exports=c,c.prototype.on=c.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},c.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return this._callbacks=this._callbacks||{},c.fn=b,this.on(a,c),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},c.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;d<e;++d)c[d].apply(this,b)}return this},c.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},c.prototype.hasListeners=function(a){return!!this.listeners(a).length}},function(a,b){function c(a,b,c){this.x=void 0!==a?a:0,this.y=void 0!==b?b:0,this.z=void 0!==c?c:0}c.subtract=function(a,b){var d=new c;return d.x=a.x-b.x,d.y=a.y-b.y,d.z=a.z-b.z,d},c.add=function(a,b){var d=new c;return d.x=a.x+b.x,d.y=a.y+b.y,d.z=a.z+b.z,d},c.avg=function(a,b){return new c((a.x+b.x)/2,(a.y+b.y)/2,(a.z+b.z)/2)},c.crossProduct=function(a,b){var d=new c;return d.x=a.y*b.z-a.z*b.y,d.y=a.z*b.x-a.x*b.z,d.z=a.x*b.y-a.y*b.x,d},c.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},a.exports=c},function(a,b){function c(a,b){this.x=void 0!==a?a:0,this.y=void 0!==b?b:0}a.exports=c},function(a,b,c){function d(){this.armLocation=new e,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraLocation=new e,this.cameraRotation=new e(.5*Math.PI,0,0),this.calculateCameraOrientation()}var e=c(14);d.prototype.setArmLocation=function(a,b,c){this.armLocation.x=a,this.armLocation.y=b,this.armLocation.z=c,this.calculateCameraOrientation()},d.prototype.setArmRotation=function(a,b){void 0!==a&&(this.armRotation.horizontal=a),void 0!==b&&(this.armRotation.vertical=b,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===a&&void 0===b||this.calculateCameraOrientation()},d.prototype.getArmRotation=function(){var a={};return a.horizontal=this.armRotation.horizontal,a.vertical=this.armRotation.vertical,a},d.prototype.setArmLength=function(a){void 0!==a&&(this.armLength=a,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.calculateCameraOrientation())},d.prototype.getArmLength=function(){return this.armLength},d.prototype.getCameraLocation=function(){return this.cameraLocation},d.prototype.getCameraRotation=function(){return this.cameraRotation},d.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal},a.exports=d},function(a,b,c){function d(a,b,c){this.data=a,this.column=b,this.graph=c,this.index=void 0,this.value=void 0,this.values=c.getDistinctValues(a.get(),this.column),this.values.sort(function(a,b){return a>b?1:a<b?-1:0}),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,c.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var e=c(11);d.prototype.isLoaded=function(){return this.loaded},d.prototype.getLoadedProgress=function(){for(var a=this.values.length,b=0;this.dataPoints[b];)b++;return Math.round(b/a*100)},d.prototype.getLabel=function(){return this.graph.filterLabel},d.prototype.getColumn=function(){return this.column},d.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},d.prototype.getValues=function(){return this.values},d.prototype.getValue=function(a){if(a>=this.values.length)throw new Error("Index out of range");return this.values[a]},d.prototype._getDataPoints=function(a){if(void 0===a&&(a=this.index),void 0===a)return[];var b;if(this.dataPoints[a])b=this.dataPoints[a];else{var c={};c.column=this.column,c.value=this.values[a];var d=new e(this.data,{filter:function(a){return a[c.column]==c.value}}).get();b=this.graph._getDataPoints(d),this.dataPoints[a]=b}return b},d.prototype.setOnLoadCallback=function(a){this.onLoadCallback=a},d.prototype.selectValue=function(a){if(a>=this.values.length)throw new Error("Index out of range");this.index=a,this.value=this.values[a]},d.prototype.loadInBackground=function(a){void 0===a&&(a=0);var b=this.graph.frame;if(a<this.values.length){this._getDataPoints(a);void 0===b.progress&&(b.progress=document.createElement("DIV"),b.progress.style.position="absolute",b.progress.style.color="gray",b.appendChild(b.progress));var c=this.getLoadedProgress();b.progress.innerHTML="Loading animation... "+c+"%",b.progress.style.bottom="60px",b.progress.style.left="10px";var d=this;setTimeout(function(){d.loadInBackground(a+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==b.progress&&(b.removeChild(b.progress),b.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},a.exports=d},function(a,b,c){function d(a,b){if(void 0===a)throw new Error("No container element defined");if(this.container=a,this.visible=!b||void 0==b.visible||b.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var c=this;this.frame.slide.onmousedown=function(a){c._onMouseDown(a)},this.frame.prev.onclick=function(a){c.prev(a)},this.frame.play.onclick=function(a){c.togglePlay(a)},this.frame.next.onclick=function(a){c.next(a)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var e=c(1);d.prototype.prev=function(){var a=this.getIndex();a>0&&(a--,this.setIndex(a))},d.prototype.next=function(){var a=this.getIndex();a<this.values.length-1&&(a++,this.setIndex(a))},d.prototype.playNext=function(){var a=new Date,b=this.getIndex();b<this.values.length-1?(b++,this.setIndex(b)):this.playLoop&&(b=0,this.setIndex(b));var c=new Date,d=c-a,e=Math.max(this.playInterval-d,0),f=this;this.playTimeout=setTimeout(function(){f.playNext()},e)},d.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},d.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},d.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},d.prototype.setOnChangeCallback=function(a){this.onChangeCallback=a},d.prototype.setPlayInterval=function(a){this.playInterval=a},d.prototype.getPlayInterval=function(a){return this.playInterval},d.prototype.setPlayLoop=function(a){this.playLoop=a},d.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},d.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var a=this.indexToLeft(this.index);this.frame.slide.style.left=a+"px"}},d.prototype.setValues=function(a){this.values=a,this.values.length>0?this.setIndex(0):this.index=void 0},d.prototype.setIndex=function(a){if(!(a<this.values.length))throw new Error("Index out of range");this.index=a,this.redraw(),this.onChange()},d.prototype.getIndex=function(){return this.index},d.prototype.get=function(){return this.values[this.index]},d.prototype._onMouseDown=function(a){var b=a.which?1===a.which:1===a.button;if(b){this.startClientX=a.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var c=this;this.onmousemove=function(a){c._onMouseMove(a)},this.onmouseup=function(a){c._onMouseUp(a)},e.addEventListener(document,"mousemove",this.onmousemove),e.addEventListener(document,"mouseup",this.onmouseup),e.preventDefault(a)}},d.prototype.leftToIndex=function(a){var b=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,c=a-3,d=Math.round(c/b*(this.values.length-1));return d<0&&(d=0),d>this.values.length-1&&(d=this.values.length-1),d},d.prototype.indexToLeft=function(a){var b=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,c=a/(this.values.length-1)*b,d=c+3;return d},d.prototype._onMouseMove=function(a){var b=a.clientX-this.startClientX,c=this.startSlideX+b,d=this.leftToIndex(c);this.setIndex(d),e.preventDefault()},d.prototype._onMouseUp=function(a){this.frame.style.cursor="auto",e.removeEventListener(document,"mousemove",this.onmousemove),e.removeEventListener(document,"mouseup",this.onmouseup),e.preventDefault()},a.exports=d},function(a,b){function c(a,b,c,d){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(a,b,c,d)}c.prototype.isNumeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},c.prototype.setRange=function(a,b,c,d){if(!this.isNumeric(a))throw new Error("Parameter 'start' is not numeric; value: "+a);if(!this.isNumeric(b))throw new Error("Parameter 'end' is not numeric; value: "+a);if(!this.isNumeric(c))throw new Error("Parameter 'step' is not numeric; value: "+a);this._start=a?a:0,this._end=b?b:0,this.setStep(c,d)},c.prototype.setStep=function(a,b){void 0===a||a<=0||(void 0!==b&&(this.prettyStep=b),this.prettyStep===!0?this._step=c.calculatePrettyStep(a):this._step=a)},c.calculatePrettyStep=function(a){var b=function(a){return Math.log(a)/Math.LN10},c=Math.pow(10,Math.round(b(a))),d=2*Math.pow(10,Math.round(b(a/2))),e=5*Math.pow(10,Math.round(b(a/5))),f=c;return Math.abs(d-a)<=Math.abs(f-a)&&(f=d),Math.abs(e-a)<=Math.abs(f-a)&&(f=e),f<=0&&(f=1),f},c.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},c.prototype.getStep=function(){return this._step},c.prototype.start=function(a){void 0===a&&(a=!1),this._current=this._start-this._start%this._step,a&&this.getCurrent()<this._start&&this.next()},c.prototype.next=function(){this._current+=this._step},c.prototype.end=function(){return this._current>this._end},a.exports=c},function(a,b){function c(){this.min=void 0,this.max=void 0}c.prototype.adjust=function(a){void 0!==a&&((void 0===this.min||this.min>a)&&(this.min=a),(void 0===this.max||this.max<a)&&(this.max=a))},c.prototype.combine=function(a){this.add(a.min),this.add(a.max)},c.prototype.expand=function(a){if(void 0!==a){var b=this.min-a,c=this.max+a;if(b>c)throw new Error("Passed expansion value makes range invalid");this.min=b,this.max=c}},c.prototype.range=function(){return this.max-this.min},c.prototype.center=function(){return(this.min+this.max)/2},a.exports=c},function(a,b,c){function d(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function e(a){return void 0===a||""===a?a:a.charAt(0).toUpperCase()+a.slice(1)}function f(a,b){return void 0===a||""===a?b:a+e(b)}function g(a,b,c,d){var e,g;for(var h in c)e=c[h],g=f(d,e),b[g]=a[e]}function h(a,b,c,d){var e,g;for(var h in c)e=c[h],void 0!==a[e]&&(g=f(d,e),b[g]=a[e])}function i(a,b){if(void 0===a||d(a))throw new Error("No DEFAULTS passed");if(void 0===b)throw new Error("No dst passed");z=a,g(a,b,x),g(a,b,y,"default"),k(a,b),b.margin=10,b.showGrayBottom=!1,b.showTooltip=!1,b.eye=new u(0,0,-1)}function j(a,b){if(void 0!==a){if(void 0===b)throw new Error("No dst passed");if(void 0===z||d(z))throw new Error("DEFAULTS not set for module Settings");h(a,b,x),h(a,b,y,"default"),k(a,b)}}function k(a,b){void 0!==a.backgroundColor&&p(a.backgroundColor,b),q(a.dataColor,b),o(a.style,b),l(a.showLegend,b),r(a.cameraPosition,b),void 0!==a.tooltip&&(b.showTooltip=a.tooltip)}function l(a,b){if(void 0===a){var c=void 0===z.showLegend;if(c){var d=b.style===v.DOTCOLOR||b.style===v.DOTSIZE;b.showLegend=d}}else b.showLegend=a}function m(a){var b=w[a];return void 0===b?-1:b}function n(a){var b=!1;for(var c in v)if(v[c]===a){b=!0;break}return b}function o(a,b){if(void 0!==a){var c;if("string"==typeof a){if(c=m(a),c===-1)throw new Error("Style '"+a+"' is invalid")}else{if(!n(a))throw new Error("Style '"+a+"' is invalid");c=a}b.style=c}}function p(a,b){var c="white",d="gray",e=1;if("string"==typeof a)c=a,d="none",e=0;else{if("object"!==("undefined"==typeof a?"undefined":s(a)))throw new Error("Unsupported type of backgroundColor");void 0!==a.fill&&(c=a.fill),void 0!==a.stroke&&(d=a.stroke),void 0!==a.strokeWidth&&(e=a.strokeWidth)}b.frame.style.backgroundColor=c,b.frame.style.borderColor=d,b.frame.style.borderWidth=e+"px",b.frame.style.borderStyle="solid"}function q(a,b){void 0!==a&&(void 0===b.dataColor&&(b.dataColor={}),"string"==typeof a?(b.dataColor.fill=a,b.dataColor.stroke=a):(a.fill&&(b.dataColor.fill=a.fill),a.stroke&&(b.dataColor.stroke=a.stroke),void 0!==a.strokeWidth&&(b.dataColor.strokeWidth=a.strokeWidth)))}function r(a,b){var c=a;void 0!==c&&(void 0===b.camera&&(b.camera=new t),b.camera.setArmRotation(c.horizontal,c.vertical),b.camera.setArmLength(c.distance))}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t=c(16),u=c(14),v={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},w={dot:v.DOT,"dot-line":v.DOTLINE,"dot-color":v.DOTCOLOR,"dot-size":v.DOTSIZE,line:v.LINE,grid:v.GRID,surface:v.SURFACE,bar:v.BAR,"bar-color":v.BARCOLOR,"bar-size":v.BARSIZE},x=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],y=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],z=void 0;a.exports.STYLE=v,a.exports.setDefaults=i,a.exports.setOptions=j,a.exports.setCameraPosition=r},function(a,b,c){if("undefined"!=typeof window){var d=c(23),e=window.Hammer||c(24);a.exports=d(e,{preventDefault:"mouse"})}else a.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(a,b,c){var d,e,f;!function(c){e=[],d=c,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(function(){var a=null;return function b(c,d){function e(a){return a.match(/[^ ]+/g)}function f(b){if("hammer.input"!==b.type){if(b.srcEvent._handled||(b.srcEvent._handled={}),b.srcEvent._handled[b.type])return;b.srcEvent._handled[b.type]=!0}var c=!1;b.stopPropagation=function(){c=!0};var d=b.srcEvent.stopPropagation.bind(b.srcEvent);"function"==typeof d&&(b.srcEvent.stopPropagation=function(){d(),b.stopPropagation()}),b.firstTarget=a;for(var e=a;e&&!c;){var f=e.hammer;if(f)for(var g,h=0;h<f.length;h++)if(g=f[h]._handlers[b.type])for(var i=0;i<g.length&&!c;i++)g[i](b);e=e.parentNode}}var g=d||{preventDefault:!1};if(c.Manager){var h=c,i=function(a,c){var d=Object.create(g);return c&&h.assign(d,c),b(new h(a,d),d)};return h.assign(i,h),i.Manager=function(a,c){var d=Object.create(g);return c&&h.assign(d,c),b(new h.Manager(a,d),d)},i}var j=Object.create(c),k=c.element;return k.hammer||(k.hammer=[]),k.hammer.push(j),c.on("hammer.input",function(b){g.preventDefault!==!0&&g.preventDefault!==b.pointerType||b.preventDefault(),b.isFirst&&(a=b.target)}),j._handlers={},j.on=function(a,b){return e(a).forEach(function(a){var d=j._handlers[a];d||(j._handlers[a]=d=[],c.on(a,f)),d.push(b)}),j},j.off=function(a,b){return e(a).forEach(function(a){var d=j._handlers[a];d&&(d=b?d.filter(function(a){return a!==b}):[],d.length>0?j._handlers[a]=d:(c.off(a,f),delete j._handlers[a]))}),j},j.emit=function(b,d){a=d.target,c.emit(b,d)},j.destroy=function(){var a=c.element.hammer,b=a.indexOf(j);b!==-1&&a.splice(b,1),a.length||delete c.element.hammer,j._handlers={},c.destroy()},j}})},function(a,b,c){var d;!function(e,f,g,h){function i(a,b,c){return setTimeout(n(a,c),b)}function j(a,b,c){return!!Array.isArray(a)&&(k(a,c[b],c),!0)}function k(a,b,c){var d;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==h)for(d=0;d<a.length;)b.call(c,a[d],d,a),d++;else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function l(a,b,c){var d="DEPRECATED METHOD: "+b+"\n"+c+" AT \n";return function(){var b=new Error("get-stack-trace"),c=b&&b.stack?b.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=e.console&&(e.console.warn||e.console.log);return f&&f.call(e.console,d,c),a.apply(this,arguments)}}function m(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&pa(d,c)}function n(a,b){return function(){return a.apply(b,arguments)}}function o(a,b){return typeof a==sa?a.apply(b?b[0]||h:h,b):a}function p(a,b){return a===h?b:a}function q(a,b,c){k(u(b),function(b){a.addEventListener(b,c,!1)})}function r(a,b,c){k(u(b),function(b){a.removeEventListener(b,c,!1)})}function s(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function t(a,b){return a.indexOf(b)>-1}function u(a){return a.trim().split(/\s+/g)}function v(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function w(a){return Array.prototype.slice.call(a,0)}function x(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];v(e,g)<0&&d.push(a[f]),
e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function y(a,b){for(var c,d,e=b[0].toUpperCase()+b.slice(1),f=0;f<qa.length;){if(c=qa[f],d=c?c+e:b,d in a)return d;f++}return h}function z(){return ya++}function A(a){var b=a.ownerDocument||a;return b.defaultView||b.parentWindow||e}function B(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){o(a.options.enable,[a])&&c.handler(b)},this.init()}function C(a){var b,c=a.options.inputClass;return new(b=c?c:Ba?Q:Ca?T:Aa?V:P)(a,D)}function D(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ia&&d-e===0,g=b&(Ka|La)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,E(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function E(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=H(b)),e>1&&!c.firstMultiple?c.firstMultiple=H(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=I(d);b.timeStamp=va(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=M(h,i),b.distance=L(h,i),F(c,b),b.offsetDirection=K(b.deltaX,b.deltaY);var j=J(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=ua(j.x)>ua(j.y)?j.x:j.y,b.scale=g?O(g.pointers,d):1,b.rotation=g?N(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,G(c,b);var k=a.element;s(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function F(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ia&&f.eventType!==Ka||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function G(a,b){var c,d,e,f,g=a.lastInterval||b,i=b.timeStamp-g.timeStamp;if(b.eventType!=La&&(i>Ha||g.velocity===h)){var j=b.deltaX-g.deltaX,k=b.deltaY-g.deltaY,l=J(i,j,k);d=l.x,e=l.y,c=ua(l.x)>ua(l.y)?l.x:l.y,f=K(j,k),a.lastInterval=b}else c=g.velocity,d=g.velocityX,e=g.velocityY,f=g.direction;b.velocity=c,b.velocityX=d,b.velocityY=e,b.direction=f}function H(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:ta(a.pointers[c].clientX),clientY:ta(a.pointers[c].clientY)},c++;return{timeStamp:va(),pointers:b,center:I(b),deltaX:a.deltaX,deltaY:a.deltaY}}function I(a){var b=a.length;if(1===b)return{x:ta(a[0].clientX),y:ta(a[0].clientY)};for(var c=0,d=0,e=0;e<b;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:ta(c/b),y:ta(d/b)}}function J(a,b,c){return{x:b/a||0,y:c/a||0}}function K(a,b){return a===b?Ma:ua(a)>=ua(b)?a<0?Na:Oa:b<0?Pa:Qa}function L(a,b,c){c||(c=Ua);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function M(a,b,c){c||(c=Ua);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function N(a,b){return M(b[1],b[0],Va)+M(a[1],a[0],Va)}function O(a,b){return L(b[0],b[1],Va)/L(a[0],a[1],Va)}function P(){this.evEl=Xa,this.evWin=Ya,this.pressed=!1,B.apply(this,arguments)}function Q(){this.evEl=_a,this.evWin=ab,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function R(){this.evTarget=cb,this.evWin=db,this.started=!1,B.apply(this,arguments)}function S(a,b){var c=w(a.touches),d=w(a.changedTouches);return b&(Ka|La)&&(c=x(c.concat(d),"identifier",!0)),[c,d]}function T(){this.evTarget=fb,this.targetIds={},B.apply(this,arguments)}function U(a,b){var c=w(a.touches),d=this.targetIds;if(b&(Ia|Ja)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=w(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return s(a.target,i)}),b===Ia)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ka|La)&&delete d[g[e].identifier],e++;return h.length?[x(f.concat(h),"identifier",!0),h]:void 0}function V(){B.apply(this,arguments);var a=n(this.handler,this);this.touch=new T(this.manager,a),this.mouse=new P(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function W(a,b){a&Ia?(this.primaryTouch=b.changedPointers[0].identifier,X.call(this,b)):a&(Ka|La)&&X.call(this,b)}function X(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,gb)}}function Y(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(f<=hb&&g<=hb)return!0}return!1}function Z(a,b){this.manager=a,this.set(b)}function $(a){if(t(a,nb))return nb;var b=t(a,ob),c=t(a,pb);return b&&c?nb:b||c?b?ob:pb:t(a,mb)?mb:lb}function _(){if(!jb)return!1;var a={},b=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(c){a[c]=!b||e.CSS.supports("touch-action",c)}),a}function aa(a){this.options=pa({},this.defaults,a||{}),this.id=z(),this.manager=null,this.options.enable=p(this.options.enable,!0),this.state=rb,this.simultaneous={},this.requireFail=[]}function ba(a){return a&wb?"cancel":a&ub?"end":a&tb?"move":a&sb?"start":""}function ca(a){return a==Qa?"down":a==Pa?"up":a==Na?"left":a==Oa?"right":""}function da(a,b){var c=b.manager;return c?c.get(a):a}function ea(){aa.apply(this,arguments)}function fa(){ea.apply(this,arguments),this.pX=null,this.pY=null}function ga(){ea.apply(this,arguments)}function ha(){aa.apply(this,arguments),this._timer=null,this._input=null}function ia(){ea.apply(this,arguments)}function ja(){ea.apply(this,arguments)}function ka(){aa.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function la(a,b){return b=b||{},b.recognizers=p(b.recognizers,la.defaults.preset),new ma(a,b)}function ma(a,b){this.options=pa({},la.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=C(this),this.touchAction=new Z(this,this.options.touchAction),na(this,!0),k(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function na(a,b){var c=a.element;if(c.style){var d;k(a.options.cssProps,function(e,f){d=y(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function oa(a,b){var c=f.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b,b.target.dispatchEvent(c)}var pa,qa=["","webkit","Moz","MS","ms","o"],ra=f.createElement("div"),sa="function",ta=Math.round,ua=Math.abs,va=Date.now;pa="function"!=typeof Object.assign?function(a){if(a===h||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(d!==h&&null!==d)for(var e in d)d.hasOwnProperty(e)&&(b[e]=d[e])}return b}:Object.assign;var wa=l(function(a,b,c){for(var d=Object.keys(b),e=0;e<d.length;)(!c||c&&a[d[e]]===h)&&(a[d[e]]=b[d[e]]),e++;return a},"extend","Use `assign`."),xa=l(function(a,b){return wa(a,b,!0)},"merge","Use `assign`."),ya=1,za=/mobile|tablet|ip(ad|hone|od)|android/i,Aa="ontouchstart"in e,Ba=y(e,"PointerEvent")!==h,Ca=Aa&&za.test(navigator.userAgent),Da="touch",Ea="pen",Fa="mouse",Ga="kinect",Ha=25,Ia=1,Ja=2,Ka=4,La=8,Ma=1,Na=2,Oa=4,Pa=8,Qa=16,Ra=Na|Oa,Sa=Pa|Qa,Ta=Ra|Sa,Ua=["x","y"],Va=["clientX","clientY"];B.prototype={handler:function(){},init:function(){this.evEl&&q(this.element,this.evEl,this.domHandler),this.evTarget&&q(this.target,this.evTarget,this.domHandler),this.evWin&&q(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&r(this.element,this.evEl,this.domHandler),this.evTarget&&r(this.target,this.evTarget,this.domHandler),this.evWin&&r(A(this.element),this.evWin,this.domHandler)}};var Wa={mousedown:Ia,mousemove:Ja,mouseup:Ka},Xa="mousedown",Ya="mousemove mouseup";m(P,B,{handler:function(a){var b=Wa[a.type];b&Ia&&0===a.button&&(this.pressed=!0),b&Ja&&1!==a.which&&(b=Ka),this.pressed&&(b&Ka&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Fa,srcEvent:a}))}});var Za={pointerdown:Ia,pointermove:Ja,pointerup:Ka,pointercancel:La,pointerout:La},$a={2:Da,3:Ea,4:Fa,5:Ga},_a="pointerdown",ab="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(_a="MSPointerDown",ab="MSPointerMove MSPointerUp MSPointerCancel"),m(Q,B,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Za[d],f=$a[a.pointerType]||a.pointerType,g=f==Da,h=v(b,a.pointerId,"pointerId");e&Ia&&(0===a.button||g)?h<0&&(b.push(a),h=b.length-1):e&(Ka|La)&&(c=!0),h<0||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var bb={touchstart:Ia,touchmove:Ja,touchend:Ka,touchcancel:La},cb="touchstart",db="touchstart touchmove touchend touchcancel";m(R,B,{handler:function(a){var b=bb[a.type];if(b===Ia&&(this.started=!0),this.started){var c=S.call(this,a,b);b&(Ka|La)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:Da,srcEvent:a})}}});var eb={touchstart:Ia,touchmove:Ja,touchend:Ka,touchcancel:La},fb="touchstart touchmove touchend touchcancel";m(T,B,{handler:function(a){var b=eb[a.type],c=U.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:Da,srcEvent:a})}});var gb=2500,hb=25;m(V,B,{handler:function(a,b,c){var d=c.pointerType==Da,e=c.pointerType==Fa;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)W.call(this,b,c);else if(e&&Y.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ib=y(ra.style,"touchAction"),jb=ib!==h,kb="compute",lb="auto",mb="manipulation",nb="none",ob="pan-x",pb="pan-y",qb=_();Z.prototype={set:function(a){a==kb&&(a=this.compute()),jb&&this.manager.element.style&&qb[a]&&(this.manager.element.style[ib]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return k(this.manager.recognizers,function(b){o(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),$(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=t(d,nb)&&!qb[nb],f=t(d,pb)&&!qb[pb],g=t(d,ob)&&!qb[ob];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Ra||g&&c&Sa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var rb=1,sb=2,tb=4,ub=8,vb=ub,wb=16,xb=32;aa.prototype={defaults:{},set:function(a){return pa(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(j(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=da(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return j(a,"dropRecognizeWith",this)?this:(a=da(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(j(a,"requireFailure",this))return this;var b=this.requireFail;return a=da(a,this),v(b,a)===-1&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(j(a,"dropRequireFailure",this))return this;a=da(a,this);var b=v(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;d<ub&&b(c.options.event+ba(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=ub&&b(c.options.event+ba(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=xb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(xb|rb)))return!1;a++}return!0},recognize:function(a){var b=pa({},a);return o(this.options.enable,[this,b])?(this.state&(vb|wb|xb)&&(this.state=rb),this.state=this.process(b),void(this.state&(sb|tb|ub|wb)&&this.tryEmit(b))):(this.reset(),void(this.state=xb))},process:function(a){},getTouchAction:function(){},reset:function(){}},m(ea,aa,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(sb|tb),e=this.attrTest(a);return d&&(c&La||!e)?b|wb:d||e?c&Ka?b|ub:b&sb?b|tb:sb:xb}}),m(fa,ea,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ta},getTouchAction:function(){var a=this.options.direction,b=[];return a&Ra&&b.push(pb),a&Sa&&b.push(ob),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Ra?(e=0===f?Ma:f<0?Na:Oa,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ma:g<0?Pa:Qa,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return ea.prototype.attrTest.call(this,a)&&(this.state&sb||!(this.state&sb)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=ca(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),m(ga,ea,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[nb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&sb)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),m(ha,aa,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[lb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ka|La)&&!e)this.reset();else if(a.eventType&Ia)this.reset(),this._timer=i(function(){this.state=vb,this.tryEmit()},b.time,this);else if(a.eventType&Ka)return vb;return xb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===vb&&(a&&a.eventType&Ka?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=va(),this.manager.emit(this.options.event,this._input)))}}),m(ia,ea,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[nb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&sb)}}),m(ja,ea,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ra|Sa,pointers:1},getTouchAction:function(){return fa.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Ra|Sa)?b=a.overallVelocity:c&Ra?b=a.overallVelocityX:c&Sa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&ua(b)>this.options.velocity&&a.eventType&Ka},emit:function(a){var b=ca(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),m(ka,aa,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[mb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime<b.time;if(this.reset(),a.eventType&Ia&&0===this.count)return this.failTimeout();if(d&&e&&c){if(a.eventType!=Ka)return this.failTimeout();var f=!this.pTime||a.timeStamp-this.pTime<b.interval,g=!this.pCenter||L(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,g&&f?this.count+=1:this.count=1,this._input=a;var h=this.count%b.taps;if(0===h)return this.hasRequireFailures()?(this._timer=i(function(){this.state=vb,this.tryEmit()},b.interval,this),sb):vb}return xb},failTimeout:function(){return this._timer=i(function(){this.state=xb},this.options.interval,this),xb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==vb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),la.VERSION="2.0.7",la.defaults={domEvents:!1,touchAction:kb,enable:!0,inputTarget:null,inputClass:null,preset:[[ia,{enable:!1}],[ga,{enable:!1},["rotate"]],[ja,{direction:Ra}],[fa,{direction:Ra},["swipe"]],[ka],[ka,{event:"doubletap",taps:2},["tap"]],[ha]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var yb=1,zb=2;ma.prototype={set:function(a){return pa(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?zb:yb},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&vb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===zb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(sb|tb|ub)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof aa)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(j(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(j(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=v(b,a);c!==-1&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==h&&b!==h){var c=this.handlers;return k(u(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==h){var c=this.handlers;return k(u(a),function(a){b?c[a]&&c[a].splice(v(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&oa(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&na(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},pa(la,{INPUT_START:Ia,INPUT_MOVE:Ja,INPUT_END:Ka,INPUT_CANCEL:La,STATE_POSSIBLE:rb,STATE_BEGAN:sb,STATE_CHANGED:tb,STATE_ENDED:ub,STATE_RECOGNIZED:vb,STATE_CANCELLED:wb,STATE_FAILED:xb,DIRECTION_NONE:Ma,DIRECTION_LEFT:Na,DIRECTION_RIGHT:Oa,DIRECTION_UP:Pa,DIRECTION_DOWN:Qa,DIRECTION_HORIZONTAL:Ra,DIRECTION_VERTICAL:Sa,DIRECTION_ALL:Ta,Manager:ma,Input:B,TouchAction:Z,TouchInput:T,MouseInput:P,PointerEventInput:Q,TouchMouseInput:V,SingleTouchInput:R,Recognizer:aa,AttrRecognizer:ea,Tap:ka,Pan:fa,Swipe:ja,Pinch:ga,Rotate:ia,Press:ha,on:q,off:r,each:k,merge:xa,extend:wa,assign:pa,inherit:m,bindFn:n,prefixed:y});var Ab="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};Ab.Hammer=la,d=function(){return la}.call(b,c,b,a),!(d!==h&&(a.exports=d))}(window,document,"Hammer")},function(a,b,c){var d,e,f;!function(c,g){e=[],d=g,f="function"==typeof d?d.apply(b,e):d,!(void 0!==f&&(a.exports=f))}(this,function(){function a(a){var b,c=a&&a.preventDefault||!1,d=a&&a.container||window,e={},f={keydown:{},keyup:{}},g={};for(b=97;b<=122;b++)g[String.fromCharCode(b)]={code:65+(b-97),shift:!1};for(b=65;b<=90;b++)g[String.fromCharCode(b)]={code:b,shift:!0};for(b=0;b<=9;b++)g[""+b]={code:48+b,shift:!1};for(b=1;b<=12;b++)g["F"+b]={code:111+b,shift:!1};for(b=0;b<=9;b++)g["num"+b]={code:96+b,shift:!1};g["num*"]={code:106,shift:!1},g["num+"]={code:107,shift:!1},g["num-"]={code:109,shift:!1},g["num/"]={code:111,shift:!1},g["num."]={code:110,shift:!1},g.left={code:37,shift:!1},g.up={code:38,shift:!1},g.right={code:39,shift:!1},g.down={code:40,shift:!1},g.space={code:32,shift:!1},g.enter={code:13,shift:!1},g.shift={code:16,shift:void 0},g.esc={code:27,shift:!1},g.backspace={code:8,shift:!1},g.tab={code:9,shift:!1},g.ctrl={code:17,shift:!1},g.alt={code:18,shift:!1},g.delete={code:46,shift:!1},g.pageup={code:33,shift:!1},g.pagedown={code:34,shift:!1},g["="]={code:187,shift:!1},g["-"]={code:189,shift:!1},g["]"]={code:221,shift:!1},g["["]={code:219,shift:!1};var h=function(a){j(a,"keydown")},i=function(a){j(a,"keyup")},j=function(a,b){if(void 0!==f[b][a.keyCode]){for(var d=f[b][a.keyCode],e=0;e<d.length;e++)void 0===d[e].shift?d[e].fn(a):1==d[e].shift&&1==a.shiftKey?d[e].fn(a):0==d[e].shift&&0==a.shiftKey&&d[e].fn(a);1==c&&a.preventDefault()}};return e.bind=function(a,b,c){if(void 0===c&&(c="keydown"),void 0===g[a])throw new Error("unsupported key: "+a);void 0===f[c][g[a].code]&&(f[c][g[a].code]=[]),f[c][g[a].code].push({fn:b,shift:g[a].shift})},e.bindAll=function(a,b){void 0===b&&(b="keydown");for(var c in g)g.hasOwnProperty(c)&&e.bind(c,a,b)},e.getKey=function(a){for(var b in g)if(g.hasOwnProperty(b)){if(1==a.shiftKey&&1==g[b].shift&&a.keyCode==g[b].code)return b;if(0==a.shiftKey&&0==g[b].shift&&a.keyCode==g[b].code)return b;if(a.keyCode==g[b].code&&"shift"==b)return b}return"unknown key, currently not supported"},e.unbind=function(a,b,c){if(void 0===c&&(c="keydown"),void 0===g[a])throw new Error("unsupported key: "+a);if(void 0!==b){var d=[],e=f[c][g[a].code];if(void 0!==e)for(var h=0;h<e.length;h++)e[h].fn==b&&e[h].shift==g[a].shift||d.push(f[c][g[a].code][h]);f[c][g[a].code]=d}else f[c][g[a].code]=[]},e.reset=function(){f={keydown:{},keyup:{}}},e.destroy=function(){f={keydown:{},keyup:{}},d.removeEventListener("keydown",h,!0),d.removeEventListener("keyup",i,!0)},d.addEventListener("keydown",h,!0),d.addEventListener("keyup",i,!0),e}return a})},function(a,b,c){b.util=c(1),b.DOMutil=c(8),b.DataSet=c(9),b.DataView=c(11),b.Queue=c(10),b.Timeline=c(27),b.Graph2d=c(52),b.timeline={Core:c(35),DateUtil:c(34),Range:c(32),stack:c(39),TimeStep:c(37),components:{items:{Item:c(41),BackgroundItem:c(45),BoxItem:c(43),PointItem:c(44),RangeItem:c(40)},BackgroundGroup:c(42),Component:c(33),CurrentTime:c(50),CustomTime:c(48),DataAxis:c(54),DataScale:c(55),GraphGroup:c(56),Group:c(38),ItemSet:c(36),Legend:c(60),LineGraph:c(53),TimeAxis:c(46)}},b.moment=c(2),b.Hammer=c(22),b.keycharm=c(25)},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c,d){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(c)||c instanceof l||c instanceof m)&&c instanceof Object){var f=d;d=c,c=f}var g=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:j,width:null,height:null,maxHeight:null,minHeight:null},this.options=k.deepExtend({},this.defaultOptions),this._create(a),!d||d&&"undefined"==typeof d.rtl){for(var h,i=this.dom.root;!h&&i;)h=window.getComputedStyle(i,null).direction,i=i.parentElement;this.options.rtl=h&&"rtl"==h.toLowerCase()}else this.options.rtl=d.rtl;this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return g.timeAxis.step.scale},getStep:function(){return g.timeAxis.step.step},toScreen:g._toScreen.bind(g),toGlobalScreen:g._toGlobalScreen.bind(g),toTime:g._toTime.bind(g),toGlobalTime:g._toGlobalTime.bind(g)}},this.range=new n(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new p(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new q(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new s(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.on("tap",function(a){g.emit("click",g.getEventProperties(a))}),this.on("doubletap",function(a){g.emit("doubleClick",g.getEventProperties(a))}),this.dom.root.oncontextmenu=function(a){g.emit("contextmenu",g.getEventProperties(a))},this.fitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!g.fitDone)if(g.fitDone=!0,void 0!=g.options.start||void 0!=g.options.end){if(void 0==g.options.start||void 0==g.options.end)var a=g.getItemRange();var b=void 0!=g.options.start?g.options.start:a.min,c=void 0!=g.options.end?g.options.end:a.max;g.setWindow(b,c,{animation:!1})}else g.fit({animation:!1})}),d&&this.setOptions(d),c&&this.setGroups(c),b&&this.setItems(b),this._redraw()}var f=c(28),g=d(f),h=c(31),i=d(h),j=(c(13),c(22),c(2)),k=c(1),l=c(9),m=c(11),n=c(32),o=c(35),p=c(46),q=c(50),r=c(48),s=c(36),t=c(31).printStyle,u=c(51).allOptions,v=c(51).configureOptions;e.prototype=new o,e.prototype._createConfigurator=function(){return new g.default(this,this.dom.container,v)},e.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},e.prototype.setOptions=function(a){var b=i.default.validate(a,u);if(b===!0&&console.log("%cErrors have been found in the supplied options object.",t),o.prototype.setOptions.call(this,a),"type"in a&&a.type!==this.options.type){this.options.type=a.type;var c=this.itemsData;if(c){var d=this.getSelection();this.setItems(null),this.setItems(c),this.setSelection(d)}}},e.prototype.setItems=function(a){var b;b=a?a instanceof l||a instanceof m?a:new l(a,{type:{start:"Date",end:"Date"}}):null,this.itemsData=b,this.itemSet&&this.itemSet.setItems(b)},e.prototype.setGroups=function(a){var b;b=a?a instanceof l||a instanceof m?a:new l(a):null,this.groupsData=b,this.itemSet.setGroups(b)},e.prototype.setData=function(a){a&&a.groups&&this.setGroups(a.groups),a&&a.items&&this.setItems(a.items)},e.prototype.setSelection=function(a,b){this.itemSet&&this.itemSet.setSelection(a),b&&b.focus&&this.focus(a,b)},e.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},e.prototype.focus=function(a,b){if(this.itemsData&&void 0!=a){var c=Array.isArray(a)?a:[a],d=this.itemsData.getDataSet().get(c,{type:{start:"Date",end:"Date"}}),e=null,f=null;if(d.forEach(function(a){var b=a.start.valueOf(),c="end"in a?a.end.valueOf():a.start.valueOf();(null===e||b<e)&&(e=b),(null===f||c>f)&&(f=c)}),null!==e&&null!==f){var g=(e+f)/2,h=Math.max(this.range.end-this.range.start,1.1*(f-e)),i=!b||void 0===b.animation||b.animation;this.range.setRange(g-h/2,g+h/2,i)}}},e.prototype.fit=function(a){var b,c=!a||void 0===a.animation||a.animation,d=this.itemsData&&this.itemsData.getDataSet();1===d.length&&void 0===d.get()[0].end?(b=this.getDataRange(),this.moveTo(b.min.valueOf(),{animation:c})):(b=this.getItemRange(),this.range.setRange(b.min,b.max,c))},e.prototype.getItemRange=function(){var a=this,b=this.getDataRange(),c=null!==b.min?b.min.valueOf():null,d=null!==b.max?b.max.valueOf():null,e=null,f=null;if(null!=c&&null!=d){var g,h,i,j,l;!function(){var b=function(a){return k.convert(a.data.start,"Date").valueOf()},m=function(a){var b=void 0!=a.data.end?a.data.end:a.data.start;return k.convert(b,"Date").valueOf()};g=d-c,g<=0&&(g=10),h=g/a.props.center.width,k.forEach(a.itemSet.items,function(a){a.show(),a.repositionX();var g=b(a),i=m(a);if(this.options.rtl)var j=g-(a.getWidthRight()+10)*h,k=i+(a.getWidthLeft()+10)*h;else var j=g-(a.getWidthLeft()+10)*h,k=i+(a.getWidthRight()+10)*h;j<c&&(c=j,e=a),k>d&&(d=k,f=a)}.bind(a)),e&&f&&(i=e.getWidthLeft()+10,j=f.getWidthRight()+10,l=a.props.center.width-i-j,l>0&&(a.options.rtl?(c=b(e)-j*g/l,d=m(f)+i*g/l):(c=b(e)-i*g/l,d=m(f)+j*g/l)))}()}return{min:null!=c?new Date(c):null,max:null!=d?new Date(d):null}},e.prototype.getDataRange=function(){var a=null,b=null,c=this.itemsData&&this.itemsData.getDataSet();return c&&c.forEach(function(c){var d=k.convert(c.start,"Date").valueOf(),e=k.convert(void 0!=c.end?c.end:c.start,"Date").valueOf();(null===a||d<a)&&(a=d),(null===b||e>b)&&(b=e)}),{min:null!=a?new Date(a):null,max:null!=b?new Date(b):null}},e.prototype.getEventProperties=function(a){var b=a.center?a.center.x:a.clientX,c=a.center?a.center.y:a.clientY;if(this.options.rtl)var d=k.getAbsoluteRight(this.dom.centerContainer)-b;else var d=b-k.getAbsoluteLeft(this.dom.centerContainer);var e=c-k.getAbsoluteTop(this.dom.centerContainer),f=this.itemSet.itemFromTarget(a),g=this.itemSet.groupFromTarget(a),h=r.customTimeFromTarget(a),i=this.itemSet.options.snap||null,j=this.body.util.getScale(),l=this.body.util.getStep(),m=this._toTime(d),n=i?i(m,j,l):m,o=k.getTarget(a),p=null;return null!=f?p="item":null!=h?p="custom-time":k.hasParent(o,this.timeAxis.dom.foreground)?p="axis":this.timeAxis2&&k.hasParent(o,this.timeAxis2.dom.foreground)?p="axis":k.hasParent(o,this.itemSet.dom.labelSet)?p="group-label":k.hasParent(o,this.currentTime.bar)?p="current-time":k.hasParent(o,this.dom.center)&&(p="background"),{event:a,item:f?f.id:null,group:g?g.groupId:null,what:p,pageX:a.srcEvent?a.srcEvent.pageX:a.pageX,pageY:a.srcEvent?a.srcEvent.pageY:a.pageY,x:d,y:e,time:m,snappedTime:n}},a.exports=e},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(29),i=d(h),j=c(1),k=function(){function a(b,c,d){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e(this,a),this.parent=b,this.changedOptions=[],this.container=c,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},j.extend(this.options,this.defaultOptions),this.configureOptions=d,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new i.default(f),this.wrapper=void 0}return g(a,[{key:"setOptions",value:function(a){if(void 0!==a){this.popupHistory={},this._removePopup();var b=!0;"string"==typeof a?this.options.filter=a:a instanceof Array?this.options.filter=a.join():"object"===("undefined"==typeof a?"undefined":f(a))?(void 0!==a.container&&(this.options.container=a.container),void 0!==a.filter&&(this.options.filter=a.filter),void 0!==a.showButton&&(this.options.showButton=a.showButton),void 0!==a.enabled&&(b=a.enabled)):"boolean"==typeof a?(this.options.filter=!0,b=a):"function"==typeof a&&(this.options.filter=a,b=!0),this.options.filter===!1&&(b=!1),this.options.enabled=b}this._clean()}},{key:"setModuleOptions",value:function(a){this.moduleOptions=a,this.options.enabled===!0&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var a=this;this._clean(),this.changedOptions=[];var b=this.options.filter,c=0,d=!1;for(var e in this.configureOptions)this.configureOptions.hasOwnProperty(e)&&(this.allowCreation=!1,d=!1,"function"==typeof b?(d=b(e,[]),d=d||this._handleObject(this.configureOptions[e],[e],!0)):b!==!0&&b.indexOf(e)===-1||(d=!0),d!==!1&&(this.allowCreation=!0,c>0&&this._makeItem([]),this._makeHeader(e),this._handleObject(this.configureOptions[e],[e])),c++);this.options.showButton===!0&&!function(){var b=document.createElement("div");b.className="vis-configuration vis-config-button",b.innerHTML="generate options",b.onclick=function(){a._printOptions()},b.onmouseover=function(){b.className="vis-configuration vis-config-button hover"},b.onmouseout=function(){b.className="vis-configuration vis-config-button"},a.optionsContainer=document.createElement("div"),a.optionsContainer.className="vis-configuration vis-config-option-container",a.domElements.push(a.optionsContainer),a.domElements.push(b)}(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",
this.container.appendChild(this.wrapper);for(var a=0;a<this.domElements.length;a++)this.wrapper.appendChild(this.domElements[a]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var a=0;a<this.domElements.length;a++)this.wrapper.removeChild(this.domElements[a]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(a){for(var b=this.moduleOptions,c=0;c<a.length;c++){if(void 0===b[a[c]]){b=void 0;break}b=b[a[c]]}return b}},{key:"_makeItem",value:function(a){var b=arguments,c=this;if(this.allowCreation===!0){var d,e,g,h=function(){var f=document.createElement("div");for(f.className="vis-configuration vis-config-item vis-config-s"+a.length,d=b.length,e=Array(d>1?d-1:0),g=1;g<d;g++)e[g-1]=b[g];return e.forEach(function(a){f.appendChild(a)}),c.domElements.push(f),{v:c.domElements.length}}();if("object"===("undefined"==typeof h?"undefined":f(h)))return h.v}return 0}},{key:"_makeHeader",value:function(a){var b=document.createElement("div");b.className="vis-configuration vis-config-header",b.innerHTML=a,this._makeItem([],b)}},{key:"_makeLabel",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=document.createElement("div");return d.className="vis-configuration vis-config-label vis-config-s"+b.length,c===!0?d.innerHTML="<i><b>"+a+":</b></i>":d.innerHTML=a+":",d}},{key:"_makeDropdown",value:function(a,b,c){var d=document.createElement("select");d.className="vis-configuration vis-config-select";var e=0;void 0!==b&&a.indexOf(b)!==-1&&(e=a.indexOf(b));for(var f=0;f<a.length;f++){var g=document.createElement("option");g.value=a[f],f===e&&(g.selected="selected"),g.innerHTML=a[f],d.appendChild(g)}var h=this;d.onchange=function(){h._update(this.value,c)};var i=this._makeLabel(c[c.length-1],c);this._makeItem(c,i,d)}},{key:"_makeRange",value:function(a,b,c){var d=a[0],e=a[1],f=a[2],g=a[3],h=document.createElement("input");h.className="vis-configuration vis-config-range";try{h.type="range",h.min=e,h.max=f}catch(a){}h.step=g;var i="",j=0;if(void 0!==b){var k=1.2;b<0&&b*k<e?(h.min=Math.ceil(b*k),j=h.min,i="range increased"):b/k<e&&(h.min=Math.ceil(b/k),j=h.min,i="range increased"),b*k>f&&1!==f&&(h.max=Math.ceil(b*k),j=h.max,i="range increased"),h.value=b}else h.value=d;var l=document.createElement("input");l.className="vis-configuration vis-config-rangeinput",l.value=h.value;var m=this;h.onchange=function(){l.value=this.value,m._update(Number(this.value),c)},h.oninput=function(){l.value=this.value};var n=this._makeLabel(c[c.length-1],c),o=this._makeItem(c,n,h,l);""!==i&&this.popupHistory[o]!==j&&(this.popupHistory[o]=j,this._setupPopup(i,o))}},{key:"_setupPopup",value:function(a,b){var c=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var d=document.createElement("div");d.id="vis-configuration-popup",d.className="vis-configuration-popup",d.innerHTML=a,d.onclick=function(){c._removePopup()},this.popupCounter+=1,this.popupDiv={html:d,index:b}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var a=this;if(void 0!==this.popupDiv.html){var b=this.domElements[this.popupDiv.index],c=b.getBoundingClientRect();this.popupDiv.html.style.left=c.left+"px",this.popupDiv.html.style.top=c.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){a.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){a._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(a,b,c){var d=document.createElement("input");d.type="checkbox",d.className="vis-configuration vis-config-checkbox",d.checked=a,void 0!==b&&(d.checked=b,b!==a&&("object"===("undefined"==typeof a?"undefined":f(a))?b!==a.enabled&&this.changedOptions.push({path:c,value:b}):this.changedOptions.push({path:c,value:b})));var e=this;d.onchange=function(){e._update(this.checked,c)};var g=this._makeLabel(c[c.length-1],c);this._makeItem(c,g,d)}},{key:"_makeTextInput",value:function(a,b,c){var d=document.createElement("input");d.type="text",d.className="vis-configuration vis-config-text",d.value=b,b!==a&&this.changedOptions.push({path:c,value:b});var e=this;d.onchange=function(){e._update(this.value,c)};var f=this._makeLabel(c[c.length-1],c);this._makeItem(c,f,d)}},{key:"_makeColorField",value:function(a,b,c){var d=this,e=a[1],f=document.createElement("div");b=void 0===b?e:b,"none"!==b?(f.className="vis-configuration vis-config-colorBlock",f.style.backgroundColor=b):f.className="vis-configuration vis-config-colorBlock none",b=void 0===b?e:b,f.onclick=function(){d._showColorPicker(b,f,c)};var g=this._makeLabel(c[c.length-1],c);this._makeItem(c,g,f)}},{key:"_showColorPicker",value:function(a,b,c){var d=this;b.onclick=function(){},this.colorPicker.insertTo(b),this.colorPicker.show(),this.colorPicker.setColor(a),this.colorPicker.setUpdateCallback(function(a){var e="rgba("+a.r+","+a.g+","+a.b+","+a.a+")";b.style.backgroundColor=e,d._update(e,c)}),this.colorPicker.setCloseCallback(function(){b.onclick=function(){d._showColorPicker(a,b,c)}})}},{key:"_handleObject",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=!1,e=this.options.filter,f=!1;for(var g in a)if(a.hasOwnProperty(g)){d=!0;var h=a[g],i=j.copyAndExtendArray(b,g);if("function"==typeof e&&(d=e(g,b),d===!1&&!(h instanceof Array)&&"string"!=typeof h&&"boolean"!=typeof h&&h instanceof Object&&(this.allowCreation=!1,d=this._handleObject(h,i,!0),this.allowCreation=c===!1)),d!==!1){f=!0;var k=this._getValue(i);if(h instanceof Array)this._handleArray(h,k,i);else if("string"==typeof h)this._makeTextInput(h,k,i);else if("boolean"==typeof h)this._makeCheckbox(h,k,i);else if(h instanceof Object){var l=!0;if(b.indexOf("physics")!==-1&&this.moduleOptions.physics.solver!==g&&(l=!1),l===!0)if(void 0!==h.enabled){var m=j.copyAndExtendArray(i,"enabled"),n=this._getValue(m);if(n===!0){var o=this._makeLabel(g,i,!0);this._makeItem(i,o),f=this._handleObject(h,i)||f}else this._makeCheckbox(h,n,i)}else{var p=this._makeLabel(g,i,!0);this._makeItem(i,p),f=this._handleObject(h,i)||f}}else console.error("dont know how to handle",h,g,i)}}return f}},{key:"_handleArray",value:function(a,b,c){"string"==typeof a[0]&&"color"===a[0]?(this._makeColorField(a,b,c),a[1]!==b&&this.changedOptions.push({path:c,value:b})):"string"==typeof a[0]?(this._makeDropdown(a,b,c),a[0]!==b&&this.changedOptions.push({path:c,value:b})):"number"==typeof a[0]&&(this._makeRange(a,b,c),a[0]!==b&&this.changedOptions.push({path:c,value:Number(b)}))}},{key:"_update",value:function(a,b){var c=this._constructOptions(a,b);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",c),this.initialized=!0,this.parent.setOptions(c)}},{key:"_constructOptions",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=c;a="true"===a||a,a="false"!==a&&a;for(var e=0;e<b.length;e++)"global"!==b[e]&&(void 0===d[b[e]]&&(d[b[e]]={}),e!==b.length-1?d=d[b[e]]:d[b[e]]=a);return c}},{key:"_printOptions",value:function(){var a=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(a,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var a={},b=0;b<this.changedOptions.length;b++)this._constructOptions(this.changedOptions[b].value,this.changedOptions[b].path,a);return a}}]),a}();b.default=k},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(22),g=c(30),h=c(1),i=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;d(this,a),this.pixelRatio=b,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return e(a,[{key:"insertTo",value:function(a){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=a,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(a){if("function"!=typeof a)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=a}},{key:"setCloseCallback",value:function(a){if("function"!=typeof a)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=a}},{key:"_isColorString",value:function(a){var b={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};if("string"==typeof a)return b[a]}},{key:"setColor",value:function(a){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==a){var c=void 0,d=this._isColorString(a);if(void 0!==d&&(a=d),h.isString(a)===!0){if(h.isValidRGB(a)===!0){var e=a.substr(4).substr(0,a.length-5).split(",");c={r:e[0],g:e[1],b:e[2],a:1}}else if(h.isValidRGBA(a)===!0){var f=a.substr(5).substr(0,a.length-6).split(",");c={r:f[0],g:f[1],b:f[2],a:f[3]}}else if(h.isValidHex(a)===!0){var g=h.hexToRGB(a);c={r:g.r,g:g.g,b:g.b,a:1}}}else if(a instanceof Object&&void 0!==a.r&&void 0!==a.g&&void 0!==a.b){var i=void 0!==a.a?a.a:"1.0";c={r:a.r,g:a.g,b:a.b,a:i}}if(void 0===c)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(a));this._setColor(c,b)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var a=this,b=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];b===!0&&(this.previousColor=h.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==a.closeCallback&&(a.closeCallback(),a.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(a){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];b===!0&&(this.initialColor=h.extend({},a)),this.color=a;var c=h.RGBToHSV(a.r,a.g,a.b),d=2*Math.PI,e=this.r*c.s,f=this.centerCoordinates.x+e*Math.sin(d*c.h),g=this.centerCoordinates.y+e*Math.cos(d*c.h);this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=g-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(a)}},{key:"_setOpacity",value:function(a){this.color.a=a/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(a){var b=h.RGBToHSV(this.color.r,this.color.g,this.color.b);b.v=a/100;var c=h.HSVToRGB(b.h,b.s,b.v);c.a=this.color.a,this.color=c,this._updatePicker()}},{key:"_updatePicker",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,b=h.RGBToHSV(a.r,a.g,a.b),c=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1)),c.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var d=this.colorPickerCanvas.clientWidth,e=this.colorPickerCanvas.clientHeight;c.clearRect(0,0,d,e),c.putImageData(this.hueCircle,0,0),c.fillStyle="rgba(0,0,0,"+(1-b.v)+")",c.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),c.fill(),this.brightnessRange.value=100*b.v,this.opacityRange.value=100*a.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var b=document.createElement("DIV");b.style.color="red",b.style.fontWeight="bold",b.style.padding="10px",b.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(b)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(a){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(a){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var c=this;this.opacityRange.onchange=function(){c._setOpacity(this.value)},this.opacityRange.oninput=function(){c._setOpacity(this.value)},this.brightnessRange.onchange=function(){c._setBrightness(this.value)},this.brightnessRange.oninput=function(){c._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var a=this;this.drag={},this.pinch={},this.hammer=new f(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),g.onTouch(this.hammer,function(b){a._moveSelector(b)}),this.hammer.on("tap",function(b){a._moveSelector(b)}),this.hammer.on("panstart",function(b){a._moveSelector(b)}),this.hammer.on("panmove",function(b){a._moveSelector(b)}),this.hammer.on("panend",function(b){a._moveSelector(b)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var a=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)),a.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var b=this.colorPickerCanvas.clientWidth,c=this.colorPickerCanvas.clientHeight;a.clearRect(0,0,b,c);var d=void 0,e=void 0,f=void 0,g=void 0;this.centerCoordinates={x:.5*b,y:.5*c},this.r=.49*b;var i=2*Math.PI/360,j=1/360,k=1/this.r,l=void 0;for(f=0;f<360;f++)for(g=0;g<this.r;g++)d=this.centerCoordinates.x+g*Math.sin(i*f),e=this.centerCoordinates.y+g*Math.cos(i*f),l=h.HSVToRGB(f*j,g*k,1),a.fillStyle="rgb("+l.r+","+l.g+","+l.b+")",a.fillRect(d-.5,e-.5,2,2);a.strokeStyle="rgba(0,0,0,1)",a.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),a.stroke(),this.hueCircle=a.getImageData(0,0,b,c)}this.generated=!0}},{key:"_moveSelector",value:function(a){var b=this.colorPickerDiv.getBoundingClientRect(),c=a.center.x-b.left,d=a.center.y-b.top,e=.5*this.colorPickerDiv.clientHeight,f=.5*this.colorPickerDiv.clientWidth,g=c-f,i=d-e,j=Math.atan2(g,i),k=.98*Math.min(Math.sqrt(g*g+i*i),f),l=Math.cos(j)*k+e,m=Math.sin(j)*k+f;this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=m-.5*this.colorPickerSelector.clientWidth+"px";var n=j/(2*Math.PI);n=n<0?n+1:n;var o=k/this.r,p=h.RGBToHSV(this.color.r,this.color.g,this.color.b);p.h=n,p.s=o;var q=h.HSVToRGB(p.h,p.s,p.v);q.a=this.color.a,this.color=q,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),a}();b.default=i},function(a,b,c){c(22);b.onTouch=function(a,b){b.inputHandler=function(a){a.isFirst&&b(a)},a.on("hammer.input",b.inputHandler)},b.onRelease=function(a,b){return b.inputHandler=function(a){a.isFinal&&b(a)},a.on("hammer.input",b.inputHandler)},b.offTouch=function(a,b){a.off("hammer.input",b.inputHandler)},b.offRelease=b.offTouch,b.disablePreventDefaultVertically=function(a){var b="pan-y";return a.getTouchAction=function(){return[b]},a}},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(1),h=!1,i=void 0,j="background: #FFeeee; color: #dd0000",k=function(){function a(){d(this,a)}return f(a,null,[{key:"validate",value:function(b,c,d){h=!1,i=c;var e=c;return void 0!==d&&(e=c[d]),a.parse(b,e,[]),h}},{key:"parse",value:function(b,c,d){for(var e in b)b.hasOwnProperty(e)&&a.check(e,b,c,d)}},{key:"check",value:function(b,c,d,e){void 0===d[b]&&void 0===d.__any__?a.getSuggestion(b,d,e):void 0===d[b]&&void 0!==d.__any__?"object"===a.getType(c[b])&&void 0!==d.__any__.__type__?a.checkFields(b,c,d,"__any__",d.__any__.__type__,e):a.checkFields(b,c,d,"__any__",d.__any__,e):void 0!==d[b].__type__?a.checkFields(b,c,d,b,d[b].__type__,e):a.checkFields(b,c,d,b,d[b],e)}},{key:"checkFields",value:function(b,c,d,e,f,i){var k=a.getType(c[b]),l=f[k];void 0!==l?"array"===a.getType(l)&&l.indexOf(c[b])===-1?(console.log('%cInvalid option detected in "'+b+'". Allowed values are:'+a.print(l)+' not "'+c[b]+'". '+a.printLocation(i,b),j),h=!0):"object"===k&&"__any__"!==e&&(i=g.copyAndExtendArray(i,b),a.parse(c[b],d[e],i)):void 0===f.any&&(console.log('%cInvalid type received for "'+b+'". Expected: '+a.print(Object.keys(f))+". Received ["+k+'] "'+c[b]+'"'+a.printLocation(i,b),j),h=!0)}},{key:"getType",value:function(a){var b="undefined"==typeof a?"undefined":e(a);return"object"===b?null===a?"null":a instanceof Boolean?"boolean":a instanceof Number?"number":a instanceof String?"string":Array.isArray(a)?"array":a instanceof Date?"date":void 0!==a.nodeType?"dom":a._isAMomentObject===!0?"moment":"object":"number"===b?"number":"boolean"===b?"boolean":"string"===b?"string":void 0===b?"undefined":b}},{key:"getSuggestion",value:function(b,c,d){var e=a.findInOptions(b,c,d,!1),f=a.findInOptions(b,i,[],!0),g=8,k=4;void 0!==e.indexMatch?console.log('%cUnknown option detected: "'+b+'" in '+a.printLocation(e.path,b,"")+'Perhaps it was incomplete? Did you mean: "'+e.indexMatch+'"?\n\n',j):f.distance<=k&&e.distance>f.distance?console.log('%cUnknown option detected: "'+b+'" in '+a.printLocation(e.path,b,"")+"Perhaps it was misplaced? Matching option found at: "+a.printLocation(f.path,f.closestMatch,""),j):e.distance<=g?console.log('%cUnknown option detected: "'+b+'". Did you mean "'+e.closestMatch+'"?'+a.printLocation(e.path,b),j):console.log('%cUnknown option detected: "'+b+'". Did you mean one of these: '+a.print(Object.keys(c))+a.printLocation(d,b),j),h=!0}},{key:"findInOptions",value:function(b,c,d){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=1e9,h="",i=[],j=b.toLowerCase(),k=void 0;for(var l in c){var m=void 0;if(void 0!==c[l].__type__&&e===!0){var n=a.findInOptions(b,c[l],g.copyAndExtendArray(d,l));f>n.distance&&(h=n.closestMatch,i=n.path,f=n.distance,k=n.indexMatch)}else l.toLowerCase().indexOf(j)!==-1&&(k=l),m=a.levenshteinDistance(b,l),f>m&&(h=l,i=g.copyArray(d),f=m)}return{closestMatch:h,path:i,distance:f,indexMatch:k}}},{key:"printLocation",value:function(a,b){for(var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",d="\n\n"+c+"options = {\n",e=0;e<a.length;e++){for(var f=0;f<e+1;f++)d+="  ";d+=a[e]+": {\n"}for(var g=0;g<a.length+1;g++)d+="  ";d+=b+"\n";for(var h=0;h<a.length+1;h++){for(var i=0;i<a.length-h;i++)d+="  ";d+="}\n"}return d+"\n\n"}},{key:"print",value:function(a){return JSON.stringify(a).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(a,b){if(0===a.length)return b.length;if(0===b.length)return a.length;var c,d=[];for(c=0;c<=b.length;c++)d[c]=[c];var e;for(e=0;e<=a.length;e++)d[0][e]=e;for(c=1;c<=b.length;c++)for(e=1;e<=a.length;e++)b.charAt(c-1)==a.charAt(e-1)?d[c][e]=d[c-1][e-1]:d[c][e]=Math.min(d[c-1][e-1]+1,Math.min(d[c][e-1]+1,d[c-1][e]+1));return d[b.length][a.length]}}]),a}();b.default=k,b.printStyle=j},function(a,b,c){function d(a,b){var c=h().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=c.clone().add(-3,"days").valueOf(),this.end=c.clone().add(4,"days").valueOf(),this.body=a,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:h,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10},this.options=g.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.setOptions(b)}function e(a){if("horizontal"!=a&&"vertical"!=a)throw new TypeError('Unknown direction "'+a+'". Choose "horizontal" or "vertical".')}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=c(1),h=(c(30),c(2)),i=c(33),j=c(34);d.prototype=new i,d.prototype.setOptions=function(a){if(a){var b=["direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","horizontalScroll"];g.selectiveExtend(b,this.options,a),("start"in a||"end"in a)&&this.setRange(a.start,a.end)}},d.prototype.setRange=function(a,b,c,d){d!==!0&&(d=!1);var e=void 0!=a?g.convert(a,"Date").valueOf():null,h=void 0!=b?g.convert(b,"Date").valueOf():null;if(this._cancelAnimation(),c){var i=this,k=this.start,l=this.end,m="object"===("undefined"==typeof c?"undefined":f(c))&&"duration"in c?c.duration:500,n="object"===("undefined"==typeof c?"undefined":f(c))&&"easingFunction"in c?c.easingFunction:"easeInOutQuad",o=g.easingFunctions[n];if(!o)throw new Error("Unknown easing function "+JSON.stringify(n)+". Choose from: "+Object.keys(g.easingFunctions).join(", "));var p=(new Date).valueOf(),q=!1,r=function a(){if(!i.props.touch.dragging){var b=(new Date).valueOf(),c=b-p,f=o(c/m),g=c>m,n=g||null===e?e:k+(e-k)*f,r=g||null===h?h:l+(h-l)*f;s=i._applyRange(n,r),j.updateHiddenDates(i.options.moment,i.body,i.options.hiddenDates),q=q||s,s&&i.body.emitter.emit("rangechange",{start:new Date(i.start),end:new Date(i.end),byUser:d}),g?q&&i.body.emitter.emit("rangechanged",{start:new Date(i.start),end:new Date(i.end),byUser:d}):i.animationTimer=setTimeout(a,20)}};return r()}var s=this._applyRange(e,h);if(j.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),s){var t={start:new Date(this.start),end:new Date(this.end),byUser:d};this.body.emitter.emit("rangechange",t),this.body.emitter.emit("rangechanged",t)}},d.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},d.prototype._applyRange=function(a,b){var c,d=null!=a?g.convert(a,"Date").valueOf():this.start,e=null!=b?g.convert(b,"Date").valueOf():this.end,f=null!=this.options.max?g.convert(this.options.max,"Date").valueOf():null,h=null!=this.options.min?g.convert(this.options.min,"Date").valueOf():null;if(isNaN(d)||null===d)throw new Error('Invalid start "'+a+'"');if(isNaN(e)||null===e)throw new Error('Invalid end "'+b+'"');if(e<d&&(e=d),null!==h&&d<h&&(c=h-d,d+=c,e+=c,null!=f&&e>f&&(e=f)),null!==f&&e>f&&(c=e-f,d-=c,e-=c,null!=h&&d<h&&(d=h)),null!==this.options.zoomMin){var i=parseFloat(this.options.zoomMin);i<0&&(i=0),e-d<i&&(this.end-this.start===i&&d>this.start&&e<this.end?(d=this.start,e=this.end):(c=i-(e-d),d-=c/2,e+=c/2))}if(null!==this.options.zoomMax){var j=parseFloat(this.options.zoomMax);j<0&&(j=0),e-d>j&&(this.end-this.start===j&&d<this.start&&e>this.end?(d=this.start,e=this.end):(c=e-d-j,d+=c/2,e-=c/2))}var k=this.start!=d||this.end!=e;return d>=this.start&&d<=this.end||e>=this.start&&e<=this.end||this.start>=d&&this.start<=e||this.end>=d&&this.end<=e||this.body.emitter.emit("checkRangedItems"),this.start=d,this.end=e,k},d.prototype.getRange=function(){return{start:this.start,end:this.end}},d.prototype.conversion=function(a,b){return d.conversion(this.start,this.end,a,b)},d.conversion=function(a,b,c,d){return void 0===d&&(d=0),0!=c&&b-a!=0?{offset:a,scale:c/(b-a-d)}:{offset:0,scale:1}},d.prototype._onDragStart=function(a){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(a)&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},d.prototype._onDrag=function(a){if(a&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var b=this.options.direction;e(b);var c="horizontal"==b?a.deltaX:a.deltaY;c-=this.deltaDifference;var d=this.props.touch.end-this.props.touch.start,f=j.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);d-=f;var g="horizontal"==b?this.body.domProps.center.width:this.body.domProps.center.height;
if(this.options.rtl)var h=c/g*d;else var h=-c/g*d;var i=this.props.touch.start+h,k=this.props.touch.end+h,l=j.snapAwayFromHidden(this.body.hiddenDates,i,this.previousDelta-c,!0),m=j.snapAwayFromHidden(this.body.hiddenDates,k,this.previousDelta-c,!0);if(l!=i||m!=k)return this.deltaDifference+=c,this.props.touch.start=l,this.props.touch.end=m,void this._onDrag(a);this.previousDelta=c,this._applyRange(i,k);var n=new Date(this.start),o=new Date(this.end);this.body.emitter.emit("rangechange",{start:n,end:o,byUser:!0}),this.body.emitter.emit("panmove")}},d.prototype._onDragEnd=function(a){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0}))},d.prototype._onMouseWheel=function(a){a.preventDefault();var b=0;if(a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3),this.options.zoomKey&&!a[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable){if(this.options.horizontalScroll){var c=b*(this.end-this.start)/20,d=this.start-c,e=this.end-c;this.setRange(d,e)}}else if(this.options.zoomable&&this.options.moveable&&this._isInsideRange(a)&&b){var f;f=b<0?1-b/5:1/(1+b/5);var g=this.getPointer({x:a.clientX,y:a.clientY},this.body.dom.center),h=this._pointerToDate(g);this.zoom(f,h,b)}},d.prototype._onTouch=function(a){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0},d.prototype._onPinch=function(a){if(this.options.zoomable&&this.options.moveable){this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(a.center,this.body.dom.center));var b=1/(a.scale+this.scaleOffset),c=this._pointerToDate(this.props.touch.center),d=j.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),e=j.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,c),f=d-e,g=c-e+(this.props.touch.start-(c-e))*b,h=c+f+(this.props.touch.end-(c+f))*b;this.startToFront=1-b<=0,this.endToFront=b-1<=0;var i=j.snapAwayFromHidden(this.body.hiddenDates,g,1-b,!0),k=j.snapAwayFromHidden(this.body.hiddenDates,h,b-1,!0);i==g&&k==h||(this.props.touch.start=i,this.props.touch.end=k,this.scaleOffset=1-a.scale,g=i,h=k),this.setRange(g,h,!1,!0),this.startToFront=!1,this.endToFront=!0}},d.prototype._isInsideRange=function(a){var b=a.center?a.center.x:a.clientX;if(this.options.rtl)var c=b-g.getAbsoluteLeft(this.body.dom.centerContainer);else var c=g.getAbsoluteRight(this.body.dom.centerContainer)-b;var d=this.body.util.toTime(c);return d>=this.start&&d<=this.end},d.prototype._pointerToDate=function(a){var b,c=this.options.direction;if(e(c),"horizontal"==c)return this.body.util.toTime(a.x).valueOf();var d=this.body.domProps.center.height;return b=this.conversion(d),a.y/b.scale+b.offset},d.prototype.getPointer=function(a,b){return this.options.rtl?{x:g.getAbsoluteRight(b)-a.x,y:a.y-g.getAbsoluteTop(b)}:{x:a.x-g.getAbsoluteLeft(b),y:a.y-g.getAbsoluteTop(b)}},d.prototype.zoom=function(a,b,c){null==b&&(b=(this.start+this.end)/2);var d=j.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),e=j.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,b),f=d-e,g=b-e+(this.start-(b-e))*a,h=b+f+(this.end-(b+f))*a;this.startToFront=!(c>0),this.endToFront=!(-c>0);var i=j.snapAwayFromHidden(this.body.hiddenDates,g,c,!0),k=j.snapAwayFromHidden(this.body.hiddenDates,h,-c,!0);i==g&&k==h||(g=i,h=k),this.setRange(g,h,!1,!0),this.startToFront=!1,this.endToFront=!0},d.prototype.move=function(a){var b=this.end-this.start,c=this.start+b*a,d=this.end+b*a;this.start=c,this.end=d},d.prototype.moveTo=function(a){var b=(this.start+this.end)/2,c=b-a,d=this.start-c,e=this.end-c;this.setRange(d,e)},a.exports=d},function(a,b,c){function d(a,b){this.options=null,this.props=null}var e=c(1);d.prototype.setOptions=function(a){a&&e.extend(this.options,a)},d.prototype.redraw=function(){return!1},d.prototype.destroy=function(){},d.prototype._isResized=function(){var a=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,a},a.exports=d},function(a,b){b.convertHiddenOptions=function(a,c,d){if(d&&!Array.isArray(d))return b.convertHiddenOptions(a,c,[d]);if(c.hiddenDates=[],d&&1==Array.isArray(d)){for(var e=0;e<d.length;e++)if(void 0===d[e].repeat){var f={};f.start=a(d[e].start).toDate().valueOf(),f.end=a(d[e].end).toDate().valueOf(),c.hiddenDates.push(f)}c.hiddenDates.sort(function(a,b){return a.start-b.start})}},b.updateHiddenDates=function(a,c,d){if(d&&!Array.isArray(d))return b.updateHiddenDates(a,c,[d]);if(d&&void 0!==c.domProps.centerContainer.width){b.convertHiddenOptions(a,c,d);for(var e=a(c.range.start),f=a(c.range.end),g=c.range.end-c.range.start,h=g/c.domProps.centerContainer.width,i=0;i<d.length;i++)if(void 0!==d[i].repeat){var j=a(d[i].start),k=a(d[i].end);if("Invalid Date"==j._d)throw new Error("Supplied start date is not valid: "+d[i].start);if("Invalid Date"==k._d)throw new Error("Supplied end date is not valid: "+d[i].end);var l=k-j;if(l>=4*h){var m=0,n=f.clone();switch(d[i].repeat){case"daily":j.day()!=k.day()&&(m=1),j.dayOfYear(e.dayOfYear()),j.year(e.year()),j.subtract(7,"days"),k.dayOfYear(e.dayOfYear()),k.year(e.year()),k.subtract(7-m,"days"),n.add(1,"weeks");break;case"weekly":var o=k.diff(j,"days"),p=j.day();j.date(e.date()),j.month(e.month()),j.year(e.year()),k=j.clone(),j.day(p),k.day(p),k.add(o,"days"),j.subtract(1,"weeks"),k.subtract(1,"weeks"),n.add(1,"weeks");break;case"monthly":j.month()!=k.month()&&(m=1),j.month(e.month()),j.year(e.year()),j.subtract(1,"months"),k.month(e.month()),k.year(e.year()),k.subtract(1,"months"),k.add(m,"months"),n.add(1,"months");break;case"yearly":j.year()!=k.year()&&(m=1),j.year(e.year()),j.subtract(1,"years"),k.year(e.year()),k.subtract(1,"years"),k.add(m,"years"),n.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",d[i].repeat)}for(;j<n;)switch(c.hiddenDates.push({start:j.valueOf(),end:k.valueOf()}),d[i].repeat){case"daily":j.add(1,"days"),k.add(1,"days");break;case"weekly":j.add(1,"weeks"),k.add(1,"weeks");break;case"monthly":j.add(1,"months"),k.add(1,"months");break;case"yearly":j.add(1,"y"),k.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",d[i].repeat)}c.hiddenDates.push({start:j.valueOf(),end:k.valueOf()})}}b.removeDuplicates(c);var q=b.isHidden(c.range.start,c.hiddenDates),r=b.isHidden(c.range.end,c.hiddenDates),s=c.range.start,t=c.range.end;1==q.hidden&&(s=1==c.range.startToFront?q.startDate-1:q.endDate+1),1==r.hidden&&(t=1==c.range.endToFront?r.startDate-1:r.endDate+1),1!=q.hidden&&1!=r.hidden||c.range._applyRange(s,t)}},b.removeDuplicates=function(a){for(var b=a.hiddenDates,c=[],d=0;d<b.length;d++)for(var e=0;e<b.length;e++)d!=e&&1!=b[e].remove&&1!=b[d].remove&&(b[e].start>=b[d].start&&b[e].end<=b[d].end?b[e].remove=!0:b[e].start>=b[d].start&&b[e].start<=b[d].end?(b[d].end=b[e].end,b[e].remove=!0):b[e].end>=b[d].start&&b[e].end<=b[d].end&&(b[d].start=b[e].start,b[e].remove=!0));for(var d=0;d<b.length;d++)b[d].remove!==!0&&c.push(b[d]);a.hiddenDates=c,a.hiddenDates.sort(function(a,b){return a.start-b.start})},b.printDates=function(a){for(var b=0;b<a.length;b++)console.log(b,new Date(a[b].start),new Date(a[b].end),a[b].start,a[b].end,a[b].remove)},b.stepOverHiddenDates=function(a,b,c){for(var d=!1,e=b.current.valueOf(),f=0;f<b.hiddenDates.length;f++){var g=b.hiddenDates[f].start,h=b.hiddenDates[f].end;if(e>=g&&e<h){d=!0;break}}if(1==d&&e<b._end.valueOf()&&e!=c){var i=a(c),j=a(h);i.year()!=j.year()?b.switchedYear=!0:i.month()!=j.month()?b.switchedMonth=!0:i.dayOfYear()!=j.dayOfYear()&&(b.switchedDay=!0),b.current=j}},b.toScreen=function(a,c,d){if(0==a.body.hiddenDates.length){var e=a.range.conversion(d);return(c.valueOf()-e.offset)*e.scale}var f=b.isHidden(c,a.body.hiddenDates);1==f.hidden&&(c=f.startDate);var g=b.getHiddenDurationBetween(a.body.hiddenDates,a.range.start,a.range.end);if(c<a.range.start){var e=a.range.conversion(d,g),h=b.getHiddenDurationBeforeStart(a.body.hiddenDates,c,e.offset);return c=a.options.moment(c).toDate().valueOf(),c+=h,-(e.offset-c.valueOf())*e.scale}if(c>a.range.end){var i={start:a.range.start,end:c};c=b.correctTimeForHidden(a.options.moment,a.body.hiddenDates,i,c);var e=a.range.conversion(d,g);return(c.valueOf()-e.offset)*e.scale}c=b.correctTimeForHidden(a.options.moment,a.body.hiddenDates,a.range,c);var e=a.range.conversion(d,g);return(c.valueOf()-e.offset)*e.scale},b.toTime=function(a,c,d){if(0==a.body.hiddenDates.length){var e=a.range.conversion(d);return new Date(c/e.scale+e.offset)}var f=b.getHiddenDurationBetween(a.body.hiddenDates,a.range.start,a.range.end),g=a.range.end-a.range.start-f,h=g*c/d,i=b.getAccumulatedHiddenDuration(a.body.hiddenDates,a.range,h),j=new Date(i+h+a.range.start);return j},b.getHiddenDurationBetween=function(a,b,c){for(var d=0,e=0;e<a.length;e++){var f=a[e].start,g=a[e].end;f>=b&&g<c&&(d+=g-f)}return d},b.getHiddenDurationBeforeStart=function(a,b,c){for(var d=0,e=0;e<a.length;e++){var f=a[e].start,g=a[e].end;f>=b&&g<=c&&(d+=g-f)}return d},b.correctTimeForHidden=function(a,c,d,e){return e=a(e).toDate().valueOf(),e-=b.getHiddenDurationBefore(a,c,d,e)},b.getHiddenDurationBefore=function(a,b,c,d){var e=0;d=a(d).toDate().valueOf();for(var f=0;f<b.length;f++){var g=b[f].start,h=b[f].end;g>=c.start&&h<c.end&&d>=h&&(e+=h-g)}return e},b.getAccumulatedHiddenDuration=function(a,b,c){for(var d=0,e=0,f=b.start,g=0;g<a.length;g++){var h=a[g].start,i=a[g].end;if(h>=b.start&&i<b.end){if(e+=h-f,f=i,e>=c)break;d+=i-h}}return d},b.snapAwayFromHidden=function(a,c,d,e){var f=b.isHidden(c,a);return 1==f.hidden?d<0?1==e?f.startDate-(f.endDate-c)-1:f.startDate-1:1==e?f.endDate+(c-f.startDate)+1:f.endDate+1:c},b.isHidden=function(a,b){for(var c=0;c<b.length;c++){var d=b[c].start,e=b[c].end;if(a>=d&&a<e)return{hidden:!0,startDate:d,endDate:e}}return{hidden:!1,startDate:d,endDate:e}}},function(a,b,c){function d(){}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(13),g=c(22),h=c(30),i=c(1),j=(c(9),c(11),c(32),c(36),c(46)),k=c(47),l=c(34),m=c(48);f(d.prototype),d.prototype._create=function(a){function b(a){if(this.isActive()&&this.emit("mousewheel",a),this.options.zoomKey&&!a[this.options.zoomKey]&&!this.options.horizontalScroll){var b=0;a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3);var c=this.props.scrollTop,d=c+120*b;this.isActive()&&(this._setScrollTop(d),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-d,this.dom.right.parentNode.scrollTop=-d),this._redraw(),this.emit("scroll",a)),a.preventDefault()}}function c(a){if(f.options.verticalScroll&&(a.preventDefault(),f.isActive())){var b=-a.target.scrollTop;f._setScrollTop(b),f._redraw(),f.emit("scrollSide",a)}}function d(a){if(a.preventDefault&&a.preventDefault(),a.target.className.includes("vis")&&!k)return a.dataTransfer.dropEffect="move",k=!0,!1}function e(a){try{var b=JSON.parse(a.dataTransfer.getData("text/plain"));if(!b.content)return}catch(a){return!1}return k=!1,a.center={x:a.x,y:a.y},f.itemSet._onAddItem(a),!1}this.dom={},this.dom.container=a,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){this.initialDrawDone===!0&&this._redraw()}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var f=this;this.on("_change",function(a){a&&1==a.queue?f._redrawTimer||(f._redrawTimer=setTimeout(function(){f._redrawTimer=null,f._redraw()},0)):f._redraw()}),this.hammer=new g(this.dom.root);var i=this.hammer.get("pinch").set({enable:!0});h.disablePreventDefaultVertically(i),this.hammer.get("pan").set({threshold:5,direction:g.DIRECTION_HORIZONTAL}),this.listeners={};var j=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];j.forEach(function(a){var b=function(b){f.isActive()&&f.emit(a,b)};f.hammer.on(a,b),f.listeners[a]=b}),h.onTouch(this.hammer,function(a){f.emit("touch",a)}.bind(this)),h.onRelease(this.hammer,function(a){f.emit("release",a)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",b.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",b.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",b.bind(this)),this.dom.left.parentNode.addEventListener("scroll",c.bind(this)),this.dom.right.parentNode.addEventListener("scroll",c.bind(this));var k=!1;if(this.dom.center.addEventListener("dragover",d.bind(this),!1),this.dom.center.addEventListener("drop",e.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,!a)throw new Error("No container provided");a.appendChild(this.dom.root)},d.prototype.setOptions=function(a){if(a){var b=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"];if(i.selectiveExtend(b,this.options,a),this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),this.options.orientation={item:void 0,axis:void 0},"orientation"in a&&("string"==typeof a.orientation?this.options.orientation={item:a.orientation,axis:a.orientation}:"object"===e(a.orientation)&&("item"in a.orientation&&(this.options.orientation.item=a.orientation.item),"axis"in a.orientation&&(this.options.orientation.axis=a.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var c=this.timeAxis2=new j(this.body);c.setOptions=function(a){var b=a?i.extend({},a):{};b.orientation="top",j.prototype.setOptions.call(c,b)},this.components.push(c)}}else if(this.timeAxis2){var d=this.components.indexOf(this.timeAxis2);d!==-1&&this.components.splice(d,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof a.drawPoints&&(a.drawPoints={onRender:a.drawPoints}),"hiddenDates"in this.options&&l.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in a&&(a.clickToUse?this.activator||(this.activator=new k(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in a)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(b){return b.setOptions(a)}),"configure"in a){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(a.configure);var f=i.deepExtend({},this.options);this.components.forEach(function(a){i.deepExtend(f,a.options)}),this.configurator.setModuleOptions({global:f})}this._origRedraw?this._redraw():(this._origRedraw=this._redraw.bind(this),this._redraw=i.throttle(this._origRedraw))},d.prototype.isActive=function(){return!this.activator||this.activator.active},d.prototype.destroy=function(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var a in this.listeners)this.listeners.hasOwnProperty(a)&&delete this.listeners[a];this.listeners=null,this.hammer=null,this.components.forEach(function(a){return a.destroy()}),this.body=null},d.prototype.setCustomTime=function(a,b){var c=this.customTimes.filter(function(a){return b===a.options.id});if(0===c.length)throw new Error("No custom time bar found with id "+JSON.stringify(b));c.length>0&&c[0].setCustomTime(a)},d.prototype.getCustomTime=function(a){var b=this.customTimes.filter(function(b){return b.options.id===a});if(0===b.length)throw new Error("No custom time bar found with id "+JSON.stringify(a));return b[0].getCustomTime()},d.prototype.setCustomTimeTitle=function(a,b){var c=this.customTimes.filter(function(a){return a.options.id===b});if(0===c.length)throw new Error("No custom time bar found with id "+JSON.stringify(b));if(c.length>0)return c[0].setCustomTitle(a)},d.prototype.getEventProperties=function(a){return{event:a}},d.prototype.addCustomTime=function(a,b){var c=void 0!==a?i.convert(a,"Date").valueOf():new Date,d=this.customTimes.some(function(a){return a.options.id===b});if(d)throw new Error("A custom time with id "+JSON.stringify(b)+" already exists");var e=new m(this.body,i.extend({},this.options,{time:c,id:b}));return this.customTimes.push(e),this.components.push(e),this._redraw(),b},d.prototype.removeCustomTime=function(a){var b=this.customTimes.filter(function(b){return b.options.id===a});if(0===b.length)throw new Error("No custom time bar found with id "+JSON.stringify(a));b.forEach(function(a){this.customTimes.splice(this.customTimes.indexOf(a),1),this.components.splice(this.components.indexOf(a),1),a.destroy()}.bind(this))},d.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},d.prototype.fit=function(a){var b=this.getDataRange();if(null!==b.min||null!==b.max){var c=b.max-b.min,d=new Date(b.min.valueOf()-.01*c),e=new Date(b.max.valueOf()+.01*c),f=!a||void 0===a.animation||a.animation;this.range.setRange(d,e,f)}},d.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},d.prototype.setWindow=function(a,b,c){var d;if(1==arguments.length){var e=arguments[0];d=void 0===e.animation||e.animation,this.range.setRange(e.start,e.end,d)}else d=!c||void 0===c.animation||c.animation,this.range.setRange(a,b,d)},d.prototype.moveTo=function(a,b){var c=this.range.end-this.range.start,d=i.convert(a,"Date").valueOf(),e=d-c/2,f=d+c/2,g=!b||void 0===b.animation||b.animation;this.range.setRange(e,f,g)},d.prototype.getWindow=function(){var a=this.range.getRange();return{start:new Date(a.start),end:new Date(a.end)}},d.prototype.zoomIn=function(a){if(!(!a||a<0||a>1)){var b=this.getWindow(),c=b.start.valueOf(),d=b.end.valueOf(),e=d-c,f=e/(1+a),g=(e-f)/2,h=c+g,i=d-g;this.setWindow({start:h,end:i})}},d.prototype.zoomOut=function(a){if(!(!a||a<0||a>1)){var b=this.getWindow(),c=b.start.valueOf(),d=b.end.valueOf(),e=d-c,f=c-e*a/2,g=d+e*a/2;this.setWindow({start:f,end:g})}},d.prototype.redraw=function(){this._redraw()},d.prototype._redraw=function(){this.redrawCount++;var a=!1,b=this.options,c=this.props,d=this.dom;if(d&&d.container&&0!=d.root.offsetWidth){l.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==b.orientation?(i.addClassName(d.root,"vis-top"),i.removeClassName(d.root,"vis-bottom")):(i.removeClassName(d.root,"vis-top"),i.addClassName(d.root,"vis-bottom")),d.root.style.maxHeight=i.option.asSize(b.maxHeight,""),d.root.style.minHeight=i.option.asSize(b.minHeight,""),d.root.style.width=i.option.asSize(b.width,""),c.border.left=(d.centerContainer.offsetWidth-d.centerContainer.clientWidth)/2,c.border.right=c.border.left,c.border.top=(d.centerContainer.offsetHeight-d.centerContainer.clientHeight)/2,c.border.bottom=c.border.top;var e=d.root.offsetHeight-d.root.clientHeight,f=d.root.offsetWidth-d.root.clientWidth;0===d.centerContainer.clientHeight&&(c.border.left=c.border.top,c.border.right=c.border.left),0===d.root.clientHeight&&(f=e),c.center.height=d.center.offsetHeight,c.left.height=d.left.offsetHeight,c.right.height=d.right.offsetHeight,c.top.height=d.top.clientHeight||-c.border.top,c.bottom.height=d.bottom.clientHeight||-c.border.bottom;var h=Math.max(c.left.height,c.center.height,c.right.height),j=c.top.height+h+c.bottom.height+e+c.border.top+c.border.bottom;d.root.style.height=i.option.asSize(b.height,j+"px"),c.root.height=d.root.offsetHeight,c.background.height=c.root.height-e;var k=c.root.height-c.top.height-c.bottom.height-e;c.centerContainer.height=k,c.leftContainer.height=k,c.rightContainer.height=c.leftContainer.height,c.root.width=d.root.offsetWidth,c.background.width=c.root.width-f,this.initialDrawDone||(c.scrollbarWidth=i.getScrollBarWidth()),this.options.verticalScroll?this.options.rtl?(c.left.width=d.leftContainer.clientWidth||-c.border.left,c.right.width=d.rightContainer.clientWidth+c.scrollbarWidth||-c.border.right):(c.left.width=d.leftContainer.clientWidth+c.scrollbarWidth||-c.border.left,c.right.width=d.rightContainer.clientWidth||-c.border.right):(c.left.width=d.leftContainer.clientWidth||-c.border.left,c.right.width=d.rightContainer.clientWidth||-c.border.right),c.leftContainer.width=c.left.width,c.rightContainer.width=c.right.width;var m=c.root.width-c.left.width-c.right.width-f;c.center.width=m,c.centerContainer.width=m,c.top.width=m,c.bottom.width=m,d.background.style.height=c.background.height+"px",d.backgroundVertical.style.height=c.background.height+"px",d.backgroundHorizontal.style.height=c.centerContainer.height+"px",d.centerContainer.style.height=c.centerContainer.height+"px",d.leftContainer.style.height=c.leftContainer.height+"px",d.rightContainer.style.height=c.rightContainer.height+"px",d.background.style.width=c.background.width+"px",d.backgroundVertical.style.width=c.centerContainer.width+"px",d.backgroundHorizontal.style.width=c.background.width+"px",d.centerContainer.style.width=c.center.width+"px",d.top.style.width=c.top.width+"px",d.bottom.style.width=c.bottom.width+"px",d.background.style.left="0",d.background.style.top="0",d.backgroundVertical.style.left=c.left.width+c.border.left+"px",d.backgroundVertical.style.top="0",d.backgroundHorizontal.style.left="0",d.backgroundHorizontal.style.top=c.top.height+"px",d.centerContainer.style.left=c.left.width+"px",d.centerContainer.style.top=c.top.height+"px",d.leftContainer.style.left="0",d.leftContainer.style.top=c.top.height+"px",d.rightContainer.style.left=c.left.width+c.center.width+"px",d.rightContainer.style.top=c.top.height+"px",d.top.style.left=c.left.width+"px",d.top.style.top="0",d.bottom.style.left=c.left.width+"px",d.bottom.style.top=c.top.height+c.centerContainer.height+"px";var n=this._updateScrollTop();"top"!=b.orientation.item&&(n+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),d.center.style.left="0",d.center.style.top=n+"px",d.left.style.left="0",d.right.style.left="0";var o=0==this.props.scrollTop?"hidden":"",p=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";d.shadowTop.style.visibility=o,d.shadowBottom.style.visibility=p,d.shadowTopLeft.style.visibility=o,d.shadowBottomLeft.style.visibility=p,d.shadowTopRight.style.visibility=o,d.shadowBottomRight.style.visibility=p,this.options.verticalScroll?(d.shadowTopRight.style.visibility="hidden",d.shadowBottomRight.style.visibility="hidden",d.shadowTopLeft.style.visibility="hidden",d.shadowBottomLeft.style.visibility="hidden"):(d.left.style.top=n+"px",d.right.style.top=n+"px");var q=this.props.center.height>this.props.centerContainer.height;this.hammer.get("pan").set({direction:q?g.DIRECTION_ALL:g.DIRECTION_HORIZONTAL}),this.components.forEach(function(b){a=b.redraw()||a});var r=5;if(a){if(this.redrawCount<r)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.initialDrawDone=!0,this.body.emitter.emit("changed")}},d.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},d.prototype.setCurrentTime=function(a){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(a)},d.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},d.prototype._toTime=function(a){return l.toTime(this,a,this.props.center.width)},d.prototype._toGlobalTime=function(a){return l.toTime(this,a,this.props.root.width)},d.prototype._toScreen=function(a){return l.toScreen(this,a,this.props.center.width)},d.prototype._toGlobalScreen=function(a){return l.toScreen(this,a,this.props.root.width)},d.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},d.prototype._startAutoResize=function(){var a=this;this._stopAutoResize(),this._onResize=function(){return 1!=a.options.autoResize?void a._stopAutoResize():void(a.dom.root&&(a.dom.root.offsetWidth==a.props.lastWidth&&a.dom.root.offsetHeight==a.props.lastHeight||(a.props.lastWidth=a.dom.root.offsetWidth,a.props.lastHeight=a.dom.root.offsetHeight,a.body.emitter.emit("_change"))))},i.addEventListener(window,"resize",this._onResize),a.dom.root&&(a.props.lastWidth=a.dom.root.offsetWidth,a.props.lastHeight=a.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},d.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(i.removeEventListener(window,"resize",this._onResize),this._onResize=null)},d.prototype._onTouch=function(a){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},d.prototype._onPinch=function(a){this.touch.allowDragging=!1},d.prototype._onDrag=function(a){if(a&&this.touch.allowDragging){var b=a.deltaY,c=this._getScrollTop(),d=this._setScrollTop(this.touch.initialScrollTop+b);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),d!=c&&this.emit("verticalDrag")}},d.prototype._setScrollTop=function(a){return this.props.scrollTop=a,this._updateScrollTop(),this.props.scrollTop},d.prototype._updateScrollTop=function(){var a=Math.min(this.props.centerContainer.height-this.props.center.height,0);return a!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=a-this.props.scrollTopMin),this.props.scrollTopMin=a),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<a&&(this.props.scrollTop=a),this.props.scrollTop},d.prototype._getScrollTop=function(){return this.props.scrollTop},d.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},a.exports=d},function(a,b,c){function d(a,b){this.body=a,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,groupOrderSwap:function(a,b,c){var d=b.order;b.order=a.order,a.order=d},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:!1,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:j.snap,onAdd:function(a,b){b(a)},onUpdate:function(a,b){b(a)},onMove:function(a,b){b(a)},onRemove:function(a,b){b(a)},onMoving:function(a,b){b(a)},onAddGroup:function(a,b){b(a)},onMoveGroup:function(a,b){b(a)},onRemoveGroup:function(a,b){b(a)},margin:{item:{horizontal:10,vertical:10},axis:20},tooltipOnItemUpdateTime:!1},this.options=g.extend({},this.defaultOptions),this.options.rtl=b.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:a.util.toScreen,toTime:a.util.toTime},this.dom={},this.props={},this.hammer=null;var c=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(a,b,d){c._onAdd(b.items)},update:function(a,b,d){c._onUpdate(b.items)},remove:function(a,b,d){c._onRemove(b.items)}},this.groupListeners={add:function(a,b,d){c._onAddGroups(b.items)},update:function(a,b,d){c._onUpdateGroups(b.items)},remove:function(a,b,d){c._onRemoveGroups(b.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(b)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(22),g=c(1),h=c(9),i=c(11),j=c(37),k=c(33),l=c(38),m=c(42),n=c(43),o=c(44),p=c(40),q=c(45),r="__ungrouped__",s="__background__";d.prototype=new k,d.types={background:q,box:n,range:p,point:o},d.prototype._create=function(){var a=document.createElement("div");a.className="vis-itemset",a["timeline-itemset"]=this,this.dom.frame=a;var b=document.createElement("div");b.className="vis-background",a.appendChild(b),this.dom.background=b;var c=document.createElement("div");c.className="vis-foreground",a.appendChild(c),this.dom.foreground=c;var d=document.createElement("div");d.className="vis-axis",this.dom.axis=d;var e=document.createElement("div");e.className="vis-labelset",this.dom.labelSet=e,this._updateUngrouped();
var g=new m(s,null,this);g.show(),this.groups[s]=g,this.hammer=new f(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(a){a.isFirst&&this._onTouch(a)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:f.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new f(this.body.dom.rightContainer):this.groupHammer=new f(this.body.dom.leftContainer),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:f.DIRECTION_HORIZONTAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.show()},d.prototype.setOptions=function(a){if(a){var b=["type","rtl","align","order","stack","selectable","multiselect","itemsAlwaysDraggable","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","hide","snap","groupOrderSwap","tooltipOnItemUpdateTime"];g.selectiveExtend(b,this.options,a),"orientation"in a&&("string"==typeof a.orientation?this.options.orientation.item="top"===a.orientation?"top":"bottom":"object"===e(a.orientation)&&"item"in a.orientation&&(this.options.orientation.item=a.orientation.item)),"margin"in a&&("number"==typeof a.margin?(this.options.margin.axis=a.margin,this.options.margin.item.horizontal=a.margin,this.options.margin.item.vertical=a.margin):"object"===e(a.margin)&&(g.selectiveExtend(["axis"],this.options.margin,a.margin),"item"in a.margin&&("number"==typeof a.margin.item?(this.options.margin.item.horizontal=a.margin.item,this.options.margin.item.vertical=a.margin.item):"object"===e(a.margin.item)&&g.selectiveExtend(["horizontal","vertical"],this.options.margin.item,a.margin.item)))),"editable"in a&&("boolean"==typeof a.editable?(this.options.editable.updateTime=a.editable,this.options.editable.updateGroup=a.editable,this.options.editable.add=a.editable,this.options.editable.remove=a.editable):"object"===e(a.editable)&&g.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,a.editable)),"groupEditable"in a&&("boolean"==typeof a.groupEditable?(this.options.groupEditable.order=a.groupEditable,this.options.groupEditable.add=a.groupEditable,this.options.groupEditable.remove=a.groupEditable):"object"===e(a.groupEditable)&&g.selectiveExtend(["order","add","remove"],this.options.groupEditable,a.groupEditable));var c=function(b){var c=a[b];if(c){if(!(c instanceof Function))throw new Error("option "+b+" must be a function "+b+"(item, callback)");this.options[b]=c}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(c),this.markDirty()}},d.prototype.markDirty=function(a){this.groupIds=[],this.stackDirty=!0,a&&a.refreshItems&&g.forEach(this.items,function(a){a.dirty=!0,a.displayed&&a.redraw()})},d.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},d.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},d.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},d.prototype.setSelection=function(a){var b,c,d,e;for(void 0==a&&(a=[]),Array.isArray(a)||(a=[a]),b=0,c=this.selection.length;b<c;b++)d=this.selection[b],e=this.items[d],e&&e.unselect();for(this.selection=[],b=0,c=a.length;b<c;b++)d=a[b],e=this.items[d],e&&(this.selection.push(d),e.select())},d.prototype.getSelection=function(){return this.selection.concat([])},d.prototype.getVisibleItems=function(){var a=this.body.range.getRange();if(this.options.rtl)var b=this.body.util.toScreen(a.start),c=this.body.util.toScreen(a.end);else var c=this.body.util.toScreen(a.start),b=this.body.util.toScreen(a.end);var d=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e))for(var f=this.groups[e],g=f.visibleItems,h=0;h<g.length;h++){var i=g[h];this.options.rtl?i.right<c&&i.right+i.width>b&&d.push(i.id):i.left<b&&i.left+i.width>c&&d.push(i.id)}return d},d.prototype._deselect=function(a){for(var b=this.selection,c=0,d=b.length;c<d;c++)if(b[c]==a){b.splice(c,1);break}},d.prototype.redraw=function(){var a=this.options.margin,b=this.body.range,c=g.option.asSize,d=this.options,e=d.orientation.item,f=!1,h=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,h.className="vis-itemset",f=this._orderGroups()||f;var i=b.end-b.start,j=i!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;j&&(this.stackDirty=!0),this.lastVisibleInterval=i,this.props.lastWidth=this.props.width;var k=this.stackDirty,l=this._firstGroup(),m={item:a.item,axis:a.axis},n={item:a.item,axis:a.item.vertical/2},o=0,p=a.axis+a.item.vertical;return this.groups[s].redraw(b,n,k),g.forEach(this.groups,function(a){var c=a==l?m:n,d=a.redraw(b,c,k);f=d||f,o+=a.height}),o=Math.max(o,p),this.stackDirty=!1,h.style.height=c(o),this.props.width=h.offsetWidth,this.props.height=o,this.dom.axis.style.top=c("top"==e?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",f=this._isResized()||f},d.prototype._firstGroup=function(){var a="top"==this.options.orientation.item?0:this.groupIds.length-1,b=this.groupIds[a],c=this.groups[b]||this.groups[r];return c||null},d.prototype._updateUngrouped=function(){var a,b,c=this.groups[r];this.groups[s];if(this.groupsData){if(c){c.hide(),delete this.groups[r];for(b in this.items)if(this.items.hasOwnProperty(b)){a=this.items[b],a.parent&&a.parent.remove(a);var d=this._getGroupId(a.data),e=this.groups[d];e&&e.add(a)||a.hide()}}}else if(!c){var f=null,g=null;c=new l(f,g,this),this.groups[r]=c;for(b in this.items)this.items.hasOwnProperty(b)&&(a=this.items[b],c.add(a));c.show()}},d.prototype.getLabelSet=function(){return this.dom.labelSet},d.prototype.setItems=function(a){var b,c=this,d=this.itemsData;if(a){if(!(a instanceof h||a instanceof i))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=a}else this.itemsData=null;if(d&&(g.forEach(this.itemListeners,function(a,b){d.off(b,a)}),b=d.getIds(),this._onRemove(b)),this.itemsData){var e=this.id;g.forEach(this.itemListeners,function(a,b){c.itemsData.on(b,a,e)}),b=this.itemsData.getIds(),this._onAdd(b),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},d.prototype.getItems=function(){return this.itemsData},d.prototype.setGroups=function(a){var b,c=this;if(this.groupsData&&(g.forEach(this.groupListeners,function(a,b){c.groupsData.off(b,a)}),b=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(b)),a){if(!(a instanceof h||a instanceof i))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=a}else this.groupsData=null;if(this.groupsData){var d=this.id;g.forEach(this.groupListeners,function(a,b){c.groupsData.on(b,a,d)}),b=this.groupsData.getIds(),this._onAddGroups(b)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},d.prototype.getGroups=function(){return this.groupsData},d.prototype.removeItem=function(a){var b=this.itemsData.get(a),c=this.itemsData.getDataSet();b&&this.options.onRemove(b,function(b){b&&c.remove(a)})},d.prototype._getType=function(a){return a.type||this.options.type||(a.end?"range":"box")},d.prototype._getGroupId=function(a){var b=this._getType(a);return"background"==b&&void 0==a.group?s:this.groupsData?a.group:r},d.prototype._onUpdate=function(a){var b=this;a.forEach(function(a){var c,e=b.itemsData.get(a,b.itemOptions),f=b.items[a],g=e?b._getType(e):null,h=d.types[g];if(f&&(h&&f instanceof h?b._updateItem(f,e):(c=f.selected,b._removeItem(f),f=null)),!f&&e){if(!h)throw"rangeoverflow"==g?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+g+'"');f=new h(e,b.conversion,b.options),f.id=a,b._addItem(f),c&&(this.selection.push(a),f.select())}}.bind(this)),this._order(),this.stackDirty=!0,this.body.emitter.emit("_change",{queue:!0})},d.prototype._onAdd=d.prototype._onUpdate,d.prototype._onRemove=function(a){var b=0,c=this;a.forEach(function(a){var d=c.items[a];d&&(b++,c._removeItem(d))}),b&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("_change",{queue:!0}))},d.prototype._order=function(){g.forEach(this.groups,function(a){a.order()})},d.prototype._onUpdateGroups=function(a){this._onAddGroups(a)},d.prototype._onAddGroups=function(a){var b=this;a.forEach(function(a){var c=b.groupsData.get(a),d=b.groups[a];if(d)d.setData(c);else{if(a==r||a==s)throw new Error("Illegal group id. "+a+" is a reserved id.");var e=Object.create(b.options);g.extend(e,{height:null}),d=new l(a,c,b),b.groups[a]=d;for(var f in b.items)if(b.items.hasOwnProperty(f)){var h=b.items[f];h.data.group==a&&d.add(h)}d.order(),d.show()}}),this.body.emitter.emit("_change",{queue:!0})},d.prototype._onRemoveGroups=function(a){var b=this.groups;a.forEach(function(a){var c=b[a];c&&(c.hide(),delete b[a])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},d.prototype._orderGroups=function(){if(this.groupsData){var a=this.groupsData.getIds({order:this.options.groupOrder}),b=!g.equalArray(a,this.groupIds);if(b){var c=this.groups;a.forEach(function(a){c[a].hide()}),a.forEach(function(a){c[a].show()}),this.groupIds=a}return b}return!1},d.prototype._addItem=function(a){this.items[a.id]=a;var b=this._getGroupId(a.data),c=this.groups[b];c&&c.add(a)},d.prototype._updateItem=function(a,b){var c=a.data.group,d=a.data.subgroup;if(a.setData(b),c!=a.data.group||d!=a.data.subgroup){var e=this.groups[c];e&&e.remove(a);var f=this._getGroupId(a.data),g=this.groups[f];g&&g.add(a)}},d.prototype._removeItem=function(a){a.hide(),delete this.items[a.id];var b=this.selection.indexOf(a.id);b!=-1&&this.selection.splice(b,1),a.parent&&a.parent.remove(a)},d.prototype._constructByEndArray=function(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof p&&b.push(a[c]);return b},d.prototype._onTouch=function(a){this.touchParams.item=this.itemFromTarget(a),this.touchParams.dragLeftItem=a.target.dragLeftItem||!1,this.touchParams.dragRightItem=a.target.dragRightItem||!1,this.touchParams.itemProps=null},d.prototype._getGroupIndex=function(a){for(var b=0;b<this.groupIds.length;b++)if(a==this.groupIds[b])return b},d.prototype._onDragStart=function(a){var b,c=this.touchParams.item||null,d=this;if(c&&(c.selected||this.options.itemsAlwaysDraggable)){if(!this.options.editable.updateTime&&!this.options.editable.updateGroup&&!c.editable)return;if(c.editable===!1)return;var e=this.touchParams.dragLeftItem,f=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,e)b={item:e,initialX:a.center.x,dragLeft:!0,data:this._cloneItemData(c.data)},this.touchParams.itemProps=[b];else if(f)b={item:f,initialX:a.center.x,dragRight:!0,data:this._cloneItemData(c.data)},this.touchParams.itemProps=[b];else{this.touchParams.selectedItem=c;var g=this._getGroupIndex(c.data.group),h=this.options.itemsAlwaysDraggable&&!c.selected?[c.id]:this.getSelection();this.touchParams.itemProps=h.map(function(b){var c=d.items[b],e=d._getGroupIndex(c.data.group);return{item:c,initialX:a.center.x,groupOffset:g-e,data:this._cloneItemData(c.data)}}.bind(this))}a.stopPropagation()}else this.options.editable.add&&(a.srcEvent.ctrlKey||a.srcEvent.metaKey)&&this._onDragStartAddItem(a)},d.prototype._onDragStartAddItem=function(a){var b=this.options.snap||null;if(this.options.rtl)var c=g.getAbsoluteRight(this.dom.frame),d=c-a.center.x+10;else var c=g.getAbsoluteLeft(this.dom.frame),d=a.center.x-c-10;var e=this.body.util.toTime(d),f=this.body.util.getScale(),h=this.body.util.getStep(),i=b?b(e,f,h):e,j=i,k={type:"range",start:i,end:j,content:"new item"},l=g.randomUUID();k[this.itemsData._fieldId]=l;var m=this.groupFromTarget(a);m&&(k.group=m.groupId);var n=new p(k,this.conversion,this.options);n.id=l,n.data=this._cloneItemData(k),this._addItem(n);var o={item:n,initialX:a.center.x,data:n.data};this.options.rtl?o.dragLeft=!0:o.dragRight=!0,this.touchParams.itemProps=[o],a.stopPropagation()},d.prototype._onDrag=function(a){if(this.touchParams.itemProps){a.stopPropagation();var b=this,c=this.options.snap||null;if(this.options.rtl)var d=this.body.dom.root.offsetLeft+this.body.domProps.right.width;else var d=this.body.dom.root.offsetLeft+this.body.domProps.left.width;var e=this.body.util.getScale(),f=this.body.util.getStep(),h=this.touchParams.selectedItem,i=b.options.editable.updateGroup,j=null;if(i&&h&&void 0!=h.data.group){var k=b.groupFromTarget(a);k&&(j=this._getGroupIndex(k.groupId))}this.touchParams.itemProps.forEach(function(h){var i=b.body.util.toTime(a.center.x-d),k=b.body.util.toTime(h.initialX-d);if(this.options.rtl)var l=-(i-k);else var l=i-k;var m=this._cloneItemData(h.item.data);if(h.item.editable!==!1){var n=b.options.editable.updateTime||h.item.editable===!0;if(n)if(h.dragLeft){if(this.options.rtl){if(void 0!=m.end){var o=g.convert(h.data.end,"Date"),p=new Date(o.valueOf()+l);m.end=c?c(p,e,f):p}}else if(void 0!=m.start){var q=g.convert(h.data.start,"Date"),r=new Date(q.valueOf()+l);m.start=c?c(r,e,f):r}}else if(h.dragRight){if(this.options.rtl){if(void 0!=m.start){var q=g.convert(h.data.start,"Date"),r=new Date(q.valueOf()+l);m.start=c?c(r,e,f):r}}else if(void 0!=m.end){var o=g.convert(h.data.end,"Date"),p=new Date(o.valueOf()+l);m.end=c?c(p,e,f):p}}else if(void 0!=m.start){var q=g.convert(h.data.start,"Date").valueOf(),r=new Date(q+l);if(void 0!=m.end){var o=g.convert(h.data.end,"Date"),s=o.valueOf()-q.valueOf();m.start=c?c(r,e,f):r,m.end=new Date(m.start.valueOf()+s)}else m.start=c?c(r,e,f):r}var t=b.options.editable.updateGroup||h.item.editable===!0;if(t&&!h.dragLeft&&!h.dragRight&&null!=j&&void 0!=m.group){var u=j-h.groupOffset;u=Math.max(0,u),u=Math.min(b.groupIds.length-1,u),m.group=b.groupIds[u]}m=this._cloneItemData(m),b.options.onMoving(m,function(a){a&&h.item.setData(this._cloneItemData(a,"Date"))}.bind(this))}}.bind(this)),this.stackDirty=!0,this.body.emitter.emit("_change")}},d.prototype._moveToGroup=function(a,b){var c=this.groups[b];if(c&&c.groupId!=a.data.group){var d=a.parent;d.remove(a),d.order(),c.add(a),c.order(),a.data.group=c.groupId}},d.prototype._onDragEnd=function(a){if(this.touchParams.itemProps){a.stopPropagation();var b=this,c=this.itemsData.getDataSet(),d=this.touchParams.itemProps;this.touchParams.itemProps=null,this.touchParams.itemIsDragging=!1,d.forEach(function(a){var d=a.item.id,e=null!=b.itemsData.get(d,b.itemOptions);if(e){var f=this._cloneItemData(a.item.data);b.options.onMove(f,function(e){e?(e[c._fieldId]=d,c.update(e)):(a.item.setData(a.data),b.stackDirty=!0,b.body.emitter.emit("_change"))})}else b.options.onAdd(a.item.data,function(c){b._removeItem(a.item),c&&b.itemsData.getDataSet().add(c),b.stackDirty=!0,b.body.emitter.emit("_change")})}.bind(this))}},d.prototype._onGroupDragStart=function(a){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(a),this.groupTouchParams.group&&(a.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},d.prototype._onGroupDrag=function(a){if(this.options.groupEditable.order&&this.groupTouchParams.group){a.stopPropagation();var b=this.groupFromTarget(a);if(b&&b.height!=this.groupTouchParams.group.height){var c=b.top<this.groupTouchParams.group.top,d=a.center?a.center.y:a.clientY,e=g.getAbsoluteTop(b.dom.foreground),f=this.groupTouchParams.group.height;if(c){if(e+f<d)return}else{var h=b.height;if(e+h-f>d)return}}if(b&&b!=this.groupTouchParams.group){var i=this.groupsData,j=i.get(b.groupId),k=i.get(this.groupTouchParams.group.groupId);k&&j&&(this.options.groupOrderSwap(k,j,this.groupsData),this.groupsData.update(k),this.groupsData.update(j));var l=this.groupsData.getIds({order:this.options.groupOrder});if(!g.equalArray(l,this.groupTouchParams.originalOrder))for(var i=this.groupsData,m=this.groupTouchParams.originalOrder,n=this.groupTouchParams.group.groupId,o=Math.min(m.length,l.length),p=0,q=0,r=0;p<o;){for(;p+q<o&&p+r<o&&l[p+q]==m[p+r];)p++;if(p+q>=o)break;if(l[p+q]!=n)if(m[p+r]!=n){var s=l.indexOf(m[p+r]),t=i.get(l[p+q]),u=i.get(m[p+r]);this.options.groupOrderSwap(t,u,i),i.update(t),i.update(u);var v=l[p+q];l[p+q]=m[p+r],l[s]=v,p++}else r=1;else q=1}}}},d.prototype._onGroupDragEnd=function(a){if(this.options.groupEditable.order&&this.groupTouchParams.group){a.stopPropagation();var b=this,c=b.groupTouchParams.group.groupId,d=b.groupsData.getDataSet(),e=g.extend({},d.get(c));b.options.onMoveGroup(e,function(a){if(a)a[d._fieldId]=c,d.update(a);else{var e=d.getIds({order:b.options.groupOrder});if(!g.equalArray(e,b.groupTouchParams.originalOrder))for(var f=b.groupTouchParams.originalOrder,h=Math.min(f.length,e.length),i=0;i<h;){for(;i<h&&e[i]==f[i];)i++;if(i>=h)break;var j=e.indexOf(f[i]),k=d.get(e[i]),l=d.get(f[i]);b.options.groupOrderSwap(k,l,d),groupsData.update(k),groupsData.update(l);var m=e[i];e[i]=f[i],e[j]=m,i++}}}),b.body.emitter.emit("groupDragged",{groupId:c})}},d.prototype._onSelectItem=function(a){if(this.options.selectable){var b=a.srcEvent&&(a.srcEvent.ctrlKey||a.srcEvent.metaKey),c=a.srcEvent&&a.srcEvent.shiftKey;if(b||c)return void this._onMultiSelectItem(a);var d=this.getSelection(),e=this.itemFromTarget(a),f=e?[e.id]:[];this.setSelection(f);var g=this.getSelection();(g.length>0||d.length>0)&&this.body.emitter.emit("select",{items:g,event:a})}},d.prototype._onMouseOver=function(a){var b=this.itemFromTarget(a);b&&this.body.emitter.emit("itemover",{item:b.id,event:a})},d.prototype._onMouseOut=function(a){var b=this.itemFromTarget(a);b&&this.body.emitter.emit("itemout",{item:b.id,event:a})},d.prototype._onAddItem=function(a){if(this.options.selectable&&this.options.editable.add){var b=this,c=this.options.snap||null,d=this.itemFromTarget(a);if(d){var e=b.itemsData.get(d.id);this.options.onUpdate(e,function(a){a&&b.itemsData.getDataSet().update(a)})}else{if(this.options.rtl)var f=g.getAbsoluteRight(this.dom.frame),h=f-a.center.x;else var f=g.getAbsoluteLeft(this.dom.frame),h=a.center.x-f;var i=this.body.util.toTime(h),j=this.body.util.getScale(),k=this.body.util.getStep(),l={start:c?c(i,j,k):i,content:"new item"};if("drop"==a.type){var e=JSON.parse(a.dataTransfer.getData("text/plain"));if(l.content=e.content,l.type=e.type||"box",l[this.itemsData._fieldId]=e.id||g.randomUUID(),"range"==e.type||e.end&&e.start)if(e.end)l.end=new Date(l.start._i).getTime()+new Date(e.end).getTime()-new Date(e.start).getTime();else{var m=this.body.util.toTime(h+this.props.width/5);l.end=c?c(m,j,k):m}}else if(l[this.itemsData._fieldId]=g.randomUUID(),"range"===this.options.type){var m=this.body.util.toTime(h+this.props.width/5);l.end=c?c(m,j,k):m}var n=this.groupFromTarget(a);n&&(l.group=n.groupId),l=this._cloneItemData(l),this.options.onAdd(l,function(c){c&&(b.itemsData.getDataSet().add(c),"drop"==a.type&&b.setSelection([c.id]))})}}},d.prototype._onMultiSelectItem=function(a){if(this.options.selectable){var b=this.itemFromTarget(a);if(b){var c=this.options.multiselect?this.getSelection():[],e=a.srcEvent&&a.srcEvent.shiftKey||!1;if(e&&this.options.multiselect){var f=this.itemsData.get(b.id).group,g=void 0;this.options.multiselectPerGroup&&c.length>0&&(g=this.itemsData.get(c[0]).group),this.options.multiselectPerGroup&&void 0!=g&&g!=f||c.push(b.id);var h=d._getItemRange(this.itemsData.get(c,this.itemOptions));if(!this.options.multiselectPerGroup||g==f){c=[];for(var i in this.items)if(this.items.hasOwnProperty(i)){var j=this.items[i],k=j.data.start,l=void 0!==j.data.end?j.data.end:k;!(k>=h.min&&l<=h.max)||this.options.multiselectPerGroup&&g!=this.itemsData.get(j.id).group||j instanceof q||c.push(j.id)}}}else{var m=c.indexOf(b.id);m==-1?c.push(b.id):c.splice(m,1)}this.setSelection(c),this.body.emitter.emit("select",{items:this.getSelection(),event:a})}}},d._getItemRange=function(a){var b=null,c=null;return a.forEach(function(a){(null==c||a.start<c)&&(c=a.start),void 0!=a.end?(null==b||a.end>b)&&(b=a.end):(null==b||a.start>b)&&(b=a.start)}),{min:c,max:b}},d.prototype.itemFromTarget=function(a){for(var b=a.target;b;){if(b.hasOwnProperty("timeline-item"))return b["timeline-item"];b=b.parentNode}return null},d.prototype.groupFromTarget=function(a){for(var b=a.center?a.center.y:a.clientY,c=0;c<this.groupIds.length;c++){var d=this.groupIds[c],e=this.groups[d],f=e.dom.foreground,h=g.getAbsoluteTop(f);if(b>h&&b<h+f.offsetHeight)return e;if("top"===this.options.orientation.item){if(c===this.groupIds.length-1&&b>h)return e}else if(0===c&&b<h+f.offset)return e}return null},d.itemSetFromTarget=function(a){for(var b=a.target;b;){if(b.hasOwnProperty("timeline-itemset"))return b["timeline-itemset"];b=b.parentNode}return null},d.prototype._cloneItemData=function(a,b){var c=g.extend({},a);return b||(b=this.itemsData.getDataSet()._options.type),void 0!=c.start&&(c.start=g.convert(c.start,b&&b.start||"Date")),void 0!=c.end&&(c.end=g.convert(c.end,b&&b.end||"Date")),c},a.exports=d},function(a,b,c){function d(a,b,c,f){this.moment=e,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(a,b,c),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(f)?this.hiddenDates=f:void 0!=f?this.hiddenDates=[f]:this.hiddenDates=[],this.format=d.FORMAT}var e=c(2),f=c(34),g=c(1);d.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},d.prototype.setMoment=function(a){this.moment=a,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},d.prototype.setFormat=function(a){var b=g.deepExtend({},d.FORMAT);this.format=g.deepExtend(b,a)},d.prototype.setRange=function(a,b,c){if(!(a instanceof Date&&b instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=a?this.moment(a.valueOf()):new Date,this._end=void 0!=b?this.moment(b.valueOf()):new Date,this.autoScale&&this.setMinimumStep(c)},d.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},d.prototype.roundToMinor=function(){switch(this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},d.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},d.prototype.next=function(){var a=this.current.valueOf();if(this.current.month()<6)switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.subtract(this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}else switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"month":this.current.month()<this.step&&this.current.month(0);break;case"year":}this.current.valueOf()==a&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,f.stepOverHiddenDates(this.moment,this,a)},d.prototype.getCurrent=function(){return this.current},d.prototype.setScale=function(a){a&&"string"==typeof a.scale&&(this.scale=a.scale,this.step=a.step>0?a.step:1,this.autoScale=!1)},d.prototype.setAutoScale=function(a){this.autoScale=a},d.prototype.setMinimumStep=function(a){if(void 0!=a){var b=31104e6,c=2592e6,d=864e5,e=36e5,f=6e4,g=1e3,h=1;1e3*b>a&&(this.scale="year",this.step=1e3),500*b>a&&(this.scale="year",this.step=500),100*b>a&&(this.scale="year",this.step=100),50*b>a&&(this.scale="year",this.step=50),10*b>a&&(this.scale="year",this.step=10),5*b>a&&(this.scale="year",this.step=5),b>a&&(this.scale="year",this.step=1),3*c>a&&(this.scale="month",this.step=3),c>a&&(this.scale="month",this.step=1),5*d>a&&(this.scale="day",this.step=5),2*d>a&&(this.scale="day",this.step=2),d>a&&(this.scale="day",this.step=1),d/2>a&&(this.scale="weekday",this.step=1),4*e>a&&(this.scale="hour",this.step=4),e>a&&(this.scale="hour",this.step=1),15*f>a&&(this.scale="minute",this.step=15),10*f>a&&(this.scale="minute",this.step=10),5*f>a&&(this.scale="minute",this.step=5),f>a&&(this.scale="minute",this.step=1),15*g>a&&(this.scale="second",this.step=15),10*g>a&&(this.scale="second",this.step=10),5*g>a&&(this.scale="second",this.step=5),g>a&&(this.scale="second",this.step=1),200*h>a&&(this.scale="millisecond",this.step=200),100*h>a&&(this.scale="millisecond",this.step=100),50*h>a&&(this.scale="millisecond",this.step=50),10*h>a&&(this.scale="millisecond",this.step=10),5*h>a&&(this.scale="millisecond",this.step=5),h>a&&(this.scale="millisecond",this.step=1)}},d.snap=function(a,b,c){var d=e(a);if("year"==b){var f=d.year()+Math.round(d.month()/12);d.year(Math.round(f/c)*c),d.month(0),d.date(0),d.hours(0),d.minutes(0),d.seconds(0),d.milliseconds(0)}else if("month"==b)d.date()>15?(d.date(1),d.add(1,"month")):d.date(1),d.hours(0),d.minutes(0),d.seconds(0),d.milliseconds(0);else if("day"==b){switch(c){case 5:case 2:d.hours(24*Math.round(d.hours()/24));break;default:d.hours(12*Math.round(d.hours()/12))}d.minutes(0),d.seconds(0),d.milliseconds(0)}else if("weekday"==b){switch(c){case 5:case 2:d.hours(12*Math.round(d.hours()/12));break;default:d.hours(6*Math.round(d.hours()/6))}d.minutes(0),d.seconds(0),d.milliseconds(0)}else if("hour"==b){switch(c){case 4:d.minutes(60*Math.round(d.minutes()/60));break;default:d.minutes(30*Math.round(d.minutes()/30))}d.seconds(0),d.milliseconds(0)}else if("minute"==b){switch(c){case 15:case 10:d.minutes(5*Math.round(d.minutes()/5)),d.seconds(0);break;case 5:d.seconds(60*Math.round(d.seconds()/60));break;default:d.seconds(30*Math.round(d.seconds()/30))}d.milliseconds(0)}else if("second"==b)switch(c){case 15:case 10:d.seconds(5*Math.round(d.seconds()/5)),d.milliseconds(0);break;case 5:d.milliseconds(1e3*Math.round(d.milliseconds()/1e3));break;default:d.milliseconds(500*Math.round(d.milliseconds()/500))}else if("millisecond"==b){var g=c>5?c/2:1;d.milliseconds(Math.round(d.milliseconds()/g)*g)}return d},d.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var a=this.moment(this.current);switch(this.scale){case"millisecond":return 0==a.milliseconds();case"second":return 0==a.seconds();case"minute":return 0==a.hours()&&0==a.minutes();case"hour":return 0==a.hours();case"weekday":case"day":return 1==a.date();case"month":return 0==a.month();case"year":return!1;default:return!1}},d.prototype.getLabelMinor=function(a){if(void 0==a&&(a=this.current),"function"==typeof this.format.minorLabels)return this.format.minorLabels(a,this.scale,this.step);var b=this.format.minorLabels[this.scale];return b&&b.length>0?this.moment(a).format(b):""},d.prototype.getLabelMajor=function(a){if(void 0==a&&(a=this.current),"function"==typeof this.format.majorLabels)return this.format.majorLabels(a,this.scale,this.step);var b=this.format.majorLabels[this.scale];return b&&b.length>0?this.moment(a).format(b):""},d.prototype.getClassName=function(){function a(a){return a/i%2==0?" vis-even":" vis-odd"}function b(a){return a.isSame(new Date,"day")?" vis-today":a.isSame(f().add(1,"day"),"day")?" vis-tomorrow":a.isSame(f().add(-1,"day"),"day")?" vis-yesterday":""}function c(a){return a.isSame(new Date,"week")?" vis-current-week":""}function d(a){return a.isSame(new Date,"month")?" vis-current-month":""}function e(a){return a.isSame(new Date,"year")?" vis-current-year":""}var f=this.moment,g=this.moment(this.current),h=g.locale?g.locale("en"):g.lang("en"),i=this.step;switch(this.scale){case"millisecond":return b(h)+a(h.milliseconds()).trim();case"second":return b(h)+a(h.seconds()).trim();case"minute":return b(h)+a(h.minutes()).trim();case"hour":return"vis-h"+h.hours()+(4==this.step?"-h"+(h.hours()+4):"")+b(h)+a(h.hours());case"weekday":return"vis-"+h.format("dddd").toLowerCase()+b(h)+c(h)+a(h.date());case"day":return"vis-day"+h.date()+" vis-"+h.format("MMMM").toLowerCase()+b(h)+d(h)+this.step<=2?b(h):""+this.step<=2?" vis-"+h.format("dddd").toLowerCase():""+a(h.date()-1);case"month":return"vis-"+h.format("MMMM").toLowerCase()+d(h)+a(h.month());case"year":var j=h.year();return"vis-year"+j+e(h)+a(j);default:return""}},a.exports=d},function(a,b,c){function d(a,b,c){this.groupId=a,this.subgroups={},this.subgroupIndex=0,this.subgroupOrderer=b&&b.subgroupOrder,this.itemSet=c,this.isVisible=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],
this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var d=this;this.itemSet.body.emitter.on("checkRangedItems",function(){d.checkRangedItems=!0}),this._create(),this.setData(b)}var e=c(1),f=c(39);c(40);d.prototype._create=function(){var a=document.createElement("div");this.itemSet.options.groupEditable.order?a.className="vis-label draggable":a.className="vis-label",this.dom.label=a;var b=document.createElement("div");b.className="vis-inner",a.appendChild(b),this.dom.inner=b;var c=document.createElement("div");c.className="vis-group",c["timeline-group"]=this,this.dom.foreground=c,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.innerHTML="?",this.dom.background.appendChild(this.dom.marker)},d.prototype.setData=function(a){var b,c;if(this.itemSet.options&&this.itemSet.options.groupTemplate?(c=this.itemSet.options.groupTemplate.bind(this),b=c(a,this.dom.inner)):b=a&&a.content,b instanceof Element){for(this.dom.inner.appendChild(b);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(b)}else b instanceof Object?c(a,this.dom.inner):void 0!==b&&null!==b?this.dom.inner.innerHTML=b:this.dom.inner.innerHTML=this.groupId||"";this.dom.label.title=a&&a.title||"",this.dom.inner.firstChild?e.removeClassName(this.dom.inner,"vis-hidden"):e.addClassName(this.dom.inner,"vis-hidden");var d=a&&a.className||null;d!=this.className&&(this.className&&(e.removeClassName(this.dom.label,this.className),e.removeClassName(this.dom.foreground,this.className),e.removeClassName(this.dom.background,this.className),e.removeClassName(this.dom.axis,this.className)),e.addClassName(this.dom.label,d),e.addClassName(this.dom.foreground,d),e.addClassName(this.dom.background,d),e.addClassName(this.dom.axis,d),this.className=d),this.style&&(e.removeCssText(this.dom.label,this.style),this.style=null),a&&a.style&&(e.addCssText(this.dom.label,a.style),this.style=a.style)},d.prototype.getLabelWidth=function(){return this.props.label.width},d.prototype.redraw=function(a,b,c){var d=!1,g=this.dom.marker.clientHeight;g!=this.lastMarkerHeight&&(this.lastMarkerHeight=g,e.forEach(this.items,function(a){a.dirty=!0,a.displayed&&a.redraw()}),c=!0),this._calculateSubGroupHeights(),this.isVisible=this._isGroupVisible(a,b);var h=this.dom.foreground;if(this.top=h.offsetTop,this.right=h.offsetLeft,this.width=h.offsetWidth,this.isVisible=this._isGroupVisible(a,b),"function"==typeof this.itemSet.options.order){if(c){var i=this,j=!1;e.forEach(this.items,function(a){a.displayed||(a.redraw(),i.visibleItems.push(a)),a.repositionX(j)});var k=this.orderedItems.byStart.slice().sort(function(a,b){return i.itemSet.options.order(a.data,b.data)});f.stack(k,b,!0)}this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,a)}else this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,a),this.itemSet.options.stack?f.stack(this.visibleItems,b,c):f.nostack(this.visibleItems,b,this.subgroups);if(!this.isVisible&&this.height)return d=!1;var l=this._calculateHeight(b),h=this.dom.foreground;this.top=h.offsetTop,this.right=h.offsetLeft,this.width=h.offsetWidth,d=e.updateProperty(this,"height",l)||d,d=e.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||d,d=e.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||d,this.dom.background.style.height=l+"px",this.dom.foreground.style.height=l+"px",this.dom.label.style.height=l+"px";for(var m=0,n=this.visibleItems.length;m<n;m++){var o=this.visibleItems[m];o.repositionY(b)}return d},d.prototype._calculateSubGroupHeights=function(){if(Object.keys(this.subgroups).length>0){var a=this;this.resetSubgroups(),e.forEach(this.visibleItems,function(b){void 0!==b.data.subgroup&&(a.subgroups[b.data.subgroup].height=Math.max(a.subgroups[b.data.subgroup].height,b.height),a.subgroups[b.data.subgroup].visible=!0)})}},d.prototype._isGroupVisible=function(a,b){var c=this.top<=a.body.domProps.centerContainer.height-a.body.domProps.scrollTop+b.axis&&this.top+this.height+b.axis>=-a.body.domProps.scrollTop;return c},d.prototype._calculateHeight=function(a){var b,c=this.visibleItems;if(c.length>0){var d=c[0].top,f=c[0].top+c[0].height;if(e.forEach(c,function(a){d=Math.min(d,a.top),f=Math.max(f,a.top+a.height)}),d>a.axis){var g=d-a.axis;f-=g,e.forEach(c,function(a){a.top-=g})}b=f+a.item.vertical/2}else b=0;return b=Math.max(b,this.props.label.height)},d.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},d.prototype.hide=function(){var a=this.dom.label;a.parentNode&&a.parentNode.removeChild(a);var b=this.dom.foreground;b.parentNode&&b.parentNode.removeChild(b);var c=this.dom.background;c.parentNode&&c.parentNode.removeChild(c);var d=this.dom.axis;d.parentNode&&d.parentNode.removeChild(d)},d.prototype.add=function(a){if(this.items[a.id]=a,a.setParent(this),void 0!==a.data.subgroup&&(void 0===this.subgroups[a.data.subgroup]&&(this.subgroups[a.data.subgroup]={height:0,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),this.subgroups[a.data.subgroup].items.push(a)),this.orderSubgroups(),this.visibleItems.indexOf(a)==-1){var b=this.itemSet.body.range;this._checkIfVisible(a,this.visibleItems,b)}},d.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var a=[];if("string"==typeof this.subgroupOrderer){for(var b in this.subgroups)a.push({subgroup:b,sortField:this.subgroups[b].items[0].data[this.subgroupOrderer]});a.sort(function(a,b){return a.sortField-b.sortField})}else if("function"==typeof this.subgroupOrderer){for(var b in this.subgroups)a.push(this.subgroups[b].items[0].data);a.sort(this.subgroupOrderer)}if(a.length>0)for(var c=0;c<a.length;c++)this.subgroups[a[c].subgroup].index=c}},d.prototype.resetSubgroups=function(){for(var a in this.subgroups)this.subgroups.hasOwnProperty(a)&&(this.subgroups[a].visible=!1)},d.prototype.remove=function(a){delete this.items[a.id],a.setParent(null);var b=this.visibleItems.indexOf(a);if(b!=-1&&this.visibleItems.splice(b,1),void 0!==a.data.subgroup){var c=this.subgroups[a.data.subgroup];if(c){var d=c.items.indexOf(a);c.items.splice(d,1),c.items.length||(delete this.subgroups[a.data.subgroup],this.subgroupIndex--),this.orderSubgroups()}}},d.prototype.removeFromDataSet=function(a){this.itemSet.removeItem(a.id)},d.prototype.order=function(){for(var a=e.toArray(this.items),b=[],c=[],d=0;d<a.length;d++)void 0!==a[d].data.end&&c.push(a[d]),b.push(a[d]);this.orderedItems={byStart:b,byEnd:c},f.orderByStart(this.orderedItems.byStart),f.orderByEnd(this.orderedItems.byEnd)},d.prototype._updateVisibleItems=function(a,b,c){var d=[],f={};if(!this.isVisible&&"__background__"!=this.groupId){for(var g=0;g<b.length;g++){var h=b[g];h.displayed&&h.hide()}return d}var i=(c.end-c.start)/4,j=c.start-i,k=c.end+i,l=function(a){return a<j?-1:a<=k?0:1};if(b.length>0)for(var g=0;g<b.length;g++)this._checkIfVisibleWithReference(b[g],d,f,c);var m=e.binarySearchCustom(a.byStart,l,"data","start");if(this._traceVisible(m,a.byStart,d,f,function(a){return a.data.start<j||a.data.start>k}),1==this.checkRangedItems)for(this.checkRangedItems=!1,g=0;g<a.byEnd.length;g++)this._checkIfVisibleWithReference(a.byEnd[g],d,f,c);else{var n=e.binarySearchCustom(a.byEnd,l,"data","end");this._traceVisible(n,a.byEnd,d,f,function(a){return a.data.end<j||a.data.end>k})}for(var g=0;g<d.length;g++){var h=d[g];h.displayed||h.show(),h.repositionX()}return d},d.prototype._traceVisible=function(a,b,c,d,e){if(a!=-1){for(var f=a;f>=0;f--){var g=b[f];if(e(g))break;void 0===d[g.id]&&(d[g.id]=!0,c.push(g))}for(var f=a+1;f<b.length;f++){var g=b[f];if(e(g))break;void 0===d[g.id]&&(d[g.id]=!0,c.push(g))}}},d.prototype._checkIfVisible=function(a,b,c){a.isVisible(c)?(a.displayed||a.show(),a.repositionX(),b.push(a)):a.displayed&&a.hide()},d.prototype._checkIfVisibleWithReference=function(a,b,c,d){a.isVisible(d)?void 0===c[a.id]&&(c[a.id]=!0,b.push(a)):a.displayed&&a.hide()},a.exports=d},function(a,b){var c=.001;b.orderByStart=function(a){a.sort(function(a,b){return a.data.start-b.data.start})},b.orderByEnd=function(a){a.sort(function(a,b){var c="end"in a.data?a.data.end:a.data.start,d="end"in b.data?b.data.end:b.data.start;return c-d})},b.stack=function(a,c,d){var e,f;if(d)for(e=0,f=a.length;e<f;e++)a[e].top=null;for(e=0,f=a.length;e<f;e++){var g=a[e];if(g.stack&&null===g.top){g.top=c.axis;do{for(var h=null,i=0,j=a.length;i<j;i++){var k=a[i];if(null!==k.top&&k!==g&&k.stack&&b.collision(g,k,c.item,k.options.rtl)){h=k;break}}null!=h&&(g.top=h.top+h.height+c.item.vertical)}while(h)}}},b.nostack=function(a,b,c){var d,e,f;for(d=0,e=a.length;d<e;d++)if(void 0!==a[d].data.subgroup){f=b.axis;for(var g in c)c.hasOwnProperty(g)&&1==c[g].visible&&c[g].index<c[a[d].data.subgroup].index&&(f+=c[g].height+b.item.vertical);a[d].top=f}else a[d].top=b.axis},b.collision=function(a,b,d,e){return e?a.right-d.horizontal+c<b.right+b.width&&a.right+a.width+d.horizontal-c>b.right&&a.top-d.vertical+c<b.top+b.height&&a.top+a.height+d.vertical-c>b.top:a.left-d.horizontal+c<b.left+b.width&&a.left+a.width+d.horizontal-c>b.left&&a.top-d.vertical+c<b.top+b.height&&a.top+a.height+d.vertical-c>b.top}},function(a,b,c){function d(a,b,c){if(this.props={content:{width:0}},this.overflow=!1,this.options=c,a){if(void 0==a.start)throw new Error('Property "start" missing in item '+a.id);if(void 0==a.end)throw new Error('Property "end" missing in item '+a.id)}e.call(this,a,b,c)}var e=(c(22),c(41));d.prototype=new e(null,null,null),d.prototype.baseClassName="vis-item vis-range",d.prototype.isVisible=function(a){return this.data.start<a.end&&this.data.end>a.start},d.prototype.redraw=function(){var a=this.dom;if(a||(this.dom={},a=this.dom,a.box=document.createElement("div"),a.frame=document.createElement("div"),a.frame.className="vis-item-overflow",a.box.appendChild(a.frame),a.content=document.createElement("div"),a.content.className="vis-item-content",a.frame.appendChild(a.content),a.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.foreground;if(!b)throw new Error("Cannot redraw item: parent has no foreground container element");b.appendChild(a.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var c=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,d=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(c?" vis-editable":" vis-readonly");a.box.className=this.baseClassName+d,this.overflow="hidden"!==window.getComputedStyle(a.frame).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1}this._repaintOnItemUpdateTimeTooltip(a.box),this._repaintDeleteButton(a.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},d.prototype.show=function(){this.displayed||this.redraw()},d.prototype.hide=function(){if(this.displayed){var a=this.dom.box;a.parentNode&&a.parentNode.removeChild(a),this.displayed=!1}},d.prototype.repositionX=function(a){var b,c,d=this.parent.width,e=this.conversion.toScreen(this.data.start),f=this.conversion.toScreen(this.data.end);void 0!==a&&a!==!0||(e<-d&&(e=-d),f>2*d&&(f=2*d));var g=Math.max(f-e+.5,1);switch(this.overflow?(this.options.rtl?this.right=e:this.left=e,this.width=g+this.props.content.width,c=this.props.content.width):(this.options.rtl?this.right=e:this.left=e,this.width=g,c=Math.min(f-e,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=g+"px",this.options.align){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(g-c,0)+"px":this.dom.content.style.left=Math.max(g-c,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((g-c)/2,0)+"px":this.dom.content.style.left=Math.max((g-c)/2,0)+"px";break;default:b=this.overflow?f>0?Math.max(-e,0):-c:e<0?-e:0,this.options.rtl?this.dom.content.style.right=b+"px":(this.dom.content.style.left=b+"px",this.dom.content.style.width="calc(100% - "+b+"px)")}},d.prototype.repositionY=function(){var a=this.options.orientation.item,b=this.dom.box;"top"==a?b.style.top=this.top+"px":b.style.top=this.parent.height-this.top-this.height+"px"},d.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var a=document.createElement("div");a.className="vis-drag-left",a.dragLeftItem=this,this.dom.box.appendChild(a),this.dom.dragLeft=a}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},d.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var a=document.createElement("div");a.className="vis-drag-right",a.dragRightItem=this,this.dom.box.appendChild(a),this.dom.dragRight=a}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},a.exports=d},function(a,b,c){function d(a,b,c){this.id=null,this.parent=null,this.data=a,this.dom=null,this.conversion=b||{},this.options=c||{},this.selected=!1,this.displayed=!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this.data&&this.data.hasOwnProperty("editable")&&"boolean"==typeof this.data.editable&&(this.editable=a.editable)}var e=c(22),f=c(1),g=c(2);d.prototype.stack=!0,d.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},d.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},d.prototype.setData=function(a){var b=void 0!=a.group&&this.data.group!=a.group;b&&this.parent.itemSet._moveToGroup(this,a.group),a.hasOwnProperty("editable")&&"boolean"==typeof a.editable&&(this.editable=a.editable),this.data=a,this.dirty=!0,this.displayed&&this.redraw()},d.prototype.setParent=function(a){this.displayed?(this.hide(),this.parent=a,this.parent&&this.show()):this.parent=a},d.prototype.isVisible=function(a){return!1},d.prototype.show=function(){return!1},d.prototype.hide=function(){return!1},d.prototype.redraw=function(){},d.prototype.repositionX=function(){},d.prototype.repositionY=function(){},d.prototype._repaintDeleteButton=function(a){var b=(this.options.editable.remove||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&b&&!this.dom.deleteButton){var c=this,d=document.createElement("div");this.options.rtl?d.className="vis-delete-rtl":d.className="vis-delete",d.title="Delete this item",new e(d).on("tap",function(a){a.stopPropagation(),c.parent.removeFromDataSet(c)}),a.appendChild(d),this.dom.deleteButton=d}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},d.prototype._repaintOnItemUpdateTimeTooltip=function(a){if(this.options.tooltipOnItemUpdateTime){var b=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&b&&!this.dom.onItemUpdateTimeTooltip){var c=document.createElement("div");c.className="vis-onUpdateTime-tooltip",a.appendChild(c),this.dom.onItemUpdateTimeTooltip=c}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left;var d,e=50,f=this.parent.itemSet.body.domProps.scrollTop;d="top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height;var h=d+this.parent.top-e<-f;h?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px");var i,j;this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?(j=this.options.tooltipOnItemUpdateTime.template.bind(this),i=j(this.data)):(i="start: "+g(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(i+="<br> end: "+g(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=i}}},d.prototype._updateContents=function(a){var b,c;if(this.options.template){var d=this.parent.itemSet.itemsData.get(this.id);c=this.options.template.bind(this),b=c(d,a)}else b=this.data.content;if(b instanceof Object&&!(b instanceof Element))c(d,a);else{var e=this._contentToString(this.content)!==this._contentToString(b);if(e){if(b instanceof Element)a.innerHTML="",a.appendChild(b);else if(void 0!=b)a.innerHTML=b;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=b}}},d.prototype._updateTitle=function(a){null!=this.data.title?a.title=this.data.title||"":a.removeAttribute("vis-title")},d.prototype._updateDataAttributes=function(a){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var b=[];if(Array.isArray(this.options.dataAttributes))b=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;b=Object.keys(this.data)}for(var c=0;c<b.length;c++){var d=b[c],e=this.data[d];null!=e?a.setAttribute("data-"+d,e):a.removeAttribute("data-"+d)}}},d.prototype._updateStyle=function(a){this.style&&(f.removeCssText(a,this.style),this.style=null),this.data.style&&(f.addCssText(a,this.data.style),this.style=this.data.style)},d.prototype._contentToString=function(a){return"string"==typeof a?a:a&&"outerHTML"in a?a.outerHTML:a},d.prototype.getWidthLeft=function(){return 0},d.prototype.getWidthRight=function(){return 0},d.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var a=document.createElement("div");a.className="vis-drag-center",a.dragCenterItem=this,this.dom.box?this.dom.box.appendChild(a):this.dom.point&&this.dom.point.appendChild(a),this.dom.dragCenter=a}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},a.exports=d},function(a,b,c){function d(a,b,c){e.call(this,a,b,c),this.width=0,this.height=0,this.top=0,this.left=0}var e=(c(1),c(38));d.prototype=Object.create(e.prototype),d.prototype.redraw=function(a,b,c){var d=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,a),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var e=0,f=this.visibleItems.length;e<f;e++){var g=this.visibleItems[e];g.repositionY(b)}return d},d.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},a.exports=d},function(a,b,c){function d(a,b,c){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=c,a&&void 0==a.start)throw new Error('Property "start" missing in item '+a);e.call(this,a,b,c)}var e=c(41);c(1);d.prototype=new e(null,null,null),d.prototype.isVisible=function(a){var b,c=this.options.align,d=(a.end-a.start)/a.body.dom.center.clientWidth,e=this.width*d;return b="right"==c?this.data.start.getTime()>a.start&&this.data.start.getTime()-e<a.end:"left"==c?this.data.start.getTime()+e>a.start&&this.data.start.getTime()<a.end:this.data.start.getTime()+e/2>a.start&&this.data.start.getTime()-e/2<a.end},d.prototype.redraw=function(){var a=this.dom;if(a||(this.dom={},a=this.dom,a.box=document.createElement("DIV"),a.content=document.createElement("DIV"),a.content.className="vis-item-content",a.box.appendChild(a.content),a.line=document.createElement("DIV"),a.line.className="vis-line",a.dot=document.createElement("DIV"),a.dot.className="vis-dot",a.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.foreground;if(!b)throw new Error("Cannot redraw item: parent has no foreground container element");b.appendChild(a.box)}if(!a.line.parentNode){var c=this.parent.dom.background;if(!c)throw new Error("Cannot redraw item: parent has no background container element");c.appendChild(a.line)}if(!a.dot.parentNode){var d=this.parent.dom.axis;if(!c)throw new Error("Cannot redraw item: parent has no axis container element");d.appendChild(a.dot)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var e=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,f=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");a.box.className="vis-item vis-box"+f,a.line.className="vis-item vis-line"+f,a.dot.className="vis-item vis-dot"+f;var g=a.box.style.right,h=a.box.style.left;this.options.rtl?a.box.style.right="0px":a.box.style.left="0px",this.props.dot.height=a.dot.offsetHeight,this.props.dot.width=a.dot.offsetWidth,this.props.line.width=a.line.offsetWidth,this.width=a.box.offsetWidth,this.height=a.box.offsetHeight,this.options.rtl?a.box.style.right=g:a.box.style.left=h,this.dirty=!1}this._repaintOnItemUpdateTimeTooltip(a.box),this._repaintDragCenter(),this._repaintDeleteButton(a.box)},d.prototype.show=function(){this.displayed||this.redraw()},d.prototype.hide=function(){if(this.displayed){var a=this.dom;a.box.parentNode&&a.box.parentNode.removeChild(a.box),a.line.parentNode&&a.line.parentNode.removeChild(a.line),a.dot.parentNode&&a.dot.parentNode.removeChild(a.dot),this.displayed=!1}},d.prototype.repositionX=function(){var a=this.conversion.toScreen(this.data.start),b=this.options.align;"right"==b?this.options.rtl?(this.right=a-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=a-this.props.line.width+"px",this.dom.dot.style.right=a-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=a-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=a-this.props.line.width+"px",this.dom.dot.style.left=a-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==b?this.options.rtl?(this.right=a,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=a+"px",this.dom.dot.style.right=a+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=a,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=a+"px",this.dom.dot.style.left=a+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=a-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=a-this.props.line.width+"px",this.dom.dot.style.right=a-this.props.dot.width/2+"px"):(this.left=a-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=a-this.props.line.width/2+"px",this.dom.dot.style.left=a-this.props.dot.width/2+"px")},d.prototype.repositionY=function(){var a=this.options.orientation.item,b=this.dom.box,c=this.dom.line,d=this.dom.dot;if("top"==a)b.style.top=(this.top||0)+"px",c.style.top="0",c.style.height=this.parent.top+this.top+1+"px",c.style.bottom="";else{var e=this.parent.itemSet.props.height,f=e-this.parent.top-this.parent.height+this.top;b.style.top=(this.parent.height-this.top-this.height||0)+"px",c.style.top=e-f+"px",c.style.bottom="0"}d.style.top=-this.props.dot.height/2+"px"},d.prototype.getWidthLeft=function(){return this.width/2},d.prototype.getWidthRight=function(){return this.width/2},a.exports=d},function(a,b,c){function d(a,b,c){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=c,a&&void 0==a.start)throw new Error('Property "start" missing in item '+a);e.call(this,a,b,c)}var e=c(41);d.prototype=new e(null,null,null),d.prototype.isVisible=function(a){var b=(a.end-a.start)/a.body.dom.center.clientWidth,c=this.width*b;return this.data.start.getTime()+c>a.start&&this.data.start<a.end},d.prototype.redraw=function(){var a=this.dom;if(a||(this.dom={},a=this.dom,a.point=document.createElement("div"),a.content=document.createElement("div"),a.content.className="vis-item-content",a.point.appendChild(a.content),a.dot=document.createElement("div"),a.point.appendChild(a.dot),a.point["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!a.point.parentNode){var b=this.parent.dom.foreground;if(!b)throw new Error("Cannot redraw item: parent has no foreground container element");b.appendChild(a.point)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var c=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,d=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(c?" vis-editable":" vis-readonly");a.point.className="vis-item vis-point"+d,a.dot.className="vis-item vis-dot"+d,this.props.dot.width=a.dot.offsetWidth,this.props.dot.height=a.dot.offsetHeight,this.props.content.height=a.content.offsetHeight,this.options.rtl?a.content.style.marginRight=2*this.props.dot.width+"px":a.content.style.marginLeft=2*this.props.dot.width+"px",this.width=a.point.offsetWidth,this.height=a.point.offsetHeight,a.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?a.dot.style.right=this.props.dot.width/2+"px":a.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1}this._repaintOnItemUpdateTimeTooltip(a.point),this._repaintDragCenter(),this._repaintDeleteButton(a.point)},d.prototype.show=function(){this.displayed||this.redraw()},d.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},d.prototype.repositionX=function(){var a=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=a-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=a-this.props.dot.width,this.dom.point.style.left=this.left+"px")},d.prototype.repositionY=function(){var a=this.options.orientation.item,b=this.dom.point;"top"==a?b.style.top=this.top+"px":b.style.top=this.parent.height-this.top-this.height+"px"},d.prototype.getWidthLeft=function(){return this.props.dot.width},d.prototype.getWidthRight=function(){return this.props.dot.width},a.exports=d},function(a,b,c){function d(a,b,c){if(this.props={content:{width:0}},this.overflow=!1,a){if(void 0==a.start)throw new Error('Property "start" missing in item '+a.id);if(void 0==a.end)throw new Error('Property "end" missing in item '+a.id)}e.call(this,a,b,c)}var e=(c(22),c(41)),f=c(42),g=c(40);d.prototype=new e(null,null,null),d.prototype.baseClassName="vis-item vis-background",d.prototype.stack=!1,d.prototype.isVisible=function(a){return this.data.start<a.end&&this.data.end>a.start},d.prototype.redraw=function(){var a=this.dom;if(a||(this.dom={},a=this.dom,a.box=document.createElement("div"),a.frame=document.createElement("div"),a.frame.className="vis-item-overflow",a.box.appendChild(a.frame),a.content=document.createElement("div"),a.content.className="vis-item-content",a.frame.appendChild(a.content),this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!a.box.parentNode){var b=this.parent.dom.background;if(!b)throw new Error("Cannot redraw item: parent has no background container element");b.appendChild(a.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var c=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");a.box.className=this.baseClassName+c,this.overflow="hidden"!==window.getComputedStyle(a.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1}},d.prototype.show=g.prototype.show,d.prototype.hide=g.prototype.hide,d.prototype.repositionX=g.prototype.repositionX,d.prototype.repositionY=function(a){var b="top"===this.options.orientation.item;this.dom.content.style.top=b?"":"0",this.dom.content.style.bottom=b?"0":"";var c;if(void 0!==this.data.subgroup){var d=this.data.subgroup,e=this.parent.subgroups,g=e[d].index;if(1==b){c=this.parent.subgroups[d].height+a.item.vertical,c+=0==g?a.axis-.5*a.item.vertical:0;var h=this.parent.top;for(var i in e)e.hasOwnProperty(i)&&1==e[i].visible&&e[i].index<g&&(h+=e[i].height+a.item.vertical);h+=0!=g?a.axis-.5*a.item.vertical:0,this.dom.box.style.top=h+"px",this.dom.box.style.bottom=""}else{var h=this.parent.top,j=0;for(var i in e)if(e.hasOwnProperty(i)&&1==e[i].visible){var k=e[i].height+a.item.vertical;j+=k,e[i].index>g&&(h+=k)}c=this.parent.subgroups[d].height+a.item.vertical,this.dom.box.style.top=this.parent.height-j+h+"px",this.dom.box.style.bottom=""}}else this.parent instanceof f?(c=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.top=b?"0":"",this.dom.box.style.bottom=b?"":"0"):(c=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=c+"px"},a.exports=d},function(a,b,c){function d(a,b){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:h.FORMAT,moment:j,timeAxis:null},this.options=f.extend({},this.defaultOptions),this.body=a,this._create(),this.setOptions(b)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(1),g=c(33),h=c(37),i=c(34),j=c(2);d.prototype=new g,d.prototype.setOptions=function(a){a&&(f.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,a),f.selectiveDeepExtend(["format"],this.options,a),"orientation"in a&&("string"==typeof a.orientation?this.options.orientation.axis=a.orientation:"object"===e(a.orientation)&&"axis"in a.orientation&&(this.options.orientation.axis=a.orientation.axis)),"locale"in a&&("function"==typeof j.locale?j.locale(a.locale):j.lang(a.locale)))},d.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},d.prototype.destroy=function(){
this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},d.prototype.redraw=function(){var a=this.props,b=this.dom.foreground,c=this.dom.background,d="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,e=b.parentNode!==d;this._calculateCharSize();var f=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,g=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;a.minorLabelHeight=f?a.minorCharHeight:0,a.majorLabelHeight=g?a.majorCharHeight:0,a.height=a.minorLabelHeight+a.majorLabelHeight,a.width=b.offsetWidth,a.minorLineHeight=this.body.domProps.root.height-a.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),a.minorLineWidth=1,a.majorLineHeight=a.minorLineHeight+a.majorLabelHeight,a.majorLineWidth=1;var h=b.nextSibling,i=c.nextSibling;return b.parentNode&&b.parentNode.removeChild(b),c.parentNode&&c.parentNode.removeChild(c),b.style.height=this.props.height+"px",this._repaintLabels(),h?d.insertBefore(b,h):d.appendChild(b),i?this.body.dom.backgroundVertical.insertBefore(c,i):this.body.dom.backgroundVertical.appendChild(c),this._isResized()||e},d.prototype._repaintLabels=function(){var a=this.options.orientation.axis,b=f.convert(this.body.range.start,"Number"),c=f.convert(this.body.range.end,"Number"),d=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),e=d-i.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,d);e-=this.body.util.toTime(0).valueOf();var g=new h(new Date(b),new Date(c),e,this.body.hiddenDates);g.setMoment(this.options.moment),this.options.format&&g.setFormat(this.options.format),this.options.timeAxis&&g.setScale(this.options.timeAxis),this.step=g;var j=this.dom;j.redundant.lines=j.lines,j.redundant.majorTexts=j.majorTexts,j.redundant.minorTexts=j.minorTexts,j.lines=[],j.majorTexts=[],j.minorTexts=[];var l,m,n,o,p,q,r,s,t,u,v=0,w=void 0,x=0,y=1e3;for(g.start(),m=g.getCurrent(),o=this.body.util.toScreen(m);g.hasNext()&&x<y;){x++,p=g.isMajor(),u=g.getClassName(),t=g.getLabelMinor(),l=m,n=o,g.next(),m=g.getCurrent(),q=g.isMajor(),o=this.body.util.toScreen(m),r=v,v=o-n;var z=v>=.4*r;if(this.options.showMinorLabels&&z){var A=this._repaintMinorText(n,t,a,u);A.style.width=v+"px"}p&&this.options.showMajorLabels?(n>0&&(void 0==w&&(w=n),A=this._repaintMajorText(n,g.getLabelMajor(),a,u)),s=this._repaintMajorLine(n,v,a,u)):z?s=this._repaintMinorLine(n,v,a,u):s&&(s.style.width=parseInt(s.style.width)+v+"px")}if(x!==y||k||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to "+y+" lines."),k=!0),this.options.showMajorLabels){var B=this.body.util.toTime(0),C=g.getLabelMajor(B),D=C.length*(this.props.majorCharWidth||10)+10;(void 0==w||D<w)&&this._repaintMajorText(0,C,a,u)}f.forEach(this.dom.redundant,function(a){for(;a.length;){var b=a.pop();b&&b.parentNode&&b.parentNode.removeChild(b)}})},d.prototype._repaintMinorText=function(a,b,c,d){var e=this.dom.redundant.minorTexts.shift();if(!e){var f=document.createTextNode("");e=document.createElement("div"),e.appendChild(f),this.dom.foreground.appendChild(e)}return this.dom.minorTexts.push(e),e.childNodes[0].nodeValue=b,e.style.top="top"==c?this.props.majorLabelHeight+"px":"0",this.options.rtl?(e.style.left="",e.style.right=a+"px"):e.style.left=a+"px",e.className="vis-text vis-minor "+d,e},d.prototype._repaintMajorText=function(a,b,c,d){var e=this.dom.redundant.majorTexts.shift();if(!e){var f=document.createTextNode(b);e=document.createElement("div"),e.appendChild(f),this.dom.foreground.appendChild(e)}return this.dom.majorTexts.push(e),e.childNodes[0].nodeValue=b,e.className="vis-text vis-major "+d,e.style.top="top"==c?"0":this.props.minorLabelHeight+"px",this.options.rtl?(e.style.left="",e.style.right=a+"px"):e.style.left=a+"px",e},d.prototype._repaintMinorLine=function(a,b,c,d){var e=this.dom.redundant.lines.shift();e||(e=document.createElement("div"),this.dom.background.appendChild(e)),this.dom.lines.push(e);var f=this.props;return"top"==c?e.style.top=f.majorLabelHeight+"px":e.style.top=this.body.domProps.top.height+"px",e.style.height=f.minorLineHeight+"px",this.options.rtl?(e.style.left="",e.style.right=a-f.minorLineWidth/2+"px",e.className="vis-grid vis-vertical-rtl vis-minor "+d):(e.style.left=a-f.minorLineWidth/2+"px",e.className="vis-grid vis-vertical vis-minor "+d),e.style.width=b+"px",e},d.prototype._repaintMajorLine=function(a,b,c,d){var e=this.dom.redundant.lines.shift();e||(e=document.createElement("div"),this.dom.background.appendChild(e)),this.dom.lines.push(e);var f=this.props;return"top"==c?e.style.top="0":e.style.top=this.body.domProps.top.height+"px",this.options.rtl?(e.style.left="",e.style.right=a-f.majorLineWidth/2+"px",e.className="vis-grid vis-vertical-rtl vis-major "+d):(e.style.left=a-f.majorLineWidth/2+"px",e.className="vis-grid vis-vertical vis-major "+d),e.style.height=f.majorLineHeight+"px",e.style.width=b+"px",e},d.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var k=!1;a.exports=d},function(a,b,c){function d(a){this.active=!1,this.dom={container:a},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=h(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var b=this,c=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];c.forEach(function(a){b.hammer.on(a,function(a){a.stopPropagation()})}),document&&document.body&&(this.onClick=function(c){e(c.target,a)||b.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=f(),this.escListener=this.deactivate.bind(this)}function e(a,b){for(;a;){if(a===b)return!0;a=a.parentNode}return!1}var f=c(25),g=c(13),h=c(22),i=c(1);g(d.prototype),d.current=null,d.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},d.prototype.activate=function(){d.current&&d.current.deactivate(),d.current=this,this.active=!0,this.dom.overlay.style.display="none",i.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},d.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",i.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},d.prototype._onTapOverlay=function(a){this.activate(),a.stopPropagation()},a.exports=d},function(a,b,c){function d(a,b){this.body=a,this.defaultOptions={moment:h,locales:i,locale:"en",id:void 0,title:void 0},this.options=f.extend({},this.defaultOptions),b&&b.time?this.customTime=b.time:this.customTime=new Date,this.eventParams={},this.setOptions(b),this._create()}var e=c(22),f=c(1),g=c(33),h=c(2),i=c(49);d.prototype=new g,d.prototype.setOptions=function(a){a&&f.selectiveExtend(["moment","locale","locales","id"],this.options,a)},d.prototype._create=function(){var a=document.createElement("div");a["custom-time"]=this,a.className="vis-custom-time "+(this.options.id||""),a.style.position="absolute",a.style.top="0px",a.style.height="100%",this.bar=a;var b=document.createElement("div");b.style.position="relative",b.style.top="0px",b.style.left="-10px",b.style.height="100%",b.style.width="20px",a.appendChild(b),this.hammer=new e(b),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:e.DIRECTION_HORIZONTAL})},d.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},d.prototype.redraw=function(){var a=this.body.dom.backgroundVertical;this.bar.parentNode!=a&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),a.appendChild(this.bar));var b=this.body.util.toScreen(this.customTime),c=this.options.locales[this.options.locale];c||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),c=this.options.locales.en);var d=this.options.title;return void 0===d&&(d=c.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),d=d.charAt(0).toUpperCase()+d.substring(1)),this.bar.style.left=b+"px",this.bar.title=d,!1},d.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},d.prototype.setCustomTime=function(a){this.customTime=f.convert(a,"Date"),this.redraw()},d.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},d.prototype.setCustomTitle=function(a){this.options.title=a},d.prototype._onDragStart=function(a){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,a.stopPropagation()},d.prototype._onDrag=function(a){if(this.eventParams.dragging){var b=this.body.util.toScreen(this.eventParams.customTime)+a.deltaX,c=this.body.util.toTime(b);this.setCustomTime(c),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf())}),a.stopPropagation()}},d.prototype._onDragEnd=function(a){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf())}),a.stopPropagation())},d.customTimeFromTarget=function(a){for(var b=a.target;b;){if(b.hasOwnProperty("custom-time"))return b["custom-time"];b=b.parentNode}return null},a.exports=d},function(a,b){b.en={current:"current",time:"time"},b.en_EN=b.en,b.en_US=b.en,b.it={current:"attuale",time:"tempo"},b.it_IT=b.it,b.it_CH=b.it,b.nl={current:"huidige",time:"tijd"},b.nl_NL=b.nl,b.nl_BE=b.nl,b.de={current:"Aktuelle",time:"Zeit"},b.de_DE=b.de},function(a,b,c){function d(a,b){this.body=a,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:g,locales:h,locale:"en"},this.options=e.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(b)}var e=c(1),f=c(33),g=c(2),h=c(49);d.prototype=new f,d.prototype._create=function(){var a=document.createElement("div");a.className="vis-current-time",a.style.position="absolute",a.style.top="0px",a.style.height="100%",this.bar=a},d.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},d.prototype.setOptions=function(a){a&&e.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,a)},d.prototype.redraw=function(){if(this.options.showCurrentTime){var a=this.body.dom.backgroundVertical;this.bar.parentNode!=a&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),a.appendChild(this.bar),this.start());var b=this.options.moment((new Date).valueOf()+this.offset),c=this.body.util.toScreen(b),d=this.options.locales[this.options.locale];d||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),d=this.options.locales.en);var e=d.current+" "+d.time+": "+b.format("dddd, MMMM Do YYYY, H:mm:ss");e=e.charAt(0).toUpperCase()+e.substring(1),this.options.rtl?this.bar.style.right=c+"px":this.bar.style.left=c+"px",this.bar.title=e}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},d.prototype.start=function(){function a(){b.stop();var c=b.body.range.conversion(b.body.domProps.center.width).scale,d=1/c/10;d<30&&(d=30),d>1e3&&(d=1e3),b.redraw(),b.body.emitter.emit("currentTimeTick"),b.currentTimeTimer=setTimeout(a,d)}var b=this;a()},d.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},d.prototype.setCurrentTime=function(a){var b=e.convert(a,"Date").valueOf(),c=(new Date).valueOf();this.offset=b-c,this.redraw()},d.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},a.exports=d},function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var c="string",d="boolean",e="number",f="array",g="date",h="object",i="dom",j="moment",k="any",l={configure:{enabled:{boolean:d},filter:{boolean:d,function:"function"},container:{dom:i},__type__:{object:h,boolean:d,function:"function"}},align:{string:c},rtl:{boolean:d,undefined:"undefined"},verticalScroll:{boolean:d,undefined:"undefined"},horizontalScroll:{boolean:d,undefined:"undefined"},autoResize:{boolean:d},clickToUse:{boolean:d},dataAttributes:{string:c,array:f},editable:{add:{boolean:d,undefined:"undefined"},remove:{boolean:d,undefined:"undefined"},updateGroup:{boolean:d,undefined:"undefined"},updateTime:{boolean:d,undefined:"undefined"},__type__:{boolean:d,object:h}},end:{number:e,date:g,string:c,moment:j},format:{minorLabels:{millisecond:{string:c,undefined:"undefined"},second:{string:c,undefined:"undefined"},minute:{string:c,undefined:"undefined"},hour:{string:c,undefined:"undefined"},weekday:{string:c,undefined:"undefined"},day:{string:c,undefined:"undefined"},month:{string:c,undefined:"undefined"},year:{string:c,undefined:"undefined"},__type__:{object:h,function:"function"}},majorLabels:{millisecond:{string:c,undefined:"undefined"},second:{string:c,undefined:"undefined"},minute:{string:c,undefined:"undefined"},hour:{string:c,undefined:"undefined"},weekday:{string:c,undefined:"undefined"},day:{string:c,undefined:"undefined"},month:{string:c,undefined:"undefined"},year:{string:c,undefined:"undefined"},__type__:{object:h,function:"function"}},__type__:{object:h}},moment:{function:"function"},groupOrder:{string:c,function:"function"},groupEditable:{add:{boolean:d,undefined:"undefined"},remove:{boolean:d,undefined:"undefined"},order:{boolean:d,undefined:"undefined"},__type__:{boolean:d,object:h}},groupOrderSwap:{function:"function"},height:{string:c,number:e},hiddenDates:{start:{date:g,number:e,string:c,moment:j},end:{date:g,number:e,string:c,moment:j},repeat:{string:c},__type__:{object:h,array:f}},itemsAlwaysDraggable:{boolean:d},locale:{string:c},locales:{__any__:{any:k},__type__:{object:h}},margin:{axis:{number:e},item:{horizontal:{number:e,undefined:"undefined"},vertical:{number:e,undefined:"undefined"},__type__:{object:h,number:e}},__type__:{object:h,number:e}},max:{date:g,number:e,string:c,moment:j},maxHeight:{number:e,string:c},maxMinorChars:{number:e},min:{date:g,number:e,string:c,moment:j},minHeight:{number:e,string:c},moveable:{boolean:d},multiselect:{boolean:d},multiselectPerGroup:{boolean:d},onAdd:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},order:{function:"function"},orientation:{axis:{string:c,undefined:"undefined"},item:{string:c,undefined:"undefined"},__type__:{string:c,object:h}},selectable:{boolean:d},showCurrentTime:{boolean:d},showMajorLabels:{boolean:d},showMinorLabels:{boolean:d},stack:{boolean:d},snap:{function:"function",null:"null"},start:{date:g,number:e,string:c,moment:j},template:{function:"function"},groupTemplate:{function:"function"},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:d,object:h}},timeAxis:{scale:{string:c,undefined:"undefined"},step:{number:e,undefined:"undefined"},__type__:{object:h}},type:{string:c},width:{string:c,number:e},zoomable:{boolean:d},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:e},zoomMin:{number:e},__type__:{object:h}},m={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,start:"",tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};b.allOptions=l,b.configureOptions=m},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c,d){if(!(Array.isArray(c)||c instanceof l||c instanceof m)&&c instanceof Object){var e=d;d=c,c=e}var f=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:j,width:null,height:null,maxHeight:null,minHeight:null},this.options=k.deepExtend({},this.defaultOptions),this._create(a),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:f._toScreen.bind(f),toGlobalScreen:f._toGlobalScreen.bind(f),toTime:f._toTime.bind(f),toGlobalTime:f._toGlobalTime.bind(f)}},this.range=new n(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new p(this.body),this.components.push(this.timeAxis),this.currentTime=new q(this.body),this.components.push(this.currentTime),this.linegraph=new s(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(a){f.emit("click",f.getEventProperties(a))}),this.on("doubletap",function(a){f.emit("doubleClick",f.getEventProperties(a))}),this.dom.root.oncontextmenu=function(a){f.emit("contextmenu",f.getEventProperties(a))},d&&this.setOptions(d),c&&this.setGroups(c),b&&this.setItems(b),this._redraw()}var f=c(28),g=d(f),h=c(31),i=d(h),j=(c(13),c(22),c(2)),k=c(1),l=c(9),m=c(11),n=c(32),o=c(35),p=c(46),q=c(50),r=c(48),s=c(53),t=c(31).printStyle,u=c(61).allOptions,v=c(61).configureOptions;e.prototype=new o,e.prototype.setOptions=function(a){var b=i.default.validate(a,u);b===!0&&console.log("%cErrors have been found in the supplied options object.",t),o.prototype.setOptions.call(this,a)},e.prototype.setItems=function(a){var b,c=null==this.itemsData;if(b=a?a instanceof l||a instanceof m?a:new l(a,{type:{start:"Date",end:"Date"}}):null,this.itemsData=b,this.linegraph&&this.linegraph.setItems(b),c)if(void 0!=this.options.start||void 0!=this.options.end){var d=void 0!=this.options.start?this.options.start:null,e=void 0!=this.options.end?this.options.end:null;this.setWindow(d,e,{animation:!1})}else this.fit({animation:!1})},e.prototype.setGroups=function(a){var b;b=a?a instanceof l||a instanceof m?a:new l(a):null,this.groupsData=b,this.linegraph.setGroups(b)},e.prototype.getLegend=function(a,b,c){return void 0===b&&(b=15),void 0===c&&(c=15),void 0!==this.linegraph.groups[a]?this.linegraph.groups[a].getLegend(b,c):"cannot find group:'"+a+"'"},e.prototype.isGroupVisible=function(a){return void 0!==this.linegraph.groups[a]&&(this.linegraph.groups[a].visible&&(void 0===this.linegraph.options.groups.visibility[a]||1==this.linegraph.options.groups.visibility[a]))},e.prototype.getDataRange=function(){var a=null,b=null;for(var c in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(c)&&1==this.linegraph.groups[c].visible)for(var d=0;d<this.linegraph.groups[c].itemsData.length;d++){var e=this.linegraph.groups[c].itemsData[d],f=k.convert(e.x,"Date").valueOf();a=null==a?f:a>f?f:a,b=null==b?f:b<f?f:b}return{min:null!=a?new Date(a):null,max:null!=b?new Date(b):null}},e.prototype.getEventProperties=function(a){var b=a.center?a.center.x:a.clientX,c=a.center?a.center.y:a.clientY,d=b-k.getAbsoluteLeft(this.dom.centerContainer),e=c-k.getAbsoluteTop(this.dom.centerContainer),f=this._toTime(d),g=r.customTimeFromTarget(a),h=k.getTarget(a),i=null;k.hasParent(h,this.timeAxis.dom.foreground)?i="axis":this.timeAxis2&&k.hasParent(h,this.timeAxis2.dom.foreground)?i="axis":k.hasParent(h,this.linegraph.yAxisLeft.dom.frame)?i="data-axis":k.hasParent(h,this.linegraph.yAxisRight.dom.frame)?i="data-axis":k.hasParent(h,this.linegraph.legendLeft.dom.frame)?i="legend":k.hasParent(h,this.linegraph.legendRight.dom.frame)?i="legend":null!=g?i="custom-time":k.hasParent(h,this.currentTime.bar)?i="current-time":k.hasParent(h,this.dom.center)&&(i="background");var j=[],l=this.linegraph.yAxisLeft,m=this.linegraph.yAxisRight;return l.hidden||j.push(l.screenToValue(e)),m.hidden||j.push(m.screenToValue(e)),{event:a,what:i,pageX:a.srcEvent?a.srcEvent.pageX:a.pageX,pageY:a.srcEvent?a.srcEvent.pageY:a.pageY,x:d,y:e,time:f,value:j}},e.prototype._createConfigurator=function(){return new g.default(this,this.dom.container,v)},a.exports=e},function(a,b,c){function d(a,b){this.id=f.randomUUID(),this.body=a,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=f.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var c=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(a,b,d){c._onAdd(b.items)},update:function(a,b,d){c._onUpdate(b.items)},remove:function(a,b,d){c._onRemove(b.items)}},this.groupListeners={add:function(a,b,d){c._onAddGroups(b.items)},update:function(a,b,d){c._onUpdateGroups(b.items)},remove:function(a,b,d){c._onRemoveGroups(b.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(b),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){c.lastStart=c.body.range.start,c.svg.style.left=f.option.asSize(-c.props.width),c.forceGraphUpdate=!0,c.redraw.call(c)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(1),g=c(8),h=c(9),i=c(11),j=c(33),k=c(54),l=c(56),m=c(60),n=c(57),o=c(59),p=c(58),q="__ungrouped__";d.prototype=new j,d.prototype._create=function(){var a=document.createElement("div");a.className="vis-line-graph",this.dom.frame=a,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",a.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new k(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new k(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new m(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new m(this.body,this.options.legend,"right",this.options.groups),this.show()},d.prototype.setOptions=function(a){if(a){var b=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===a.graphHeight&&void 0!==a.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==a.graphHeight&&parseInt((a.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),f.selectiveDeepExtend(b,this.options,a),f.mergeOptions(this.options,a,"interpolation"),f.mergeOptions(this.options,a,"drawPoints"),f.mergeOptions(this.options,a,"shaded"),f.mergeOptions(this.options,a,"legend"),a.interpolation&&"object"==e(a.interpolation)&&a.interpolation.parametrization&&("uniform"==a.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==a.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==a.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==a.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(q)&&this.groups[q].setOptions(a)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},d.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},d.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},d.prototype.setItems=function(a){var b,c=this,d=this.itemsData;if(a){if(!(a instanceof h||a instanceof i))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=a}else this.itemsData=null;if(d&&(f.forEach(this.itemListeners,function(a,b){d.off(b,a)}),b=d.getIds(),this._onRemove(b)),this.itemsData){var e=this.id;f.forEach(this.itemListeners,function(a,b){c.itemsData.on(b,a,e)}),b=this.itemsData.getIds(),this._onAdd(b)}},d.prototype.setGroups=function(a){var b,c=this;if(this.groupsData){f.forEach(this.groupListeners,function(a,b){c.groupsData.off(b,a)}),b=this.groupsData.getIds(),this.groupsData=null;for(var d=0;d<b.length;d++)this._removeGroup(b[d])}if(a){if(!(a instanceof h||a instanceof i))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=a}else this.groupsData=null;if(this.groupsData){var e=this.id;f.forEach(this.groupListeners,function(a,b){c.groupsData.on(b,a,e)}),b=this.groupsData.getIds(),this._onAddGroups(b)}},d.prototype._onUpdate=function(a){this._updateAllGroupData()},d.prototype._onAdd=function(a){this._onUpdate(a)},d.prototype._onRemove=function(a){this._onUpdate(a)},d.prototype._onUpdateGroups=function(a){this._updateAllGroupData()},d.prototype._onAddGroups=function(a){this._onUpdateGroups(a)},d.prototype._onRemoveGroups=function(a){for(var b=0;b<a.length;b++)this._removeGroup(a[b]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},d.prototype._removeGroup=function(a){this.groups.hasOwnProperty(a)&&("right"==this.groups[a].options.yAxisOrientation?(this.yAxisRight.removeGroup(a),this.legendRight.removeGroup(a),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(a),this.legendLeft.removeGroup(a),this.legendLeft.redraw()),delete this.groups[a])},d.prototype._updateGroup=function(a,b){this.groups.hasOwnProperty(b)?(this.groups[b].update(a),"right"==this.groups[b].options.yAxisOrientation?(this.yAxisRight.updateGroup(b,this.groups[b]),this.legendRight.updateGroup(b,this.groups[b]),this.yAxisLeft.removeGroup(b),this.legendLeft.removeGroup(b)):(this.yAxisLeft.updateGroup(b,this.groups[b]),this.legendLeft.updateGroup(b,this.groups[b]),this.yAxisRight.removeGroup(b),this.legendRight.removeGroup(b))):(this.groups[b]=new l(a,b,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[b].options.yAxisOrientation?(this.yAxisRight.addGroup(b,this.groups[b]),this.legendRight.addGroup(b,this.groups[b])):(this.yAxisLeft.addGroup(b,this.groups[b]),this.legendLeft.addGroup(b,this.groups[b]))),this.legendLeft.redraw(),this.legendRight.redraw()},d.prototype._updateAllGroupData=function(){if(null!=this.itemsData){for(var a={},b=this.itemsData.get(),c={},d=0;d<b.length;d++){var e=b[d],g=e.group;null!==g&&void 0!==g||(g=q),c.hasOwnProperty(g)?c[g]++:c[g]=1}for(var d=0;d<b.length;d++){var e=b[d],g=e.group;null!==g&&void 0!==g||(g=q),a.hasOwnProperty(g)||(a[g]=new Array(c[g]));var h=f.bridgeObject(e);h.x=f.convert(e.x,"Date"),h.orginalY=e.y,h.y=Number(e.y);var i=a[g].length-c[g]--;a[g][i]=h}for(var g in this.groups)this.groups.hasOwnProperty(g)&&(a.hasOwnProperty(g)||(a[g]=new Array(0)));for(var g in a)if(a.hasOwnProperty(g))if(0==a[g].length)this.groups.hasOwnProperty(g)&&this._removeGroup(g);else{var j=void 0;void 0!=this.groupsData&&(j=this.groupsData.get(g)),void 0==j&&(j={id:g,content:this.options.defaultGroup+g}),this._updateGroup(j,g),this.groups[g].setItems(a[g])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},d.prototype.redraw=function(){var a=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,a=this._isResized()||a;var b=this.body.range.end-this.body.range.start,c=b!=this.lastVisibleInterval;if(this.lastVisibleInterval=b,1==a&&(this.svg.style.width=f.option.asSize(3*this.props.width),this.svg.style.left=f.option.asSize(-this.props.width),(this.options.height+"").indexOf("%")==-1&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==a||1==c||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)a=this._updateGraph()||a,this.forceGraphUpdate=!1;else if(0!=this.lastStart){var d=this.body.range.start-this.lastStart,e=this.body.range.end-this.body.range.start;if(0!=this.props.width){var g=this.props.width/e,h=d*g;this.svg.style.left=-this.props.width-h+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),a},d.prototype._getSortedGroupIds=function(){var a=[];for(var b in this.groups)if(this.groups.hasOwnProperty(b)){var c=this.groups[b];1!=c.visible||void 0!==this.options.groups.visibility[b]&&1!=this.options.groups.visibility[b]||a.push({id:b,zIndex:c.options.zIndex})}f.insertSort(a,function(a,b){var c=a.zIndex,d=b.zIndex;return void 0===c&&(c=0),void 0===d&&(d=0),c==d?0:c<d?-1:1});for(var d=new Array(a.length),e=0;e<a.length;e++)d[e]=a[e].id;return d},d.prototype._updateGraph=function(){if(g.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var a,b,c={},d=!1,e=this.body.util.toGlobalTime(-this.body.domProps.root.width),f=this.body.util.toGlobalTime(2*this.body.domProps.root.width),h=this._getSortedGroupIds();if(h.length>0){var i={};for(this._getRelevantData(h,i,e,f),this._applySampling(h,i),b=0;b<h.length;b++)this._convertXcoordinates(i[h[b]]);if(this._getYRanges(h,i,c),d=this._updateYAxis(h,c),1==d)return g.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,
!0;this.abortedGraphUpdate=!1;var j=void 0;for(b=0;b<h.length;b++)a=this.groups[h[b]],this.options.stack===!0&&"line"===this.options.style&&(void 0!=a.options.excludeFromStacking&&a.options.excludeFromStacking||(void 0!=j&&(this._stack(i[a.id],i[j.id]),1==a.options.shaded.enabled&&"group"!==a.options.shaded.orientation&&("top"==a.options.shaded.orientation&&"group"!==j.options.shaded.orientation?(j.options.shaded.orientation="group",j.options.shaded.groupId=a.id):(a.options.shaded.orientation="group",a.options.shaded.groupId=j.id))),j=a)),this._convertYcoordinates(i[h[b]],a);var k={};for(b=0;b<h.length;b++)if(a=this.groups[h[b]],"line"===a.options.style&&1==a.options.shaded.enabled){var l=i[h[b]];if(null==l||0==l.length)continue;if(k.hasOwnProperty(h[b])||(k[h[b]]=o.calcPath(l,a)),"group"===a.options.shaded.orientation){var m=a.options.shaded.groupId;if(h.indexOf(m)===-1){console.log(a.id+": Unknown shading group target given:"+m);continue}k.hasOwnProperty(m)||(k[m]=o.calcPath(i[m],this.groups[m])),o.drawShading(k[h[b]],a,k[m],this.framework)}else o.drawShading(k[h[b]],a,void 0,this.framework)}for(n.draw(h,i,this.framework),b=0;b<h.length;b++)if(a=this.groups[h[b]],i[h[b]].length>0)switch(a.options.style){case"line":k.hasOwnProperty(h[b])||(k[h[b]]=o.calcPath(i[h[b]],a)),o.draw(k[h[b]],a,this.framework);case"point":case"points":"point"!=a.options.style&&"points"!=a.options.style&&1!=a.options.drawPoints.enabled||p.draw(i[h[b]],a,this.framework);break;case"bar":}}}return g.cleanupElements(this.svgElements),!1},d.prototype._stack=function(a,b){var c,d,e,f,g;c=0;for(var h=0;h<a.length;h++){f=void 0,g=void 0;for(var i=c;i<b.length;i++){if(b[i].x===a[h].x){f=b[i],g=b[i],c=i;break}if(b[i].x>a[h].x){g=b[i],f=0==i?g:b[i-1],c=i;break}}void 0===g&&(f=b[b.length-1],g=b[b.length-1]),d=g.x-f.x,e=g.y-f.y,0==d?a[h].y=a[h].orginalY+g.y:a[h].y=a[h].orginalY+e/d*(a[h].x-f.x)+f.y}},d.prototype._getRelevantData=function(a,b,c,d){var e,g,h,i;if(a.length>0)for(g=0;g<a.length;g++){e=this.groups[a[g]];var j=e.getItems();if(1==e.options.sort){var k=function(a,b){return a.getTime()==b.getTime()?0:a<b?-1:1},l=Math.max(0,f.binarySearchValue(j,c,"x","before",k)),m=Math.min(j.length,f.binarySearchValue(j,d,"x","after",k)+1);m<=0&&(m=j.length);var n=new Array(m-l);for(h=l;h<m;h++)i=e.itemsData[h],n[h-l]=i;b[a[g]]=n}else b[a[g]]=e.itemsData}},d.prototype._applySampling=function(a,b){var c;if(a.length>0)for(var d=0;d<a.length;d++)if(c=this.groups[a[d]],1==c.options.sampling){var e=b[a[d]];if(e.length>0){var f=1,g=e.length,h=this.body.util.toGlobalScreen(e[e.length-1].x)-this.body.util.toGlobalScreen(e[0].x),i=g/h;f=Math.min(Math.ceil(.2*g),Math.max(1,Math.round(i)));for(var j=new Array(g),k=0;k<g;k+=f){var l=Math.round(k/f);j[l]=e[k]}b[a[d]]=j.splice(0,Math.round(g/f))}}},d.prototype._getYRanges=function(a,b,c){var d,e,f,g,h=[],i=[];if(a.length>0){for(f=0;f<a.length;f++)d=b[a[f]],g=this.groups[a[f]].options,d.length>0&&(e=this.groups[a[f]],g.stack===!0&&"bar"===g.style?"left"===g.yAxisOrientation?h=h.concat(e.getItems()):i=i.concat(e.getItems()):c[a[f]]=e.getYRange(d,a[f]));n.getStackedYRange(h,c,a,"__barStackLeft","left"),n.getStackedYRange(i,c,a,"__barStackRight","right")}},d.prototype._updateYAxis=function(a,b){var c,d,e=!1,f=!1,g=!1,h=1e9,i=1e9,j=-1e9,k=-1e9;if(a.length>0){for(var l=0;l<a.length;l++){var m=this.groups[a[l]];m&&"right"!=m.options.yAxisOrientation?(f=!0,h=1e9,j=-1e9):m&&m.options.yAxisOrientation&&(g=!0,i=1e9,k=-1e9)}for(var l=0;l<a.length;l++)b.hasOwnProperty(a[l])&&b[a[l]].ignore!==!0&&(c=b[a[l]].min,d=b[a[l]].max,"right"!=b[a[l]].yAxisOrientation?(f=!0,h=h>c?c:h,j=j<d?d:j):(g=!0,i=i>c?c:i,k=k<d?d:k));1==f&&this.yAxisLeft.setRange(h,j),1==g&&this.yAxisRight.setRange(i,k)}e=this._toggleAxisVisiblity(f,this.yAxisLeft)||e,e=this._toggleAxisVisiblity(g,this.yAxisRight)||e,1==g&&1==f?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!f,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(1==g?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,e=this.yAxisLeft.redraw()||e,e=this.yAxisRight.redraw()||e):e=this.yAxisRight.redraw()||e;for(var n=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],l=0;l<n.length;l++)a.indexOf(n[l])!=-1&&a.splice(a.indexOf(n[l]),1);return e},d.prototype._toggleAxisVisiblity=function(a,b){var c=!1;return 0==a?b.dom.frame.parentNode&&0==b.hidden&&(b.hide(),c=!0):b.dom.frame.parentNode||1!=b.hidden||(b.show(),c=!0),c},d.prototype._convertXcoordinates=function(a){for(var b=this.body.util.toScreen,c=0;c<a.length;c++)a[c].screen_x=b(a[c].x)+this.props.width,a[c].screen_y=a[c].y},d.prototype._convertYcoordinates=function(a,b){var c=this.yAxisLeft,d=Number(this.svg.style.height.replace("px",""));"right"==b.options.yAxisOrientation&&(c=this.yAxisRight);for(var e=0;e<a.length;e++)a[e].screen_y=Math.round(c.convertValue(a[e].y));b.setZeroPosition(Math.min(d,c.convertValue(0)))},a.exports=d},function(a,b,c){function d(a,b,c,d){this.id=e.randomUUID(),this.body=a,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(a){return""+parseFloat(a.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(a){return""+parseFloat(a.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=d,this.linegraphSVG=c,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=e.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(b),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var f=this;this.body.emitter.on("verticalDrag",function(){f.dom.lineContainer.style.top=f.body.domProps.scrollTop+"px"})}var e=c(1),f=c(8),g=c(33),h=c(55);d.prototype=new g,d.prototype.addGroup=function(a,b){this.groups.hasOwnProperty(a)||(this.groups[a]=b),this.amountOfGroups+=1},d.prototype.updateGroup=function(a,b){this.groups.hasOwnProperty(a)||(this.amountOfGroups+=1),this.groups[a]=b},d.prototype.removeGroup=function(a){this.groups.hasOwnProperty(a)&&(delete this.groups[a],this.amountOfGroups-=1)},d.prototype.setOptions=function(a){if(a){var b=!1;this.options.orientation!=a.orientation&&void 0!==a.orientation&&(b=!0);var c=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];e.selectiveDeepExtend(c,this.options,a),this.minWidth=Number((""+this.options.width).replace("px","")),b===!0&&this.dom.frame&&(this.hide(),this.show())}},d.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},d.prototype._redrawGroupIcons=function(){f.prepareElements(this.svgElements);var a,b=this.options.iconWidth,c=15,d=4,e=d+.5*c;a="left"===this.options.orientation?d:this.width-b-d;var g=Object.keys(this.groups);g.sort(function(a,b){return a<b?-1:1});for(var h=0;h<g.length;h++){var i=g[h];this.groups[i].visible!==!0||void 0!==this.linegraphOptions.visibility[i]&&this.linegraphOptions.visibility[i]!==!0||(this.groups[i].getLegend(b,c,this.framework,a,e),e+=c+d)}f.cleanupElements(this.svgElements),this.iconsRemoved=!1},d.prototype._cleanupIcons=function(){this.iconsRemoved===!1&&(f.prepareElements(this.svgElements),f.cleanupElements(this.svgElements),this.iconsRemoved=!0)},d.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},d.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},d.prototype.setRange=function(a,b){this.range.start=a,this.range.end=b},d.prototype.redraw=function(){var a=!1,b=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var c in this.groups)this.groups.hasOwnProperty(c)&&(this.groups[c].visible!==!0||void 0!==this.linegraphOptions.visibility[c]&&this.linegraphOptions.visibility[c]!==!0||b++);if(0===this.amountOfGroups||0===b)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=this.options.visible===!0?Number((""+this.options.width).replace("px","")):0;var d=this.props,e=this.dom.frame;e.className="vis-data-axis",this._calculateCharSize();var f=this.options.orientation,g=this.options.showMinorLabels,h=this.options.showMajorLabels;d.minorLabelHeight=g?d.minorCharHeight:0,d.majorLabelHeight=h?d.majorCharHeight:0,d.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,d.minorLineHeight=1,d.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,d.majorLineHeight=1,"left"===f?(e.style.top="0",e.style.left="0",e.style.bottom="",e.style.width=this.width+"px",e.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(e.style.top="",e.style.bottom="0",e.style.left="0",e.style.width=this.width+"px",e.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),a=this._redrawLabels(),a=this._isResized()||a,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(f)}return a},d.prototype._redrawLabels=function(){var a=this,b=!1;f.prepareElements(this.DOMelements.lines),f.prepareElements(this.DOMelements.labels);var c=this.options.orientation,d=void 0!=this.options[c].range?this.options[c].range:{},e=!0;void 0!=d.max&&(this.range.end=d.max,e=!1);var g=!0;void 0!=d.min&&(this.range.start=d.min,g=!1),this.scale=new h(this.range.start,this.range.end,g,e,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[c].format),this.master===!1&&void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0;var i=this.scale.getLines();i.forEach(function(b){var d=b.y,e=b.major;a.options.showMinorLabels&&e===!1&&a._redrawLabel(d-2,b.val,c,"vis-y-axis vis-minor",a.props.minorCharHeight),e&&d>=0&&a._redrawLabel(d-2,b.val,c,"vis-y-axis vis-major",a.props.majorCharHeight),a.master===!0&&(e?a._redrawLine(d,c,"vis-grid vis-horizontal vis-major",a.options.majorLinesOffset,a.props.majorLineWidth):a._redrawLine(d,c,"vis-grid vis-horizontal vis-minor",a.options.minorLinesOffset,a.props.minorLineWidth))});var j=0;void 0!==this.options[c].title&&void 0!==this.options[c].title.text&&(j=this.props.titleCharHeight);var k=this.options.icons===!0?Math.max(this.options.iconWidth,j)+this.options.labelOffsetX+15:j+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-k&&this.options.visible===!0?(this.width=this.maxLabelSize+k,this.options.width=this.width+"px",f.cleanupElements(this.DOMelements.lines),f.cleanupElements(this.DOMelements.labels),this.redraw(),b=!0):this.maxLabelSize<this.width-k&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+k),this.options.width=this.width+"px",f.cleanupElements(this.DOMelements.lines),f.cleanupElements(this.DOMelements.labels),this.redraw(),b=!0):(f.cleanupElements(this.DOMelements.lines),f.cleanupElements(this.DOMelements.labels),b=!1),b},d.prototype.convertValue=function(a){return this.scale.convertValue(a)},d.prototype.screenToValue=function(a){return this.scale.screenToValue(a)},d.prototype._redrawLabel=function(a,b,c,d,e){var g=f.getDOMElement("div",this.DOMelements.labels,this.dom.frame);g.className=d,g.innerHTML=b,"left"===c?(g.style.left="-"+this.options.labelOffsetX+"px",g.style.textAlign="right"):(g.style.right="-"+this.options.labelOffsetX+"px",g.style.textAlign="left"),g.style.top=a-.5*e+this.options.labelOffsetY+"px",b+="";var h=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<b.length*h&&(this.maxLabelSize=b.length*h)},d.prototype._redrawLine=function(a,b,c,d,e){if(this.master===!0){var g=f.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);g.className=c,g.innerHTML="","left"===b?g.style.left=this.width-d+"px":g.style.right=this.width-d+"px",g.style.width=e+"px",g.style.top=a+"px"}},d.prototype._redrawTitle=function(a){if(f.prepareElements(this.DOMelements.title),void 0!==this.options[a].title&&void 0!==this.options[a].title.text){var b=f.getDOMElement("div",this.DOMelements.title,this.dom.frame);b.className="vis-y-axis vis-title vis-"+a,b.innerHTML=this.options[a].title.text,void 0!==this.options[a].title.style&&e.addCssText(b,this.options[a].title.style),"left"===a?b.style.left=this.props.titleCharHeight+"px":b.style.right=this.props.titleCharHeight+"px",b.style.width=this.height+"px"}f.cleanupElements(this.DOMelements.title)},d.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var a=document.createTextNode("0"),b=document.createElement("div");b.className="vis-y-axis vis-minor vis-measure",b.appendChild(a),this.dom.frame.appendChild(b),this.props.minorCharHeight=b.clientHeight,this.props.minorCharWidth=b.clientWidth,this.dom.frame.removeChild(b)}if(!("majorCharHeight"in this.props)){var c=document.createTextNode("0"),d=document.createElement("div");d.className="vis-y-axis vis-major vis-measure",d.appendChild(c),this.dom.frame.appendChild(d),this.props.majorCharHeight=d.clientHeight,this.props.majorCharWidth=d.clientWidth,this.dom.frame.removeChild(d)}if(!("titleCharHeight"in this.props)){var e=document.createTextNode("0"),f=document.createElement("div");f.className="vis-y-axis vis-title vis-measure",f.appendChild(e),this.dom.frame.appendChild(f),this.props.titleCharHeight=f.clientHeight,this.props.titleCharWidth=f.clientWidth,this.dom.frame.removeChild(f)}},a.exports=d},function(a,b){function c(a,b,c,d,e,f){var g=arguments.length>6&&void 0!==arguments[6]&&arguments[6],h=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=e,this.majorCharHeight=f,this._start=a,this._end=b,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=g,this.autoScaleStart=c,this.autoScaleEnd=d,this.formattingFunction=h,c||d){var i=this,j=function(a){var b=a-a%(i.magnitudefactor*i.minorSteps[i.minorStepIdx]);return a%(i.magnitudefactor*i.minorSteps[i.minorStepIdx])>.5*(i.magnitudefactor*i.minorSteps[i.minorStepIdx])?b+i.magnitudefactor*i.minorSteps[i.minorStepIdx]:b};c&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=j(this._start)),d&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=j(this._end)),this.determineScale()}}c.prototype.setCharHeight=function(a){this.majorCharHeight=a},c.prototype.setHeight=function(a){this.containerHeight=a},c.prototype.determineScale=function(){var a=this._end-this._start;this.scale=this.containerHeight/a;var b=this.majorCharHeight/this.scale,c=a>0?Math.round(Math.log(a)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,c);var d=0;c<0&&(d=c);for(var e=!1,f=d;Math.abs(f)<=Math.abs(c);f++){this.magnitudefactor=Math.pow(10,f);for(var g=0;g<this.minorSteps.length;g++){var h=this.magnitudefactor*this.minorSteps[g];if(h>=b){e=!0,this.minorStepIdx=g;break}}if(e===!0)break}},c.prototype.is_major=function(a){return a%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0},c.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},c.prototype.getFirstMajor=function(){var a=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(a-this._start%a)%a)},c.prototype.formatValue=function(a){var b=a.toPrecision(5);return"function"==typeof this.formattingFunction&&(b=this.formattingFunction(a)),"number"==typeof b?""+b:"string"==typeof b?b:a.toPrecision(5)},c.prototype.getLines=function(){for(var a=[],b=this.getStep(),c=(b-this._start%b)%b,d=this._start+c;this._end-d>1e-5;d+=b)d!=this._start&&a.push({major:this.is_major(d),y:this.convertValue(d),val:this.formatValue(d)});return a},c.prototype.followScale=function(a){var b=this.minorStepIdx,c=this._start,d=this._end,e=this,f=function(){e.magnitudefactor*=2},g=function(){e.magnitudefactor/=2};a.minorStepIdx<=1&&this.minorStepIdx<=1||a.minorStepIdx>1&&this.minorStepIdx>1||(a.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==b?f():(f(),f())):(this.minorStepIdx=2,1==b?g():(g(),g())));for(var h=(a.getLines(),a.convertValue(0)),i=a.getStep()*a.scale,j=!1,k=0;!j&&k++<5;){this.scale=i/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var l=this.containerHeight/this.scale;this._start=c,this._end=this._start+l;var m=this._end*this.scale,n=this.magnitudefactor*this.majorSteps[this.minorStepIdx],o=this.getFirstMajor()-a.getFirstMajor();if(this.zeroAlign){var p=h-m;this._end+=p/this.scale,this._start=this._end-l}else this.autoScaleStart?(this._start-=o/this.scale,this._end=this._start+l):(this._start+=n-o/this.scale,this._end=this._start+l);if(!this.autoScaleEnd&&this._end>d+1e-5)g(),j=!1;else{if(!this.autoScaleStart&&this._start<c-1e-5){if(!(this.zeroAlign&&c>=0)){g(),j=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&l<d-c?(f(),j=!1):j=!0}}},c.prototype.convertValue=function(a){return this.containerHeight-(a-this._start)*this.scale},c.prototype.screenToValue=function(a){return(this.containerHeight-a)/this.scale+this._start},a.exports=c},function(a,b,c){function d(a,b,c,d){this.id=b;var e=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=f.selectiveBridgeObject(e,c),this.usingDefaultStyle=void 0===a.className,this.groupsUsingDefaultStyles=d,this.zeroPosition=0,this.update(a),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===a.visible||a.visible}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(1),g=(c(8),c(57)),h=c(59),i=c(58);d.prototype.setItems=function(a){null!=a?(this.itemsData=a,1==this.options.sort&&f.insertSort(this.itemsData,function(a,b){return a.x>b.x?1:-1})):this.itemsData=[]},d.prototype.getItems=function(){return this.itemsData},d.prototype.setZeroPosition=function(a){this.zeroPosition=a},d.prototype.setOptions=function(a){if(void 0!==a){var b=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];f.selectiveDeepExtend(b,this.options,a),"function"==typeof a.drawPoints&&(a.drawPoints={onRender:a.drawPoints}),f.mergeOptions(this.options,a,"interpolation"),f.mergeOptions(this.options,a,"drawPoints"),f.mergeOptions(this.options,a,"shaded"),a.interpolation&&"object"==e(a.interpolation)&&a.interpolation.parametrization&&("uniform"==a.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==a.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},d.prototype.update=function(a){this.group=a,this.content=a.content||"graph",this.className=a.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===a.visible||a.visible,this.style=a.style,this.setOptions(a.options)},d.prototype.getLegend=function(a,b,c,d,e){if(void 0==c||null==c){var f=document.createElementNS("http://www.w3.org/2000/svg","svg");c={svg:f,svgElements:{},options:this.options,groups:[this]}}switch(void 0!=d&&null!=d||(d=0),void 0!=e&&null!=e||(e=.5*b),this.options.style){case"line":h.drawIcon(this,d,e,a,b,c);break;case"points":case"point":i.drawIcon(this,d,e,a,b,c);break;case"bar":g.drawIcon(this,d,e,a,b,c)}return{icon:c.svg,label:this.content,orientation:this.options.yAxisOrientation}},d.prototype.getYRange=function(a){for(var b=a[0].y,c=a[0].y,d=0;d<a.length;d++)b=b>a[d].y?a[d].y:b,c=c<a[d].y?a[d].y:c;return{min:b,max:c,yAxisOrientation:this.options.yAxisOrientation}},a.exports=d},function(a,b,c){function d(a,b){}var e=c(8),f=c(58);d.drawIcon=function(a,b,c,d,f,g){var h=.5*f,i=e.getSVGElement("rect",g.svgElements,g.svg);i.setAttributeNS(null,"x",b),i.setAttributeNS(null,"y",c-h),i.setAttributeNS(null,"width",d),i.setAttributeNS(null,"height",2*h),i.setAttributeNS(null,"class","vis-outline");var j=Math.round(.3*d),k=a.options.barChart.width,l=k/j,m=Math.round(.4*f),n=Math.round(.75*f),o=Math.round((d-2*j)/3);if(e.drawBar(b+.5*j+o,c+h-m-1,j,m,a.className+" vis-bar",g.svgElements,g.svg,a.style),e.drawBar(b+1.5*j+o+2,c+h-n-1,j,n,a.className+" vis-bar",g.svgElements,g.svg,a.style),1==a.options.drawPoints.enabled){var p={style:a.options.drawPoints.style,styles:a.options.drawPoints.styles,size:a.options.drawPoints.size/l,className:a.className};e.drawPoint(b+.5*j+o,c+h-m-1,p,g.svgElements,g.svg),e.drawPoint(b+1.5*j+o+2,c+h-n-1,p,g.svgElements,g.svg)}},d.draw=function(a,b,c){var g,h,i,j,k,l,m=[],n={},o=0;for(k=0;k<a.length;k++)if(j=c.groups[a[k]],"bar"===j.options.style&&j.visible===!0&&(void 0===c.options.groups.visibility[a[k]]||c.options.groups.visibility[a[k]]===!0))for(l=0;l<b[a[k]].length;l++)m.push({screen_x:b[a[k]][l].screen_x,screen_y:b[a[k]][l].screen_y,x:b[a[k]][l].x,y:b[a[k]][l].y,groupId:a[k],label:b[a[k]][l].label}),o+=1;if(0!==o)for(m.sort(function(a,b){return a.screen_x===b.screen_x?a.groupId<b.groupId?-1:1:a.screen_x-b.screen_x}),d._getDataIntersections(n,m),k=0;k<m.length;k++){j=c.groups[m[k].groupId];var p=void 0!=j.options.barChart.minWidth?j.options.barChart.minWidth:.1*j.options.barChart.width;h=m[k].screen_x;var q=0;if(void 0===n[h])k+1<m.length&&(g=Math.abs(m[k+1].screen_x-h)),i=d._getSafeDrawData(g,j,p);else{var r=k+(n[h].amount-n[h].resolved);k-(n[h].resolved+1);r<m.length&&(g=Math.abs(m[r].screen_x-h)),i=d._getSafeDrawData(g,j,p),n[h].resolved+=1,j.options.stack===!0&&j.options.excludeFromStacking!==!0?m[k].screen_y<j.zeroPosition?(q=n[h].accumulatedNegative,n[h].accumulatedNegative+=j.zeroPosition-m[k].screen_y):(q=n[h].accumulatedPositive,n[h].accumulatedPositive+=j.zeroPosition-m[k].screen_y):j.options.barChart.sideBySide===!0&&(i.width=i.width/n[h].amount,i.offset+=n[h].resolved*i.width-.5*i.width*(n[h].amount+1))}if(e.drawBar(m[k].screen_x+i.offset,m[k].screen_y-q,i.width,j.zeroPosition-m[k].screen_y,j.className+" vis-bar",c.svgElements,c.svg,j.style),j.options.drawPoints.enabled===!0){var s={screen_x:m[k].screen_x,screen_y:m[k].screen_y-q,x:m[k].x,y:m[k].y,groupId:m[k].groupId,label:m[k].label};f.draw([s],j,c,i.offset)}}},d._getDataIntersections=function(a,b){for(var c,d=0;d<b.length;d++)d+1<b.length&&(c=Math.abs(b[d+1].screen_x-b[d].screen_x)),d>0&&(c=Math.min(c,Math.abs(b[d-1].screen_x-b[d].screen_x))),0===c&&(void 0===a[b[d].screen_x]&&(a[b[d].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),a[b[d].screen_x].amount+=1)},d._getSafeDrawData=function(a,b,c){var d,e;return a<b.options.barChart.width&&a>0?(d=a<c?c:a,e=0,"left"===b.options.barChart.align?e-=.5*a:"right"===b.options.barChart.align&&(e+=.5*a)):(d=b.options.barChart.width,e=0,"left"===b.options.barChart.align?e-=.5*b.options.barChart.width:"right"===b.options.barChart.align&&(e+=.5*b.options.barChart.width)),{width:d,offset:e}},d.getStackedYRange=function(a,b,c,e,f){if(a.length>0){a.sort(function(a,b){return a.screen_x===b.screen_x?a.groupId<b.groupId?-1:1:a.screen_x-b.screen_x});var g={};d._getDataIntersections(g,a),b[e]=d._getStackedYRange(g,a),b[e].yAxisOrientation=f,c.push(e)}},d._getStackedYRange=function(a,b){for(var c,d=b[0].screen_y,e=b[0].screen_y,f=0;f<b.length;f++)c=b[f].screen_x,void 0===a[c]?(d=d>b[f].screen_y?b[f].screen_y:d,e=e<b[f].screen_y?b[f].screen_y:e):b[f].screen_y<0?a[c].accumulatedNegative+=b[f].screen_y:a[c].accumulatedPositive+=b[f].screen_y;for(var g in a)a.hasOwnProperty(g)&&(d=d>a[g].accumulatedNegative?a[g].accumulatedNegative:d,d=d>a[g].accumulatedPositive?a[g].accumulatedPositive:d,e=e<a[g].accumulatedNegative?a[g].accumulatedNegative:e,e=e<a[g].accumulatedPositive?a[g].accumulatedPositive:e);return{min:d,max:e}},a.exports=d},function(a,b,c){function d(a,b){}function e(a,b){return b="undefined"==typeof b?{}:b,{style:b.style||a.options.drawPoints.style,styles:b.styles||a.options.drawPoints.styles,size:b.size||a.options.drawPoints.size,className:b.className||a.className}}function f(a,b){var c=void 0;return a.options&&a.options.drawPoints&&a.options.drawPoints.onRender&&"function"==typeof a.options.drawPoints.onRender&&(c=a.options.drawPoints.onRender),b.group.options&&b.group.options.drawPoints&&b.group.options.drawPoints.onRender&&"function"==typeof b.group.options.drawPoints.onRender&&(c=b.group.options.drawPoints.onRender),c}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=c(8);d.draw=function(a,b,c,d){d=d||0;for(var i=f(c,b),j=0;j<a.length;j++)if(i){var k=i(a[j],b);k!==!0&&"object"!==("undefined"==typeof k?"undefined":g(k))||h.drawPoint(a[j].screen_x+d,a[j].screen_y,e(b,k),c.svgElements,c.svg,a[j].label)}else h.drawPoint(a[j].screen_x+d,a[j].screen_y,e(b),c.svgElements,c.svg,a[j].label)},d.drawIcon=function(a,b,c,d,f,g){var i=.5*f,j=h.getSVGElement("rect",g.svgElements,g.svg);j.setAttributeNS(null,"x",b),j.setAttributeNS(null,"y",c-i),j.setAttributeNS(null,"width",d),j.setAttributeNS(null,"height",2*i),j.setAttributeNS(null,"class","vis-outline"),h.drawPoint(b+.5*d,c,e(a),g.svgElements,g.svg)},a.exports=d},function(a,b,c){function d(a,b){}var e=c(8);d.calcPath=function(a,b){if(null!=a&&a.length>0){var c=[];return c=1==b.options.interpolation.enabled?d._catmullRom(a,b):d._linear(a)}},d.drawIcon=function(a,b,c,d,f,g){var h,i,j=.5*f,k=e.getSVGElement("rect",g.svgElements,g.svg);if(k.setAttributeNS(null,"x",b),k.setAttributeNS(null,"y",c-j),k.setAttributeNS(null,"width",d),k.setAttributeNS(null,"height",2*j),k.setAttributeNS(null,"class","vis-outline"),h=e.getSVGElement("path",g.svgElements,g.svg),h.setAttributeNS(null,"class",a.className),void 0!==a.style&&h.setAttributeNS(null,"style",a.style),h.setAttributeNS(null,"d","M"+b+","+c+" L"+(b+d)+","+c),1==a.options.shaded.enabled&&(i=e.getSVGElement("path",g.svgElements,g.svg),"top"==a.options.shaded.orientation?i.setAttributeNS(null,"d","M"+b+", "+(c-j)+"L"+b+","+c+" L"+(b+d)+","+c+" L"+(b+d)+","+(c-j)):i.setAttributeNS(null,"d","M"+b+","+c+" L"+b+","+(c+j)+" L"+(b+d)+","+(c+j)+"L"+(b+d)+","+c),i.setAttributeNS(null,"class",a.className+" vis-icon-fill"),void 0!==a.options.shaded.style&&""!==a.options.shaded.style&&i.setAttributeNS(null,"style",a.options.shaded.style)),1==a.options.drawPoints.enabled){var l={style:a.options.drawPoints.style,styles:a.options.drawPoints.styles,size:a.options.drawPoints.size,className:a.className};e.drawPoint(b+.5*d,c,l,g.svgElements,g.svg)}},d.drawShading=function(a,b,c,d){if(1==b.options.shaded.enabled){var f=Number(d.svg.style.height.replace("px","")),g=e.getSVGElement("path",d.svgElements,d.svg),h="L";1==b.options.interpolation.enabled&&(h="C");var i,j=0;j="top"==b.options.shaded.orientation?0:"bottom"==b.options.shaded.orientation?f:Math.min(Math.max(0,b.zeroPosition),f),i="group"==b.options.shaded.orientation&&null!=c&&void 0!=c?"M"+a[0][0]+","+a[0][1]+" "+this.serializePath(a,h,!1)+" L"+c[c.length-1][0]+","+c[c.length-1][1]+" "+this.serializePath(c,h,!0)+c[0][0]+","+c[0][1]+" Z":"M"+a[0][0]+","+a[0][1]+" "+this.serializePath(a,h,!1)+" V"+j+" H"+a[0][0]+" Z",g.setAttributeNS(null,"class",b.className+" vis-fill"),void 0!==b.options.shaded.style&&g.setAttributeNS(null,"style",b.options.shaded.style),g.setAttributeNS(null,"d",i)}},d.draw=function(a,b,c){if(null!=a&&void 0!=a){var d=e.getSVGElement("path",c.svgElements,c.svg);d.setAttributeNS(null,"class",b.className),void 0!==b.style&&d.setAttributeNS(null,"style",b.style);var f="L";1==b.options.interpolation.enabled&&(f="C"),d.setAttributeNS(null,"d","M"+a[0][0]+","+a[0][1]+" "+this.serializePath(a,f,!1))}},d.serializePath=function(a,b,c){if(a.length<2)return"";var d=b;if(c)for(var e=a.length-2;e>0;e--)d+=a[e][0]+","+a[e][1]+" ";else for(var e=1;e<a.length;e++)d+=a[e][0]+","+a[e][1]+" ";return d},d._catmullRomUniform=function(a){var b,c,d,e,f,g,h=[];h.push([Math.round(a[0].screen_x),Math.round(a[0].screen_y)]);for(var i=1/6,j=a.length,k=0;k<j-1;k++)b=0==k?a[0]:a[k-1],c=a[k],d=a[k+1],e=k+2<j?a[k+2]:d,f={screen_x:(-b.screen_x+6*c.screen_x+d.screen_x)*i,screen_y:(-b.screen_y+6*c.screen_y+d.screen_y)*i},g={screen_x:(c.screen_x+6*d.screen_x-e.screen_x)*i,screen_y:(c.screen_y+6*d.screen_y-e.screen_y)*i},h.push([f.screen_x,f.screen_y]),h.push([g.screen_x,g.screen_y]),h.push([d.screen_x,d.screen_y]);return h},d._catmullRom=function(a,b){var c=b.options.interpolation.alpha;if(0==c||void 0===c)return this._catmullRomUniform(a);var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=[];w.push([Math.round(a[0].screen_x),Math.round(a[0].screen_y)]);for(var x=a.length,y=0;y<x-1;y++)d=0==y?a[0]:a[y-1],e=a[y],f=a[y+1],g=y+2<x?a[y+2]:f,j=Math.sqrt(Math.pow(d.screen_x-e.screen_x,2)+Math.pow(d.screen_y-e.screen_y,2)),k=Math.sqrt(Math.pow(e.screen_x-f.screen_x,2)+Math.pow(e.screen_y-f.screen_y,2)),l=Math.sqrt(Math.pow(f.screen_x-g.screen_x,2)+Math.pow(f.screen_y-g.screen_y,2)),q=Math.pow(l,c),s=Math.pow(l,2*c),r=Math.pow(k,c),t=Math.pow(k,2*c),v=Math.pow(j,c),u=Math.pow(j,2*c),m=2*u+3*v*r+t,n=2*s+3*q*r+t,o=3*v*(v+r),o>0&&(o=1/o),p=3*q*(q+r),p>0&&(p=1/p),h={screen_x:(-t*d.screen_x+m*e.screen_x+u*f.screen_x)*o,screen_y:(-t*d.screen_y+m*e.screen_y+u*f.screen_y)*o},i={screen_x:(s*e.screen_x+n*f.screen_x-t*g.screen_x)*p,screen_y:(s*e.screen_y+n*f.screen_y-t*g.screen_y)*p},0==h.screen_x&&0==h.screen_y&&(h=e),0==i.screen_x&&0==i.screen_y&&(i=f),w.push([h.screen_x,h.screen_y]),w.push([i.screen_x,i.screen_y]),w.push([f.screen_x,f.screen_y]);return w},d._linear=function(a){for(var b=[],c=0;c<a.length;c++)b.push([a[c].screen_x,a[c].screen_y]);return b},a.exports=d},function(a,b,c){function d(a,b,c,d){this.body=a,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=c,this.options=e.extend({},this.defaultOptions),this.linegraphOptions=d,this.svgElements={},this.dom={},this.groups={},
this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(b)}var e=c(1),f=c(8),g=c(33);d.prototype=new g,d.prototype.clear=function(){this.groups={},this.amountOfGroups=0},d.prototype.addGroup=function(a,b){1!=b.options.excludeFromLegend&&(this.groups.hasOwnProperty(a)||(this.groups[a]=b),this.amountOfGroups+=1)},d.prototype.updateGroup=function(a,b){this.groups[a]=b},d.prototype.removeGroup=function(a){this.groups.hasOwnProperty(a)&&(delete this.groups[a],this.amountOfGroups-=1)},d.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},d.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},d.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},d.prototype.setOptions=function(a){var b=["enabled","orientation","icons","left","right"];e.selectiveDeepExtend(b,this.options,a)},d.prototype.redraw=function(){var a=0,b=Object.keys(this.groups);b.sort(function(a,b){return a<b?-1:1});for(var c=0;c<b.length;c++){var d=b[c];1!=this.groups[d].visible||void 0!==this.linegraphOptions.visibility[d]&&1!=this.linegraphOptions.visibility[d]||a++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==a)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var e=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+e+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());for(var f="",c=0;c<b.length;c++){var d=b[c];1!=this.groups[d].visible||void 0!==this.linegraphOptions.visibility[d]&&1!=this.linegraphOptions.visibility[d]||(f+=this.groups[d].content+"<br />")}this.dom.textArea.innerHTML=f,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},d.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var a=Object.keys(this.groups);a.sort(function(a,b){return a<b?-1:1}),f.resetElements(this.svgElements);var b=window.getComputedStyle(this.dom.frame).paddingTop,c=Number(b.replace("px","")),d=c,e=this.options.iconSize,g=.75*this.options.iconSize,h=c+.5*g+3;this.svg.style.width=e+5+c+"px";for(var i=0;i<a.length;i++){var j=a[i];1!=this.groups[j].visible||void 0!==this.linegraphOptions.visibility[j]&&1!=this.linegraphOptions.visibility[j]||(this.groups[j].getLegend(e,g,this.framework,d,h),h+=g+this.options.iconSpacing)}}},a.exports=d},function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var c="string",d="boolean",e="number",f="array",g="date",h="object",i="dom",j="moment",k="any",l={configure:{enabled:{boolean:d},filter:{boolean:d,function:"function"},container:{dom:i},__type__:{object:h,boolean:d,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:c},sort:{boolean:d},sampling:{boolean:d},stack:{boolean:d},graphHeight:{string:c,number:e},shaded:{enabled:{boolean:d},orientation:{string:["bottom","top","zero","group"]},groupId:{object:h},__type__:{boolean:d,object:h}},style:{string:["line","bar","points"]},barChart:{width:{number:e},minWidth:{number:e},sideBySide:{boolean:d},align:{string:["left","center","right"]},__type__:{object:h}},interpolation:{enabled:{boolean:d},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:e},__type__:{object:h,boolean:d}},drawPoints:{enabled:{boolean:d},onRender:{function:"function"},size:{number:e},style:{string:["square","circle"]},__type__:{object:h,boolean:d,function:"function"}},dataAxis:{showMinorLabels:{boolean:d},showMajorLabels:{boolean:d},icons:{boolean:d},width:{string:c,number:e},visible:{boolean:d},alignZeros:{boolean:d},left:{range:{min:{number:e},max:{number:e},__type__:{object:h}},format:{function:"function"},title:{text:{string:c,number:e},style:{string:c},__type__:{object:h}},__type__:{object:h}},right:{range:{min:{number:e},max:{number:e},__type__:{object:h}},format:{function:"function"},title:{text:{string:c,number:e},style:{string:c},__type__:{object:h}},__type__:{object:h}},__type__:{object:h}},legend:{enabled:{boolean:d},icons:{boolean:d},left:{visible:{boolean:d},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:h}},right:{visible:{boolean:d},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:h}},__type__:{object:h,boolean:d}},groups:{visibility:{any:k},__type__:{object:h}},autoResize:{boolean:d},clickToUse:{boolean:d},end:{number:e,date:g,string:c,moment:j},format:{minorLabels:{millisecond:{string:c,undefined:"undefined"},second:{string:c,undefined:"undefined"},minute:{string:c,undefined:"undefined"},hour:{string:c,undefined:"undefined"},weekday:{string:c,undefined:"undefined"},day:{string:c,undefined:"undefined"},month:{string:c,undefined:"undefined"},year:{string:c,undefined:"undefined"},__type__:{object:h}},majorLabels:{millisecond:{string:c,undefined:"undefined"},second:{string:c,undefined:"undefined"},minute:{string:c,undefined:"undefined"},hour:{string:c,undefined:"undefined"},weekday:{string:c,undefined:"undefined"},day:{string:c,undefined:"undefined"},month:{string:c,undefined:"undefined"},year:{string:c,undefined:"undefined"},__type__:{object:h}},__type__:{object:h}},moment:{function:"function"},height:{string:c,number:e},hiddenDates:{start:{date:g,number:e,string:c,moment:j},end:{date:g,number:e,string:c,moment:j},repeat:{string:c},__type__:{object:h,array:f}},locale:{string:c},locales:{__any__:{any:k},__type__:{object:h}},max:{date:g,number:e,string:c,moment:j},maxHeight:{number:e,string:c},maxMinorChars:{number:e},min:{date:g,number:e,string:c,moment:j},minHeight:{number:e,string:c},moveable:{boolean:d},multiselect:{boolean:d},orientation:{string:c},showCurrentTime:{boolean:d},showMajorLabels:{boolean:d},showMinorLabels:{boolean:d},start:{date:g,number:e,string:c,moment:j},timeAxis:{scale:{string:c,undefined:"undefined"},step:{number:e,undefined:"undefined"},__type__:{object:h}},width:{string:c,number:e},zoomable:{boolean:d},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:e},zoomMin:{number:e},zIndex:{number:e},__type__:{object:h}},m={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};b.allOptions=l,b.configureOptions=m},function(a,b,c){b.util=c(1),b.DOMutil=c(8),b.DataSet=c(9),b.DataView=c(11),b.Queue=c(10),b.Network=c(63),b.network={Images:c(64),dotparser:c(120),gephiParser:c(121),allOptions:c(116)},b.network.convertDot=function(a){return b.network.dotparser.DOTToGraph(a)},b.network.convertGephi=function(a,c){return b.network.gephiParser.parseGephi(a,c)},b.moment=c(2),b.Hammer=c(22),b.keycharm=c(25)},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){var d=this;if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:R,clickToUse:!1},N.extend(this.options,this.defaultOptions),this.body={container:a,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new g.default(function(){return d.body.emitter.emit("_requestRedraw")}),this.groups=new i.default,this.canvas=new u.default(this.body),this.selectionHandler=new A.default(this.body,this.canvas),this.interactionHandler=new y.default(this.body,this.canvas,this.selectionHandler),this.view=new w.default(this.body,this.canvas),this.renderer=new s.default(this.body,this.canvas),this.physics=new o.default(this.body),this.layoutEngine=new C.default(this.body),this.clustering=new q.default(this.body),this.manipulation=new E.default(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new k.default(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new m.default(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new L.default(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(c),this.setData(b)}var f=c(64),g=d(f),h=c(65),i=d(h),j=c(66),k=d(j),l=c(86),m=d(l),n=c(95),o=d(n),p=c(104),q=d(p),r=c(107),s=d(r),t=c(108),u=d(t),v=c(109),w=d(v),x=c(110),y=d(x),z=c(113),A=d(z),B=c(114),C=d(B),D=c(115),E=d(D),F=c(28),G=d(F),H=c(31),I=d(H),J=c(116),K=c(117),L=d(K);c(119);var M=c(13),N=c(1),O=(c(9),c(11),c(120)),P=c(121),Q=c(47),R=c(122);M(e.prototype),e.prototype.setOptions=function(a){var b=this;if(void 0!==a){var c=I.default.validate(a,J.allOptions);c===!0&&console.log("%cErrors have been found in the supplied options object.",H.printStyle);var d=["locale","locales","clickToUse"];if(N.selectiveDeepExtend(d,this.options,a),a=this.layoutEngine.setOptions(a.layout,a),this.canvas.setOptions(a),this.groups.setOptions(a.groups),this.nodesHandler.setOptions(a.nodes),this.edgesHandler.setOptions(a.edges),this.physics.setOptions(a.physics),this.manipulation.setOptions(a.manipulation,a,this.options),this.interactionHandler.setOptions(a.interaction),this.renderer.setOptions(a.interaction),this.selectionHandler.setOptions(a.interaction),void 0!==a.groups&&this.body.emitter.emit("refreshNodes"),"configure"in a&&(this.configurator||(this.configurator=new G.default(this,this.body.container,J.configureOptions,this.canvas.pixelRatio)),this.configurator.setOptions(a.configure)),this.configurator&&this.configurator.options.enabled===!0){var e={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};N.deepExtend(e.nodes,this.nodesHandler.options),N.deepExtend(e.edges,this.edgesHandler.options),N.deepExtend(e.layout,this.layoutEngine.options),N.deepExtend(e.interaction,this.selectionHandler.options),N.deepExtend(e.interaction,this.renderer.options),N.deepExtend(e.interaction,this.interactionHandler.options),N.deepExtend(e.manipulation,this.manipulation.options),N.deepExtend(e.physics,this.physics.options),N.deepExtend(e.global,this.canvas.options),N.deepExtend(e.global,this.options),this.configurator.setModuleOptions(e)}void 0!==a.clickToUse?a.clickToUse===!0?void 0===this.activator&&(this.activator=new Q(this.canvas.frame),this.activator.on("change",function(){b.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},e.prototype._updateVisibleIndices=function(){var a=this.body.nodes,b=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var c in a)a.hasOwnProperty(c)&&a[c].options.hidden===!1&&this.body.nodeIndices.push(a[c].id);for(var d in b)b.hasOwnProperty(d)&&b[d].options.hidden===!1&&this.body.edgeIndices.push(b[d].id)},e.prototype.bindEventListeners=function(){var a=this;this.body.emitter.on("_dataChanged",function(){a._updateVisibleIndices(),a.body.emitter.emit("_requestRedraw"),a.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){a._updateValueRange(a.body.nodes),a._updateValueRange(a.body.edges),a.body.emitter.emit("startSimulation"),a.body.emitter.emit("_requestRedraw")})},e.prototype.setData=function(a){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),a&&a.dot&&(a.nodes||a.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(a&&a.options),a&&a.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var b=O.DOTToGraph(a.dot);return void this.setData(b)}if(a&&a.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var c=P.parseGephi(a.gephi);return void this.setData(c)}this.nodesHandler.setData(a&&a.nodes,!0),this.edgesHandler.setData(a&&a.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},e.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var a in this.body.nodes)delete this.body.nodes[a];for(var b in this.body.edges)delete this.body.edges[b];N.recursiveDOMDelete(this.body.container)},e.prototype._updateValueRange=function(a){var b,c=void 0,d=void 0,e=0;for(b in a)if(a.hasOwnProperty(b)){var f=a[b].getValue();void 0!==f&&(c=void 0===c?f:Math.min(f,c),d=void 0===d?f:Math.max(f,d),e+=f)}if(void 0!==c&&void 0!==d)for(b in a)a.hasOwnProperty(b)&&a[b].setValueRange(c,d,e)},e.prototype.isActive=function(){return!this.activator||this.activator.active},e.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},e.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},e.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},e.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},e.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},e.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},e.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},e.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},e.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},e.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},e.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},e.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},e.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},e.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},e.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},e.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},e.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},e.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},e.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},e.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},e.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},e.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},e.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},e.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},e.prototype.getConnectedNodes=function(a){return void 0!==this.body.nodes[a]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},e.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},e.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},e.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},e.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},e.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},e.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},e.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},e.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},e.prototype.getNodeAt=function(){var a=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==a&&void 0!==a.id?a.id:a},e.prototype.getEdgeAt=function(){var a=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==a&&void 0!==a.id?a.id:a},e.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},e.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},e.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},e.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},e.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},e.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},e.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},e.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},e.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},e.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},e.prototype.getOptionsFromConfigurator=function(){var a={};return this.configurator&&(a=this.configurator.getOptions.apply(this.configurator)),a},a.exports=e},function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b){c(this,a),this.images={},this.imageBroken={},this.callback=b}return d(a,[{key:"_addImageToCache",value:function(a,b){0===b.width&&(document.body.appendChild(b),b.width=b.offsetWidth,b.height=b.offsetHeight,document.body.removeChild(b)),this.images[a]=b}},{key:"_tryloadBrokenUrl",value:function(a,b,c){var d=this;void 0!==a&&void 0!==b&&void 0!==c&&(c.onerror=function(){console.error("Could not load brokenImage:",b),d._addImageToCache(a,new Image)},c.src=b)}},{key:"_redrawWithImage",value:function(a){this.callback&&this.callback(a)}},{key:"load",value:function(a,b,c){var d=this,e=this.images[a];if(e)return e;var f=new Image;return f.onload=function(){d._addImageToCache(a,f),d._redrawWithImage(f)},f.onerror=function(){console.error("Could not load image:",a),d._tryloadBrokenUrl(a,b,f)},f.src=a,f}}]),a}();b.default=e},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(1),g=function(){function a(){d(this,a),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},f.extend(this.options,this.defaultOptions)}return e(a,[{key:"setOptions",value:function(a){var b=["useDefaultGroups"];if(void 0!==a)for(var c in a)if(a.hasOwnProperty(c)&&b.indexOf(c)===-1){var d=a[c];this.add(c,d)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(a){var b=this.groups[a];if(void 0===b)if(this.options.useDefaultGroups===!1&&this.groupsArray.length>0){var c=this.groupIndex%this.groupsArray.length;this.groupIndex++,b={},b.color=this.groups[this.groupsArray[c]],this.groups[a]=b}else{var d=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,b={},b.color=this.defaultGroups[d],this.groups[a]=b}return b}},{key:"add",value:function(a,b){return this.groups[a]=b,this.groupsArray.push(a),b}}]),a}();b.default=g},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(67),h=d(g),i=c(68),j=d(i),k=c(1),l=c(9),m=c(11),n=function(){function a(b,c,d,f){var g=this;e(this,a),this.body=b,this.images=c,this.groups=d,this.layoutEngine=f,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(a,b){g.add(b.items)},update:function(a,b){g.update(b.items,b.data)},remove:function(a,b){g.remove(b.items)}},this.options={},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center"},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,b,c,d){if(b===a)return.5;var e=1/(b-a);return Math.max(0,(d-a)*e)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},k.extend(this.options,this.defaultOptions),this.bindEventListeners()}return f(a,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){k.forEach(a.nodesListeners,function(b,c){a.body.data.nodes&&a.body.data.nodes.off(c,b)}),delete a.body.functions.createNode,delete a.nodesListeners.add,delete a.nodesListeners.update,delete a.nodesListeners.remove,delete a.nodesListeners})}},{key:"setOptions",value:function(a){if(void 0!==a){if(h.default.parseOptions(this.options,a),void 0!==a.shape)for(var b in this.body.nodes)this.body.nodes.hasOwnProperty(b)&&this.body.nodes[b].updateShape();if(void 0!==a.font){j.default.parseOptions(this.options.font,a);for(var c in this.body.nodes)this.body.nodes.hasOwnProperty(c)&&(this.body.nodes[c].updateLabelModule(),this.body.nodes[c]._reset())}if(void 0!==a.size)for(var d in this.body.nodes)this.body.nodes.hasOwnProperty(d)&&this.body.nodes[d]._reset();void 0===a.hidden&&void 0===a.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=this.body.data.nodes;if(a instanceof l||a instanceof m)this.body.data.nodes=a;else if(Array.isArray(a))this.body.data.nodes=new l,this.body.data.nodes.add(a);else{if(a)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new l}d&&k.forEach(this.nodesListeners,function(a,b){d.off(b,a)}),this.body.nodes={},this.body.data.nodes&&!function(){var a=b;k.forEach(b.nodesListeners,function(b,c){a.body.data.nodes.on(c,b)});var c=b.body.data.nodes.getIds();b.add(c,!0)}(),c===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(a){for(var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=void 0,d=[],e=0;e<a.length;e++){c=a[e];var f=this.body.data.nodes.get(c),g=this.create(f);d.push(g),this.body.nodes[c]=g}this.layoutEngine.positionInitially(d),b===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(a,b){for(var c=this.body.nodes,d=!1,e=0;e<a.length;e++){var f=a[e],g=c[f],h=b[e];void 0!==g?d=g.setOptions(h):(d=!0,g=this.create(h),c[f]=g)}d===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(a){for(var b=this.body.nodes,c=0;c<a.length;c++){var d=a[c];delete b[d]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.default;return new b(a,this.body,this.images,this.groups,this.options)}},{key:"refresh",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],b=this.body.nodes;for(var c in b){var d=void 0;b.hasOwnProperty(c)&&(d=b[c]);var e=this.body.data.nodes._data[c];
void 0!==d&&void 0!==e&&(a===!0&&d.setOptions({x:null,y:null}),d.setOptions({fixed:!1}),d.setOptions(e))}}},{key:"getPositions",value:function(a){var b={};if(void 0!==a){if(Array.isArray(a)===!0){for(var c=0;c<a.length;c++)if(void 0!==this.body.nodes[a[c]]){var d=this.body.nodes[a[c]];b[a[c]]={x:Math.round(d.x),y:Math.round(d.y)}}}else if(void 0!==this.body.nodes[a]){var e=this.body.nodes[a];b[a]={x:Math.round(e.x),y:Math.round(e.y)}}}else for(var f=0;f<this.body.nodeIndices.length;f++){var g=this.body.nodes[this.body.nodeIndices[f]];b[this.body.nodeIndices[f]]={x:Math.round(g.x),y:Math.round(g.y)}}return b}},{key:"storePositions",value:function(){var a=[],b=this.body.data.nodes.getDataSet();for(var c in b._data)if(b._data.hasOwnProperty(c)){var d=this.body.nodes[c];b._data[c].x==Math.round(d.x)&&b._data[c].y==Math.round(d.y)||a.push({id:d.id,x:Math.round(d.x),y:Math.round(d.y)})}b.update(a)}},{key:"getBoundingBox",value:function(a){if(void 0!==this.body.nodes[a])return this.body.nodes[a].shape.boundingBox}},{key:"getConnectedNodes",value:function(a){var b=[];if(void 0!==this.body.nodes[a])for(var c=this.body.nodes[a],d={},e=0;e<c.edges.length;e++){var f=c.edges[e];f.toId==c.id?void 0===d[f.fromId]&&(b.push(f.fromId),d[f.fromId]=!0):f.fromId==c.id&&void 0===d[f.toId]&&(b.push(f.toId),d[f.toId]=!0)}return b}},{key:"getConnectedEdges",value:function(a){var b=[];if(void 0!==this.body.nodes[a])for(var c=this.body.nodes[a],d=0;d<c.edges.length;d++)b.push(c.edges[d].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",a);return b}},{key:"moveNode",value:function(a,b,c){var d=this;void 0!==this.body.nodes[a]?(this.body.nodes[a].x=Number(b),this.body.nodes[a].y=Number(c),setTimeout(function(){d.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",a)}}]),a}();b.default=n},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(68),h=d(g),i=c(69),j=d(i),k=c(71),l=d(k),m=c(73),n=d(m),o=c(74),p=d(o),q=c(75),r=d(q),s=c(77),t=d(s),u=c(78),v=d(u),w=c(79),x=d(w),y=c(80),z=d(y),A=c(81),B=d(A),C=c(82),D=d(C),E=c(83),F=d(E),G=c(84),H=d(G),I=c(85),J=d(I),K=c(31),L=(d(K),c(1)),M=function(){function a(b,c,d,f,g){e(this,a),this.options=L.bridgeObject(g),this.globalOptions=g,this.body=c,this.edges=[],this.id=void 0,this.imagelist=d,this.grouplist=f,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new h.default(this.body,this.options,!1),this.setOptions(b)}return f(a,[{key:"attachEdge",value:function(a){this.edges.indexOf(a)===-1&&this.edges.push(a)}},{key:"detachEdge",value:function(a){var b=this.edges.indexOf(a);b!=-1&&this.edges.splice(b,1)}},{key:"setOptions",value:function(b){var c=this.options.shape;if(b){if(void 0!==b.id&&(this.id=b.id),void 0===this.id)throw"Node must have an id";if(void 0!==b.x&&(null===b.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(b.x),this.predefinedPosition=!0)),void 0!==b.y&&(null===b.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(b.y),this.predefinedPosition=!0)),void 0!==b.size&&(this.baseSize=b.size),void 0!==b.value&&(b.value=parseFloat(b.value)),"number"==typeof b.group||"string"==typeof b.group&&""!=b.group){var d=this.grouplist.get(b.group);L.deepExtend(this.options,d),this.options.color=L.parseColor(this.options.color)}if(a.parseOptions(this.options,b,!0,this.globalOptions),void 0!==this.options.image){if(!this.imagelist)throw"No imagelist provided";this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id)}return this.updateLabelModule(),this.updateShape(c),void 0!==b.hidden||void 0!==b.physics}}},{key:"updateLabelModule",value:function(){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(a){if(a===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj);else switch(this.options.shape){case"box":this.shape=new j.default(this.options,this.body,this.labelModule);break;case"circle":this.shape=new l.default(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new n.default(this.options,this.body,this.labelModule,this.imageObj);break;case"database":this.shape=new p.default(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new r.default(this.options,this.body,this.labelModule);break;case"dot":this.shape=new t.default(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new v.default(this.options,this.body,this.labelModule);break;case"icon":this.shape=new x.default(this.options,this.body,this.labelModule);break;case"image":this.shape=new z.default(this.options,this.body,this.labelModule,this.imageObj);break;case"square":this.shape=new B.default(this.options,this.body,this.labelModule);break;case"star":this.shape=new D.default(this.options,this.body,this.labelModule);break;case"text":this.shape=new F.default(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new H.default(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new J.default(this.options,this.body,this.labelModule);break;default:this.shape=new v.default(this.options,this.body,this.labelModule)}this._reset()}},{key:"select",value:function(){this.selected=!0,this._reset()}},{key:"unselect",value:function(){this.selected=!1,this._reset()}},{key:"_reset",value:function(){this.shape.width=void 0,this.shape.height=void 0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(a,b){return this.shape.distanceToBorder(a,b)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(a,b,c){if(void 0!==this.options.value){var d=this.options.scaling.customScalingFunction(a,b,c,this.options.value),e=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var f=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+d*f}this.options.size=this.options.scaling.min+d*e}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(a){this.shape.draw(a,this.x,this.y,this.selected,this.hover)}},{key:"updateBoundingBox",value:function(a){this.shape.updateBoundingBox(this.x,this.y,a)}},{key:"resize",value:function(a){this.shape.resize(a,this.selected)}},{key:"isOverlappingWith",value:function(a){return this.shape.left<a.right&&this.shape.left+this.shape.width>a.left&&this.shape.top<a.bottom&&this.shape.top+this.shape.height>a.top}},{key:"isBoundingBoxOverlappingWith",value:function(a){return this.shape.boundingBox.left<a.right&&this.shape.boundingBox.right>a.left&&this.shape.boundingBox.top<a.bottom&&this.shape.boundingBox.bottom>a.top}}],[{key:"parseOptions",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},e=["color","font","fixed","shadow"];if(L.selectiveNotDeepExtend(e,a,b,c),L.mergeOptions(a,b,"shadow",c,d),void 0!==b.color&&null!==b.color){var f=L.parseColor(b.color);L.fillIfDefined(a.color,f)}else c===!0&&null===b.color&&(a.color=L.bridgeObject(d.color));void 0!==b.fixed&&null!==b.fixed&&("boolean"==typeof b.fixed?(a.fixed.x=b.fixed,a.fixed.y=b.fixed):(void 0!==b.fixed.x&&"boolean"==typeof b.fixed.x&&(a.fixed.x=b.fixed.x),void 0!==b.fixed.y&&"boolean"==typeof b.fixed.y&&(a.fixed.y=b.fixed.y))),void 0!==b.font&&null!==b.font?h.default.parseOptions(a.font,b):c===!0&&null===b.font&&(a.font=L.bridgeObject(d.font)),void 0!==b.scaling&&L.mergeOptions(a.scaling,b.scaling,"label",c,d.scaling)}}]),a}();b.default=M},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(1),i=function(){function a(b,c){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d(this,a),this.body=b,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(c),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=e}return g(a,[{key:"setOptions",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.nodeOptions=b,this.fontOptions=h.deepExtend({},b.font,!0),void 0!==b.label&&(this.labelDirty=!0),void 0!==b.font&&(a.parseOptions(this.fontOptions,b,c),"string"==typeof b.font?this.baseSize=this.fontOptions.size:"object"===f(b.font)&&void 0!==b.font.size&&(this.baseSize=b.font.size))}},{key:"draw",value:function(a,b,c,d){var e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"middle";if(void 0!==this.nodeOptions.label){var f=this.fontOptions.size*this.body.view.scale;this.nodeOptions.label&&f<this.nodeOptions.scaling.label.drawThreshold-1||(this.calculateLabelSize(a,d,b,c,e),this._drawBackground(a),this._drawText(a,d,b,c,e))}}},{key:"_drawBackground",value:function(a){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){a.fillStyle=this.fontOptions.background;var b=2;if(this.isEdgeLabel)switch(this.fontOptions.align){case"middle":a.fillRect(.5*-this.size.width,.5*-this.size.height,this.size.width,this.size.height);break;case"top":a.fillRect(.5*-this.size.width,-(this.size.height+b),this.size.width,this.size.height);break;case"bottom":a.fillRect(.5*-this.size.width,b,this.size.width,this.size.height);break;default:a.fillRect(this.size.left,this.size.top-.5*b,this.size.width,this.size.height)}else a.fillRect(this.size.left,this.size.top-.5*b,this.size.width,this.size.height)}}},{key:"_drawText",value:function(a,b,c,d){var f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"middle",g=this.fontOptions.size,h=g*this.body.view.scale;h>=this.nodeOptions.scaling.label.maxVisible&&(g=Number(this.nodeOptions.scaling.label.maxVisible)/this.body.view.scale);var i=this.size.yLine,j=this._getColor(h),k=e(j,2),l=k[0],m=k[1],n=this._setAlignment(a,c,i,f),o=e(n,2);c=o[0],i=o[1],a.font=(b&&this.nodeOptions.labelHighlightBold?"bold ":"")+g+"px "+this.fontOptions.face,a.fillStyle=l,this.isEdgeLabel||"left"!==this.fontOptions.align?a.textAlign="center":(a.textAlign=this.fontOptions.align,c-=.5*this.size.width),this.fontOptions.strokeWidth>0&&(a.lineWidth=this.fontOptions.strokeWidth,a.strokeStyle=m,a.lineJoin="round");for(var p=0;p<this.lineCount;p++)this.fontOptions.strokeWidth>0&&a.strokeText(this.lines[p],c,i),a.fillText(this.lines[p],c,i),i+=g}},{key:"_setAlignment",value:function(a,b,c,d){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&this.pointToSelf===!1){b=0,c=0;var e=2;"top"===this.fontOptions.align?(a.textBaseline="alphabetic",c-=2*e):"bottom"===this.fontOptions.align?(a.textBaseline="hanging",c+=2*e):a.textBaseline="middle"}else a.textBaseline=d;return[b,c]}},{key:"_getColor",value:function(a){var b=this.fontOptions.color||"#000000",c=this.fontOptions.strokeColor||"#ffffff";if(a<=this.nodeOptions.scaling.label.drawThreshold){var d=Math.max(0,Math.min(1,1-(this.nodeOptions.scaling.label.drawThreshold-a)));b=h.overrideOpacity(b,d),c=h.overrideOpacity(c,d)}return[b,c]}},{key:"getTextSize",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c={width:this._processLabel(a,b),height:this.fontOptions.size*this.lineCount,lineCount:this.lineCount};return c}},{key:"calculateLabelSize",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"middle";this.labelDirty===!0&&(this.size.width=this._processLabel(a,b)),this.size.height=this.fontOptions.size*this.lineCount,this.size.left=c-.5*this.size.width,this.size.top=d-.5*this.size.height,this.size.yLine=d+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===e&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4),this.labelDirty=!1}},{key:"_processLabel",value:function(a,b){var c=0,d=[""],e=0;if(void 0!==this.nodeOptions.label){d=String(this.nodeOptions.label).split("\n"),e=d.length,a.font=(b&&this.nodeOptions.labelHighlightBold?"bold ":"")+this.fontOptions.size+"px "+this.fontOptions.face,c=a.measureText(d[0]).width;for(var f=1;f<e;f++){var g=a.measureText(d[f]).width;c=g>c?g:c}}return this.lines=d,this.lineCount=e,c}}],[{key:"parseOptions",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof b.font){var d=b.font.split(" ");a.size=d[0].replace("px",""),a.face=d[1],a.color=d[2]}else"object"===f(b.font)&&h.fillIfDefined(a,b.font,c);a.size=Number(a.size)}}]),a}();b.default=i},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(70),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"resize",value:function(a,b){if(void 0===this.width){var c=5,d=this.labelModule.getTextSize(a,b);this.width=d.width+2*c,this.height=d.height+2*c,this.radius=.5*this.width}}},{key:"draw",value:function(a,b,c,d,e){this.resize(a,d),this.left=b-this.width/2,this.top=c-this.height/2;var f=this.options.borderWidth,g=this.options.borderWidthSelected||2*this.options.borderWidth;a.strokeStyle=d?this.options.color.highlight.border:e?this.options.color.hover.border:this.options.color.border,a.lineWidth=d?g:f,a.lineWidth/=this.body.view.scale,a.lineWidth=Math.min(this.width,a.lineWidth),a.fillStyle=d?this.options.color.highlight.background:e?this.options.color.hover.background:this.options.color.background;var h=this.options.shapeProperties.borderRadius;a.roundRect(this.left,this.top,this.width,this.height,h),this.enableShadow(a),a.fill(),this.disableShadow(a),a.save(),f>0&&(this.enableBorderDashes(a),a.stroke(),this.disableBorderDashes(a)),a.restore(),this.updateBoundingBox(b,c,a,d),this.labelModule.draw(a,b,c,d)}},{key:"updateBoundingBox",value:function(a,b,c,d){this.resize(c,d),this.left=a-.5*this.width,this.top=b-.5*this.height;var e=this.options.shapeProperties.borderRadius;this.boundingBox.left=this.left-e,this.boundingBox.top=this.top-e,this.boundingBox.bottom=this.top+this.height+e,this.boundingBox.right=this.left+this.width+e}},{key:"distanceToBorder",value:function(a,b){this.resize(a);var c=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(b)),Math.abs(this.height/2/Math.sin(b)))+c}}]),b}(j.default);b.default=k},function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d,e){c(this,a),this.body=d,this.labelModule=e,this.setOptions(b),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return d(a,[{key:"setOptions",value:function(a){this.options=a}},{key:"_distanceToBorder",value:function(a,b){var c=this.options.borderWidth;return this.resize(a),Math.min(Math.abs(this.width/2/Math.cos(b)),Math.abs(this.height/2/Math.sin(b)))+c}},{key:"enableShadow",value:function(a){this.options.shadow.enabled===!0&&(a.shadowColor=this.options.shadow.color,a.shadowBlur=this.options.shadow.size,a.shadowOffsetX=this.options.shadow.x,a.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(a){this.options.shadow.enabled===!0&&(a.shadowColor="rgba(0,0,0,0)",a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(a){if(this.options.shapeProperties.borderDashes!==!1)if(void 0!==a.setLineDash){var b=this.options.shapeProperties.borderDashes;b===!0&&(b=[5,15]),a.setLineDash(b)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1}},{key:"disableBorderDashes",value:function(a){this.options.shapeProperties.borderDashes!==!1&&(void 0!==a.setLineDash?a.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1))}}]),a}();b.default=e},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(72),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"resize",value:function(a,b){if(void 0===this.width){var c=5,d=this.labelModule.getTextSize(a,b),e=Math.max(d.width,d.height)+2*c;this.options.size=e/2,this.width=e,this.height=e,this.radius=.5*this.width}}},{key:"draw",value:function(a,b,c,d,e){this.resize(a,d),this.left=b-this.width/2,this.top=c-this.height/2,this._drawRawCircle(a,b,c,d,e,this.options.size),this.boundingBox.top=c-this.options.size,this.boundingBox.left=b-this.options.size,this.boundingBox.right=b+this.options.size,this.boundingBox.bottom=c+this.options.size,this.updateBoundingBox(b,c),this.labelModule.draw(a,b,c,d)}},{key:"updateBoundingBox",value:function(a,b){this.boundingBox.top=b-this.options.size,this.boundingBox.left=a-this.options.size,this.boundingBox.right=a+this.options.size,this.boundingBox.bottom=b+this.options.size}},{key:"distanceToBorder",value:function(a,b){return this.resize(a),.5*this.width}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(70),j=d(i),k=function(a){function b(a,c,d){e(this,b);var g=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d));return g.labelOffset=0,g.imageLoaded=!1,g}return g(b,a),h(b,[{key:"setOptions",value:function(a,b){this.options=a,b&&(this.imageObj=b)}},{key:"_resizeImage",value:function(){var a=!1;if(this.imageObj.width&&this.imageObj.height?this.imageLoaded===!1&&(this.imageLoaded=!0,a=!0):this.imageLoaded=!1,!this.width||!this.height||a===!0){var b,c,d;this.imageObj.width&&this.imageObj.height&&(b=0,c=0),this.options.shapeProperties.useImageSize===!1?this.imageObj.width>this.imageObj.height?(d=this.imageObj.width/this.imageObj.height,b=2*this.options.size*d||this.imageObj.width,c=2*this.options.size||this.imageObj.height):(d=this.imageObj.width&&this.imageObj.height?this.imageObj.height/this.imageObj.width:1,b=2*this.options.size,c=2*this.options.size*d):(b=this.imageObj.width,c=this.imageObj.height),this.width=b,this.height=c,this.radius=.5*this.width}}},{key:"_drawRawCircle",value:function(a,b,c,d,e,f){var g=this.options.borderWidth,h=this.options.borderWidthSelected||2*this.options.borderWidth,i=(d?h:g)/this.body.view.scale;a.lineWidth=Math.min(this.width,i),a.strokeStyle=d?this.options.color.highlight.border:e?this.options.color.hover.border:this.options.color.border,a.fillStyle=d?this.options.color.highlight.background:e?this.options.color.hover.background:this.options.color.background,a.circle(b,c,f),this.enableShadow(a),a.fill(),this.disableShadow(a),a.save(),i>0&&(this.enableBorderDashes(a),a.stroke(),this.disableBorderDashes(a)),a.restore()}},{key:"_drawImageAtPosition",value:function(a){if(0!=this.imageObj.width){a.globalAlpha=1,this.enableShadow(a);var b=this.imageObj.width/this.width/this.body.view.scale;if(b>2&&this.options.shapeProperties.interpolation===!0){var c=this.imageObj.width,d=this.imageObj.height,e=document.createElement("canvas");e.width=c,e.height=c;var f=e.getContext("2d");b*=.5,c*=.5,d*=.5,f.drawImage(this.imageObj,0,0,c,d);for(var g=0,h=1;b>2&&h<4;)f.drawImage(e,g,0,c,d,g+c,0,c/2,d/2),g+=c,b*=.5,c*=.5,d*=.5,h+=1;a.drawImage(e,g,0,c,d,this.left,this.top,this.width,this.height)}else a.drawImage(this.imageObj,this.left,this.top,this.width,this.height);this.disableShadow(a)}}},{key:"_drawImageLabel",value:function(a,b,c,d){var e,f=0;if(void 0!==this.height){f=.5*this.height;var g=this.labelModule.getTextSize(a);g.lineCount>=1&&(f+=g.height/2)}e=c+f,this.options.label&&(this.labelOffset=f),this.labelModule.draw(a,b,e,d,"hanging")}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(72),j=d(i),k=function(a){function b(a,c,d,g){e(this,b);var h=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d));return h.imageObj=g,h._swapToImageResizeWhenImageLoaded=!0,h}return g(b,a),h(b,[{key:"resize",value:function(){if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){if(!this.width){var a=2*this.options.size;this.width=a,this.height=a,this._swapToImageResizeWhenImageLoaded=!0,this.radius=.5*this.width}}else this._swapToImageResizeWhenImageLoaded&&(this.width=void 0,this.height=void 0,this._swapToImageResizeWhenImageLoaded=!1),this._resizeImage()}},{key:"draw",value:function(a,b,c,d,e){this.resize(),this.left=b-this.width/2,this.top=c-this.height/2;var f=Math.min(.5*this.height,.5*this.width);this._drawRawCircle(a,b,c,d,e,f),a.save(),a.clip(),this._drawImageAtPosition(a),a.restore(),this._drawImageLabel(a,b,c,d),this.updateBoundingBox(b,c)}},{key:"updateBoundingBox",value:function(a,b){this.boundingBox.top=b-this.options.size,this.boundingBox.left=a-this.options.size,this.boundingBox.right=a+this.options.size,this.boundingBox.bottom=b+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(a,b){return this.resize(a),.5*this.width}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(70),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"resize",value:function(a,b){if(void 0===this.width){var c=5,d=this.labelModule.getTextSize(a,b),e=d.width+2*c;this.width=e,this.height=e,this.radius=.5*this.width}}},{key:"draw",value:function(a,b,c,d,e){this.resize(a,d),this.left=b-this.width/2,this.top=c-this.height/2;var f=this.options.borderWidth,g=this.options.borderWidthSelected||2*this.options.borderWidth,h=(d?g:f)/this.body.view.scale;a.lineWidth=Math.min(this.width,h),a.strokeStyle=d?this.options.color.highlight.border:e?this.options.color.hover.border:this.options.color.border,a.fillStyle=d?this.options.color.highlight.background:e?this.options.color.hover.background:this.options.color.background,a.database(b-this.width/2,c-.5*this.height,this.width,this.height),this.enableShadow(a),a.fill(),this.disableShadow(a),a.save(),h>0&&(this.enableBorderDashes(a),a.stroke(),this.disableBorderDashes(a)),a.restore(),this.updateBoundingBox(b,c,a,d),this.labelModule.draw(a,b,c,d)}},{key:"updateBoundingBox",value:function(a,b,c,d){this.resize(c,d),this.left=a-.5*this.width,this.top=b-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(76),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"resize",value:function(a){this._resizeShape()}},{key:"draw",value:function(a,b,c,d,e){this._drawShape(a,"diamond",4,b,c,d,e)}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(70),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"_resizeShape",value:function(){if(void 0===this.width){var a=2*this.options.size;this.width=a,this.height=a,this.radius=.5*this.width}}},{key:"_drawShape",value:function(a,b,c,d,e,f,g){this._resizeShape(),this.left=d-this.width/2,this.top=e-this.height/2;var h=this.options.borderWidth,i=this.options.borderWidthSelected||2*this.options.borderWidth,j=(f?i:h)/this.body.view.scale;
if(a.lineWidth=Math.min(this.width,j),a.strokeStyle=f?this.options.color.highlight.border:g?this.options.color.hover.border:this.options.color.border,a.fillStyle=f?this.options.color.highlight.background:g?this.options.color.hover.background:this.options.color.background,a[b](d,e,this.options.size),this.enableShadow(a),a.fill(),this.disableShadow(a),a.save(),j>0&&(this.enableBorderDashes(a),a.stroke(),this.disableBorderDashes(a)),a.restore(),void 0!==this.options.label){var k=e+.5*this.height+3;this.labelModule.draw(a,d,k,f,"hanging")}this.updateBoundingBox(d,e)}},{key:"updateBoundingBox",value:function(a,b){this.boundingBox.top=b-this.options.size,this.boundingBox.left=a-this.options.size,this.boundingBox.right=a+this.options.size,this.boundingBox.bottom=b+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+3))}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(76),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"resize",value:function(a){this._resizeShape()}},{key:"draw",value:function(a,b,c,d,e){this._drawShape(a,"circle",2,b,c,d,e)}},{key:"distanceToBorder",value:function(a,b){return this.resize(a),this.options.size}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(70),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"resize",value:function(a,b){if(void 0===this.width){var c=this.labelModule.getTextSize(a,b);this.height=2*c.height,this.width=c.width+this.height,this.radius=.5*this.width}}},{key:"draw",value:function(a,b,c,d,e){this.resize(a,d),this.left=b-.5*this.width,this.top=c-.5*this.height;var f=this.options.borderWidth,g=this.options.borderWidthSelected||2*this.options.borderWidth,h=(d?g:f)/this.body.view.scale;a.lineWidth=Math.min(this.width,h),a.strokeStyle=d?this.options.color.highlight.border:e?this.options.color.hover.border:this.options.color.border,a.fillStyle=d?this.options.color.highlight.background:e?this.options.color.hover.background:this.options.color.background,a.ellipse(this.left,this.top,this.width,this.height),this.enableShadow(a),a.fill(),this.disableShadow(a),a.save(),h>0&&(this.enableBorderDashes(a),a.stroke(),this.disableBorderDashes(a)),a.restore(),this.updateBoundingBox(b,c,a,d),this.labelModule.draw(a,b,c,d)}},{key:"updateBoundingBox",value:function(a,b,c,d){this.resize(c,d),this.left=a-.5*this.width,this.top=b-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(a,b){this.resize(a);var c=.5*this.width,d=.5*this.height,e=Math.sin(b)*c,f=Math.cos(b)*d;return c*d/Math.sqrt(e*e+f*f)}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(70),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"resize",value:function(a){if(void 0===this.width){var b=5,c={width:Number(this.options.icon.size),height:Number(this.options.icon.size)};this.width=c.width+2*b,this.height=c.height+2*b,this.radius=.5*this.width}}},{key:"draw",value:function(a,b,c,d,e){if(this.resize(a),this.options.icon.size=this.options.icon.size||50,this.left=b-.5*this.width,this.top=c-.5*this.height,this._icon(a,b,c,d),void 0!==this.options.label){var f=5;this.labelModule.draw(a,b,c+.5*this.height+f,d)}this.updateBoundingBox(b,c)}},{key:"updateBoundingBox",value:function(a,b){if(this.boundingBox.top=b-.5*this.options.icon.size,this.boundingBox.left=a-.5*this.options.icon.size,this.boundingBox.right=a+.5*this.options.icon.size,this.boundingBox.bottom=b+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){var c=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+c)}}},{key:"_icon",value:function(a,b,c,d){var e=Number(this.options.icon.size);void 0!==this.options.icon.code?(a.font=(d?"bold ":"")+e+"px "+this.options.icon.face,a.fillStyle=this.options.icon.color||"black",a.textAlign="center",a.textBaseline="middle",this.enableShadow(a),a.fillText(this.options.icon.code,b,c),this.disableShadow(a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(72),j=d(i),k=function(a){function b(a,c,d,g){e(this,b);var h=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d));return h.imageObj=g,h}return g(b,a),h(b,[{key:"resize",value:function(){this._resizeImage()}},{key:"draw",value:function(a,b,c,d,e){if(this.resize(),this.left=b-this.width/2,this.top=c-this.height/2,this.options.shapeProperties.useBorderWithImage===!0){var f=this.options.borderWidth,g=this.options.borderWidthSelected||2*this.options.borderWidth,h=(d?g:f)/this.body.view.scale;a.lineWidth=Math.min(this.width,h),a.beginPath(),a.strokeStyle=d?this.options.color.highlight.border:e?this.options.color.hover.border:this.options.color.border,a.fillStyle=d?this.options.color.highlight.background:e?this.options.color.hover.background:this.options.color.background,a.rect(this.left-.5*a.lineWidth,this.top-.5*a.lineWidth,this.width+a.lineWidth,this.height+a.lineWidth),a.fill(),a.save(),h>0&&(this.enableBorderDashes(a),a.stroke(),this.disableBorderDashes(a)),a.restore(),a.closePath()}this._drawImageAtPosition(a),this._drawImageLabel(a,b,c,d||e),this.updateBoundingBox(b,c)}},{key:"updateBoundingBox",value:function(a,b){this.resize(),this.left=a-this.width/2,this.top=b-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(76),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"resize",value:function(){this._resizeShape()}},{key:"draw",value:function(a,b,c,d,e){this._drawShape(a,"square",2,b,c,d,e)}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(76),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"resize",value:function(a){this._resizeShape()}},{key:"draw",value:function(a,b,c,d,e){this._drawShape(a,"star",4,b,c,d,e)}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(70),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"resize",value:function(a,b){if(void 0===this.width){var c=5,d=this.labelModule.getTextSize(a,b);this.width=d.width+2*c,this.height=d.height+2*c,this.radius=.5*this.width}}},{key:"draw",value:function(a,b,c,d,e){this.resize(a,d||e),this.left=b-this.width/2,this.top=c-this.height/2,this.enableShadow(a),this.labelModule.draw(a,b,c,d||e),this.disableShadow(a),this.updateBoundingBox(b,c,a,d)}},{key:"updateBoundingBox",value:function(a,b,c,d){this.resize(c,d),this.left=a-this.width/2,this.top=b-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(76),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"resize",value:function(a){this._resizeShape()}},{key:"draw",value:function(a,b,c,d,e){this._drawShape(a,"triangle",3,b,c,d,e)}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(76),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"resize",value:function(a){this._resizeShape()}},{key:"draw",value:function(a,b,c,d,e){this._drawShape(a,"triangleDown",3,b,c,d,e)}},{key:"distanceToBorder",value:function(a,b){return this._distanceToBorder(a,b)}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(87),h=d(g),i=c(68),j=d(i),k=c(1),l=c(9),m=c(11),n=function(){function a(b,c,d){var f=this;e(this,a),this.body=b,this.images=c,this.groups=d,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(a,b){f.add(b.items)},update:function(a,b){f.update(b.items)},remove:function(a,b){f.remove(b.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal"},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,b,c,d){if(b===a)return.5;var e=1/(b-a);return Math.max(0,(d-a)*e)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},k.extend(this.options,this.defaultOptions),this.bindEventListeners()}return f(a,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.on("_forceDisableDynamicCurves",function(b){"dynamic"===b&&(b="continuous");var c=!1;for(var d in a.body.edges)if(a.body.edges.hasOwnProperty(d)){var e=a.body.edges[d],f=a.body.data.edges._data[d];if(void 0!==f){var g=f.smooth;void 0!==g&&g.enabled===!0&&"dynamic"===g.type&&(void 0===b?e.setOptions({smooth:!1}):e.setOptions({smooth:{type:b}}),c=!0)}}c===!0&&a.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){a.reconnectEdges(),a.markAllEdgesAsDirty()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){k.forEach(a.edgesListeners,function(b,c){a.body.data.edges&&a.body.data.edges.off(c,b)}),delete a.body.functions.createEdge,delete a.edgesListeners.add,delete a.edgesListeners.update,delete a.edgesListeners.remove,delete a.edgesListeners})}},{key:"setOptions",value:function(a){if(void 0!==a){h.default.parseOptions(this.options,a),void 0!==a.color&&this.markAllEdgesAsDirty();var b=!1;if(void 0!==a.smooth)for(var c in this.body.edges)this.body.edges.hasOwnProperty(c)&&(b=this.body.edges[c].updateEdgeType()||b);if(void 0!==a.font){j.default.parseOptions(this.options.font,a);for(var d in this.body.edges)this.body.edges.hasOwnProperty(d)&&this.body.edges[d].updateLabelModule()}void 0===a.hidden&&void 0===a.physics&&b!==!0||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=this.body.data.edges;if(a instanceof l||a instanceof m)this.body.data.edges=a;else if(Array.isArray(a))this.body.data.edges=new l,this.body.data.edges.add(a);else{if(a)throw new TypeError("Array or DataSet expected");this.body.data.edges=new l}if(d&&k.forEach(this.edgesListeners,function(a,b){d.off(b,a)}),this.body.edges={},this.body.data.edges){k.forEach(this.edgesListeners,function(a,c){b.body.data.edges.on(c,a)});var e=this.body.data.edges.getIds();this.add(e,!0)}c===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(a){for(var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=this.body.edges,d=this.body.data.edges,e=0;e<a.length;e++){var f=a[e],g=c[f];g&&g.disconnect();var h=d.get(f,{showInternalIds:!0});c[f]=this.create(h)}b===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(a){for(var b=this.body.edges,c=this.body.data.edges,d=!1,e=0;e<a.length;e++){var f=a[e],g=c.get(f),h=b[f];void 0!==h?(h.disconnect(),d=h.setOptions(g)||d,h.connect()):(this.body.edges[f]=this.create(g),d=!0)}d===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(a){for(var b=this.body.edges,c=0;c<a.length;c++){var d=a[c],e=b[d];void 0!==e&&(e.cleanup(),e.disconnect(),delete b[d])}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function(){var a=this.body.edges;for(var b in a){var c=void 0;a.hasOwnProperty(b)&&(c=a[b]);var d=this.body.data.edges._data[b];void 0!==c&&void 0!==d&&c.setOptions(d)}}},{key:"create",value:function(a){return new h.default(a,this.body,this.options)}},{key:"markAllEdgesAsDirty",value:function(){for(var a in this.body.edges)this.body.edges[a].edgeType.colorDirty=!0}},{key:"reconnectEdges",value:function(){var a,b=this.body.nodes,c=this.body.edges;for(a in b)b.hasOwnProperty(a)&&(b[a].edges=[]);for(a in c)if(c.hasOwnProperty(a)){var d=c[a];d.from=null,d.to=null,d.connect()}}},{key:"getConnectedNodes",value:function(a){var b=[];if(void 0!==this.body.edges[a]){var c=this.body.edges[a];c.fromId&&b.push(c.fromId),c.toId&&b.push(c.toId)}return b}}]),a}();b.default=n},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(68),i=d(h),j=c(88),k=d(j),l=c(92),m=d(l),n=c(93),o=d(n),p=c(94),q=d(p),r=c(1),s=function(){function a(b,c,d){if(e(this,a),void 0===c)throw"No body provided";this.options=r.bridgeObject(d),this.globalOptions=d,this.body=c,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.colorDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new i.default(this.body,this.options,!0),this.setOptions(b)}return g(a,[{key:"setOptions",value:function(b){if(b){this.colorDirty=!0,a.parseOptions(this.options,b,!0,this.globalOptions),void 0!==b.id&&(this.id=b.id),void 0!==b.from&&(this.fromId=b.from),void 0!==b.to&&(this.toId=b.to),void 0!==b.title&&(this.title=b.title),void 0!==b.value&&(b.value=parseFloat(b.value)),this.updateLabelModule();var c=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===b.hidden&&void 0===b.physics||(c=!0),c}}},{key:"updateLabelModule",value:function(){this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var a=!1,b=!0,c=this.options.smooth;return void 0!==this.edgeType&&(this.edgeType instanceof m.default&&c.enabled===!0&&"dynamic"===c.type&&(b=!1),this.edgeType instanceof k.default&&c.enabled===!0&&"cubicBezier"===c.type&&(b=!1),this.edgeType instanceof o.default&&c.enabled===!0&&"dynamic"!==c.type&&"cubicBezier"!==c.type&&(b=!1),this.edgeType instanceof q.default&&c.enabled===!1&&(b=!1),b===!0&&(a=this.cleanup())),b===!0?this.options.smooth.enabled===!0?"dynamic"===this.options.smooth.type?(a=!0,this.edgeType=new m.default(this.options,this.body,this.labelModule)):"cubicBezier"===this.options.smooth.type?this.edgeType=new k.default(this.options,this.body,this.labelModule):this.edgeType=new o.default(this.options,this.body,this.labelModule):this.edgeType=new q.default(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),a}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(a,b,c){if(void 0!==this.options.value){var d=this.options.scaling.customScalingFunction(a,b,c,this.options.value),e=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var f=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+d*f}this.options.width=this.options.scaling.min+d*e}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(a){var b=this.edgeType.getViaNode(),c={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,this.options.arrows.from.enabled===!0&&(c.from=this.edgeType.getArrowData(a,"from",b,this.selected,this.hover),this.options.arrowStrikethrough===!1&&(this.edgeType.fromPoint=c.from.core)),this.options.arrows.to.enabled===!0&&(c.to=this.edgeType.getArrowData(a,"to",b,this.selected,this.hover),this.options.arrowStrikethrough===!1&&(this.edgeType.toPoint=c.to.core)),this.options.arrows.middle.enabled===!0&&(c.middle=this.edgeType.getArrowData(a,"middle",b,this.selected,this.hover)),this.edgeType.drawLine(a,this.selected,this.hover,b),this.drawArrows(a,c),this.drawLabel(a,b)}},{key:"drawArrows",value:function(a,b){this.options.arrows.from.enabled===!0&&this.edgeType.drawArrowHead(a,this.selected,this.hover,b.from),this.options.arrows.middle.enabled===!0&&this.edgeType.drawArrowHead(a,this.selected,this.hover,b.middle),this.options.arrows.to.enabled===!0&&this.edgeType.drawArrowHead(a,this.selected,this.hover,b.to)}},{key:"drawLabel",value:function(a,b){if(void 0!==this.options.label){var c=this.from,d=this.to,e=this.from.selected||this.to.selected||this.selected;if(c.id!=d.id){this.labelModule.pointToSelf=!1;var f=this.edgeType.getPoint(.5,b);a.save(),"horizontal"!==this.options.font.align&&(this.labelModule.calculateLabelSize(a,e,f.x,f.y),a.translate(f.x,this.labelModule.size.yLine),this._rotateForLabelAlignment(a)),this.labelModule.draw(a,f.x,f.y,e),a.restore()}else{this.labelModule.pointToSelf=!0;var g,h,i=this.options.selfReferenceSize;c.shape.width>c.shape.height?(g=c.x+.5*c.shape.width,h=c.y-i):(g=c.x+i,h=c.y-.5*c.shape.height),f=this._pointOnCircle(g,h,i,.125),this.labelModule.draw(a,f.x,f.y,e)}}}},{key:"isOverlappingWith",value:function(a){if(this.connected){var b=10,c=this.from.x,d=this.from.y,e=this.to.x,f=this.to.y,g=a.left,h=a.top,i=this.edgeType.getDistanceToEdge(c,d,e,f,g,h);return i<b}return!1}},{key:"_rotateForLabelAlignment",value:function(a){var b=this.from.y-this.to.y,c=this.from.x-this.to.x,d=Math.atan2(b,c);(d<-1&&c<0||d>0&&c<0)&&(d+=Math.PI),a.rotate(d)}},{key:"_pointOnCircle",value:function(a,b,c,d){var e=2*d*Math.PI;return{x:a+c*Math.cos(e),y:b-c*Math.sin(e)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}}],[{key:"parseOptions",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},e=["arrowStrikethrough","id","from","hidden","hoverWidth","label","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width"];if(r.selectiveDeepExtend(e,a,b,c),r.mergeOptions(a,b,"smooth",c,d),r.mergeOptions(a,b,"shadow",c,d),void 0!==b.dashes&&null!==b.dashes?a.dashes=b.dashes:c===!0&&null===b.dashes&&(a.dashes=Object.create(d.dashes)),void 0!==b.scaling&&null!==b.scaling?(void 0!==b.scaling.min&&(a.scaling.min=b.scaling.min),void 0!==b.scaling.max&&(a.scaling.max=b.scaling.max),r.mergeOptions(a.scaling,b.scaling,"label",c,d.scaling)):c===!0&&null===b.scaling&&(a.scaling=Object.create(d.scaling)),void 0!==b.arrows&&null!==b.arrows)if("string"==typeof b.arrows){var g=b.arrows.toLowerCase();a.arrows.to.enabled=g.indexOf("to")!=-1,a.arrows.middle.enabled=g.indexOf("middle")!=-1,a.arrows.from.enabled=g.indexOf("from")!=-1}else{if("object"!==f(b.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(b.arrows));r.mergeOptions(a.arrows,b.arrows,"to",c,d.arrows),r.mergeOptions(a.arrows,b.arrows,"middle",c,d.arrows),r.mergeOptions(a.arrows,b.arrows,"from",c,d.arrows)}else c===!0&&null===b.arrows&&(a.arrows=Object.create(d.arrows));if(void 0!==b.color&&null!==b.color)if(a.color=r.deepExtend({},a.color,!0),r.isString(b.color))a.color.color=b.color,a.color.highlight=b.color,a.color.hover=b.color,a.color.inherit=!1;else{var h=!1;void 0!==b.color.color&&(a.color.color=b.color.color,h=!0),void 0!==b.color.highlight&&(a.color.highlight=b.color.highlight,h=!0),void 0!==b.color.hover&&(a.color.hover=b.color.hover,h=!0),void 0!==b.color.inherit&&(a.color.inherit=b.color.inherit),
void 0!==b.color.opacity&&(a.color.opacity=Math.min(1,Math.max(0,b.color.opacity))),void 0===b.color.inherit&&h===!0&&(a.color.inherit=!1)}else c===!0&&null===b.color&&(a.color=r.bridgeObject(d.color));void 0!==b.font&&null!==b.font?i.default.parseOptions(a.font,b):c===!0&&null===b.font&&(a.font=r.bridgeObject(d.font))}}]),a}();b.default=s},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(89),k=d(j),l=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),i(b,[{key:"_line",value:function(a,b){var c=b[0],d=b[1];a.beginPath(),a.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===b||void 0===c.x?a.lineTo(this.toPoint.x,this.toPoint.y):a.bezierCurveTo(c.x,c.y,d.x,d.y,this.toPoint.x,this.toPoint.y),this.enableShadow(a),a.stroke(),this.disableShadow(a)}},{key:"_getViaCoordinates",value:function(){var a=this.from.x-this.to.x,b=this.from.y-this.to.y,c=void 0,d=void 0,e=void 0,f=void 0,g=this.options.smooth.roundness;return(Math.abs(a)>Math.abs(b)||this.options.smooth.forceDirection===!0||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(d=this.from.y,f=this.to.y,c=this.from.x-g*a,e=this.to.x+g*a):(d=this.from.y-g*b,f=this.to.y+g*b,c=this.from.x,e=this.to.x),[{x:c,y:d},{x:e,y:f}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(a,b){return this._findBorderPositionBezier(a,b)}},{key:"_getDistanceToEdge",value:function(a,b,c,d,e,f){var g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),i=h(g,2),j=i[0],k=i[1];return this._getDistanceToBezierEdge(a,b,c,d,e,f,j,k)}},{key:"getPoint",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),c=h(b,2),d=c[0],e=c[1],f=a,g=[];g[0]=Math.pow(1-f,3),g[1]=3*f*Math.pow(1-f,2),g[2]=3*Math.pow(f,2)*(1-f),g[3]=Math.pow(f,3);var i=g[0]*this.fromPoint.x+g[1]*d.x+g[2]*e.x+g[3]*this.toPoint.x,j=g[0]*this.fromPoint.y+g[1]*d.y+g[2]*e.y+g[3]*this.toPoint.y;return{x:i,y:j}}}]),b}(k.default);b.default=l},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(90),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"_getDistanceToBezierEdge",value:function(a,b,c,d,e,f,g,h){var i=1e9,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=a,p=b,q=[0,0,0,0];for(k=1;k<10;k++)l=.1*k,q[0]=Math.pow(1-l,3),q[1]=3*l*Math.pow(1-l,2),q[2]=3*Math.pow(l,2)*(1-l),q[3]=Math.pow(l,3),m=q[0]*a+q[1]*g.x+q[2]*h.x+q[3]*c,n=q[0]*b+q[1]*g.y+q[2]*h.y+q[3]*d,k>0&&(j=this._getDistanceToLine(o,p,m,n,e,f),i=j<i?j:i),o=m,p=n;return i}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(91),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"_findBorderPositionBezier",value:function(a,b){var c,d,e,f,g,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),i=10,j=0,k=0,l=1,m=.2,n=this.to,o=!1;for(a.id===this.from.id&&(n=this.from,o=!0);k<=l&&j<i;){var p=.5*(k+l);if(c=this.getPoint(p,h),d=Math.atan2(n.y-c.y,n.x-c.x),e=n.distanceToBorder(b,d),f=Math.sqrt(Math.pow(c.x-n.x,2)+Math.pow(c.y-n.y,2)),g=e-f,Math.abs(g)<m)break;g<0?o===!1?k=p:l=p:o===!1?l=p:k=p,j++}return c.t=p,c}},{key:"_getDistanceToBezierEdge",value:function(a,b,c,d,e,f,g){var h=1e9,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=a,o=b;for(j=1;j<10;j++)k=.1*j,l=Math.pow(1-k,2)*a+2*k*(1-k)*g.x+Math.pow(k,2)*c,m=Math.pow(1-k,2)*b+2*k*(1-k)*g.y+Math.pow(k,2)*d,j>0&&(i=this._getDistanceToLine(n,o,l,m,e,f),h=i<h?i:h),n=l,o=m;return h}}]),b}(j.default);b.default=k},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(1),h=function(){function a(b,c,e){d(this,a),this.body=c,this.labelModule=e,this.options={},this.setOptions(b),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return f(a,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(a){this.options=a,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(a,b,c,d){a.strokeStyle=this.getColor(a,b,c),a.lineWidth=this.getLineWidth(b,c),this.options.dashes!==!1?this._drawDashedLine(a,d):this._drawLine(a,d)}},{key:"_drawLine",value:function(a,b,c,d){if(this.from!=this.to)this._line(a,b,c,d);else{var f=this._getCircleData(a),g=e(f,3),h=g[0],i=g[1],j=g[2];this._circle(a,h,i,j)}}},{key:"_drawDashedLine",value:function(a,b,c,d){a.lineCap="round";var f=[5,5];if(Array.isArray(this.options.dashes)===!0&&(f=this.options.dashes),void 0!==a.setLineDash){if(a.save(),a.setLineDash(f),a.lineDashOffset=0,this.from!=this.to)this._line(a,b);else{var g=this._getCircleData(a),h=e(g,3),i=h[0],j=h[1],k=h[2];this._circle(a,i,j,k)}a.setLineDash([0]),a.lineDashOffset=0,a.restore()}else{if(this.from!=this.to)a.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,f);else{var l=this._getCircleData(a),m=e(l,3),n=m[0],o=m[1],p=m[2];this._circle(a,n,o,p)}this.enableShadow(a),a.stroke(),this.disableShadow(a)}}},{key:"findBorderPosition",value:function(a,b,c){return this.from!=this.to?this._findBorderPosition(a,b,c):this._findBorderPositionCircle(a,b,c)}},{key:"findBorderPositions",value:function(a){var b={},c={};if(this.from!=this.to)b=this._findBorderPosition(this.from,a),c=this._findBorderPosition(this.to,a);else{var d=this._getCircleData(a),f=e(d,3),g=f[0],h=f[1];f[2];b=this._findBorderPositionCircle(this.from,a,{x:g,y:h,low:.25,high:.6,direction:-1}),c=this._findBorderPositionCircle(this.from,a,{x:g,y:h,low:.6,high:.8,direction:1})}return{from:b,to:c}}},{key:"_getCircleData",value:function(a){var b=void 0,c=void 0,d=this.from,e=this.options.selfReferenceSize;return void 0!==a&&void 0===d.shape.width&&d.shape.resize(a),d.shape.width>d.shape.height?(b=d.x+.5*d.shape.width,c=d.y-e):(b=d.x+e,c=d.y-.5*d.shape.height),[b,c,e]}},{key:"_pointOnCircle",value:function(a,b,c,d){var e=2*d*Math.PI;return{x:a+c*Math.cos(e),y:b-c*Math.sin(e)}}},{key:"_findBorderPositionCircle",value:function(a,b,c){for(var d=c.x,e=c.y,f=c.low,g=c.high,h=c.direction,i=10,j=0,k=this.options.selfReferenceSize,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=.05,r=.5*(f+g);f<=g&&j<i&&(r=.5*(f+g),l=this._pointOnCircle(d,e,k,r),m=Math.atan2(a.y-l.y,a.x-l.x),n=a.distanceToBorder(b,m),o=Math.sqrt(Math.pow(l.x-a.x,2)+Math.pow(l.y-a.y,2)),p=n-o,!(Math.abs(p)<q));)p>0?h>0?f=r:g=r:h>0?g=r:f=r,j++;return l.t=r,l}},{key:"getLineWidth",value:function(a,b){return a===!0?Math.max(this.selectionWidth,.3/this.body.view.scale):b===!0?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(a,b,c){var d=this.options.color;if(d.inherit!==!1){if("both"===d.inherit&&this.from.id!==this.to.id){var e=a.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),f=void 0,h=void 0;return f=this.from.options.color.highlight.border,h=this.to.options.color.highlight.border,this.from.selected===!1&&this.to.selected===!1?(f=g.overrideOpacity(this.from.options.color.border,this.options.color.opacity),h=g.overrideOpacity(this.to.options.color.border,this.options.color.opacity)):this.from.selected===!0&&this.to.selected===!1?h=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(f=this.from.options.color.border),e.addColorStop(0,f),e.addColorStop(1,h),e}this.colorDirty===!0&&("to"===d.inherit?(this.color.highlight=this.to.options.color.highlight.border,this.color.hover=this.to.options.color.hover.border,this.color.color=g.overrideOpacity(this.to.options.color.border,d.opacity)):(this.color.highlight=this.from.options.color.highlight.border,this.color.hover=this.from.options.color.hover.border,this.color.color=g.overrideOpacity(this.from.options.color.border,d.opacity)))}else this.colorDirty===!0&&(this.color.highlight=d.highlight,this.color.hover=d.hover,this.color.color=g.overrideOpacity(d.color,d.opacity));return this.colorDirty=!1,b===!0?this.color.highlight:c===!0?this.color.hover:this.color.color}},{key:"_circle",value:function(a,b,c,d){this.enableShadow(a),a.beginPath(),a.arc(b,c,d,0,2*Math.PI,!1),a.stroke(),this.disableShadow(a)}},{key:"getDistanceToEdge",value:function(a,b,c,d,f,g,h){var i=0;if(this.from!=this.to)i=this._getDistanceToEdge(a,b,c,d,f,g,h);else{var j=this._getCircleData(),k=e(j,3),l=k[0],m=k[1],n=k[2],o=l-f,p=m-g;i=Math.abs(Math.sqrt(o*o+p*p)-n)}return this.labelModule.size.left<f&&this.labelModule.size.left+this.labelModule.size.width>f&&this.labelModule.size.top<g&&this.labelModule.size.top+this.labelModule.size.height>g?0:i}},{key:"_getDistanceToLine",value:function(a,b,c,d,e,f){var g=c-a,h=d-b,i=g*g+h*h,j=((e-a)*g+(f-b)*h)/i;j>1?j=1:j<0&&(j=0);var k=a+j*g,l=b+j*h,m=k-e,n=l-f;return Math.sqrt(m*m+n*n)}},{key:"getArrowData",value:function(a,b,c,d,f){var g=void 0,h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=this.getLineWidth(d,f);if("from"===b?(i=this.from,j=this.to,k=.1,l=this.options.arrows.from.scaleFactor,m=this.options.arrows.from.type):"to"===b?(i=this.to,j=this.from,k=-.1,l=this.options.arrows.to.scaleFactor,m=this.options.arrows.to.type):(i=this.to,j=this.from,l=this.options.arrows.middle.scaleFactor,m=this.options.arrows.middle.type),i!=j)if("middle"!==b)if(this.options.smooth.enabled===!0){h=this.findBorderPosition(i,a,{via:c});var o=this.getPoint(Math.max(0,Math.min(1,h.t+k)),c);g=Math.atan2(h.y-o.y,h.x-o.x)}else g=Math.atan2(i.y-j.y,i.x-j.x),h=this.findBorderPosition(i,a);else g=Math.atan2(i.y-j.y,i.x-j.x),h=this.getPoint(.5,c);else{var p=this._getCircleData(a),q=e(p,3),r=q[0],s=q[1],t=q[2];"from"===b?(h=this.findBorderPosition(this.from,a,{x:r,y:s,low:.25,high:.6,direction:-1}),g=h.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI):"to"===b?(h=this.findBorderPosition(this.from,a,{x:r,y:s,low:.6,high:1,direction:1}),g=h.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI):(h=this._pointOnCircle(r,s,t,.175),g=3.9269908169872414)}var u=15*l+3*n,v=h.x-.9*u*Math.cos(g),w=h.y-.9*u*Math.sin(g),x={x:v,y:w};return{point:h,core:x,angle:g,length:u,type:m}}},{key:"drawArrowHead",value:function(a,b,c,d){a.strokeStyle=this.getColor(a,b,c),a.fillStyle=a.strokeStyle,a.lineWidth=this.getLineWidth(b,c),d.type&&"circle"===d.type.toLowerCase()?a.circleEndpoint(d.point.x,d.point.y,d.angle,d.length):a.arrowEndpoint(d.point.x,d.point.y,d.angle,d.length),this.enableShadow(a),a.fill(),this.disableShadow(a)}},{key:"enableShadow",value:function(a){this.options.shadow.enabled===!0&&(a.shadowColor=this.options.shadow.color,a.shadowBlur=this.options.shadow.size,a.shadowOffsetX=this.options.shadow.x,a.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(a){this.options.shadow.enabled===!0&&(a.shadowColor="rgba(0,0,0,0)",a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0)}}]),a}();b.default=h},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=c(90),k=d(j),l=function(a){function b(a,c,d){e(this,b);var g=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d));return g._boundFunction=function(){g.positionBezierNode()},g.body.emitter.on("_repositionBezierNodes",g._boundFunction),g}return g(b,a),i(b,[{key:"setOptions",value:function(a){var b=!1;this.options.physics!==a.physics&&(b=!0),this.options=a,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),b===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var a="edgeId:"+this.id,b=this.body.functions.createNode({id:a,shape:"circle",physics:!0,hidden:!0});this.body.nodes[a]=b,this.via=b,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(a,b){a.beginPath(),a.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===b.x?a.lineTo(this.toPoint.x,this.toPoint.y):a.quadraticCurveTo(b.x,b.y,this.toPoint.x,this.toPoint.y),this.enableShadow(a),a.stroke(),this.disableShadow(a)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,c=a,d=void 0,e=void 0;if(this.from===this.to){var f=this._getCircleData(this.from),g=h(f,3),i=g[0],j=g[1],k=g[2],l=2*Math.PI*(1-c);d=i+k*Math.sin(l),e=j+k-k*(1-Math.cos(l))}else d=Math.pow(1-c,2)*this.fromPoint.x+2*c*(1-c)*b.x+Math.pow(c,2)*this.toPoint.x,e=Math.pow(1-c,2)*this.fromPoint.y+2*c*(1-c)*b.y+Math.pow(c,2)*this.toPoint.y;return{x:d,y:e}}},{key:"_findBorderPosition",value:function(a,b){return this._findBorderPositionBezier(a,b,this.via)}},{key:"_getDistanceToEdge",value:function(a,b,c,d,e,f){return this._getDistanceToBezierEdge(a,b,c,d,e,f,this.via)}}]),b}(k.default);b.default=l},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(90),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"_line",value:function(a,b){a.beginPath(),a.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===b.x?a.lineTo(this.toPoint.x,this.toPoint.y):a.quadraticCurveTo(b.x,b.y,this.toPoint.x,this.toPoint.y),this.enableShadow(a),a.stroke(),this.disableShadow(a)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var a=void 0,b=void 0,c=this.options.smooth.roundness,d=this.options.smooth.type,e=Math.abs(this.from.x-this.to.x),f=Math.abs(this.from.y-this.to.y);if("discrete"===d||"diagonalCross"===d)Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(this.from.y>=this.to.y?this.from.x<=this.to.x?(a=this.from.x+c*f,b=this.from.y-c*f):this.from.x>this.to.x&&(a=this.from.x-c*f,b=this.from.y-c*f):this.from.y<this.to.y&&(this.from.x<=this.to.x?(a=this.from.x+c*f,b=this.from.y+c*f):this.from.x>this.to.x&&(a=this.from.x-c*f,b=this.from.y+c*f)),"discrete"===d&&(a=e<c*f?this.from.x:a)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(a=this.from.x+c*e,b=this.from.y-c*e):this.from.x>this.to.x&&(a=this.from.x-c*e,b=this.from.y-c*e):this.from.y<this.to.y&&(this.from.x<=this.to.x?(a=this.from.x+c*e,b=this.from.y+c*e):this.from.x>this.to.x&&(a=this.from.x-c*e,b=this.from.y+c*e)),"discrete"===d&&(b=f<c*e?this.from.y:b));else if("straightCross"===d)Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(a=this.from.x,b=this.from.y<this.to.y?this.to.y-(1-c)*f:this.to.y+(1-c)*f):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(a=this.from.x<this.to.x?this.to.x-(1-c)*e:this.to.x+(1-c)*e,b=this.from.y);else if("horizontal"===d)a=this.from.x<this.to.x?this.to.x-(1-c)*e:this.to.x+(1-c)*e,b=this.from.y;else if("vertical"===d)a=this.from.x,b=this.from.y<this.to.y?this.to.y-(1-c)*f:this.to.y+(1-c)*f;else if("curvedCW"===d){e=this.to.x-this.from.x,f=this.from.y-this.to.y;var g=Math.sqrt(e*e+f*f),h=Math.PI,i=Math.atan2(f,e),j=(i+(.5*c+.5)*h)%(2*h);a=this.from.x+(.5*c+.5)*g*Math.sin(j),b=this.from.y+(.5*c+.5)*g*Math.cos(j)}else if("curvedCCW"===d){e=this.to.x-this.from.x,f=this.from.y-this.to.y;var k=Math.sqrt(e*e+f*f),l=Math.PI,m=Math.atan2(f,e),n=(m+(.5*-c+.5)*l)%(2*l);a=this.from.x+(.5*c+.5)*k*Math.sin(n),b=this.from.y+(.5*c+.5)*k*Math.cos(n)}else Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?this.from.y>=this.to.y?this.from.x<=this.to.x?(a=this.from.x+c*f,b=this.from.y-c*f,a=this.to.x<a?this.to.x:a):this.from.x>this.to.x&&(a=this.from.x-c*f,b=this.from.y-c*f,a=this.to.x>a?this.to.x:a):this.from.y<this.to.y&&(this.from.x<=this.to.x?(a=this.from.x+c*f,b=this.from.y+c*f,a=this.to.x<a?this.to.x:a):this.from.x>this.to.x&&(a=this.from.x-c*f,b=this.from.y+c*f,a=this.to.x>a?this.to.x:a)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(a=this.from.x+c*e,b=this.from.y-c*e,b=this.to.y>b?this.to.y:b):this.from.x>this.to.x&&(a=this.from.x-c*e,b=this.from.y-c*e,b=this.to.y>b?this.to.y:b):this.from.y<this.to.y&&(this.from.x<=this.to.x?(a=this.from.x+c*e,b=this.from.y+c*e,b=this.to.y<b?this.to.y:b):this.from.x>this.to.x&&(a=this.from.x-c*e,b=this.from.y+c*e,b=this.to.y<b?this.to.y:b)));return{x:a,y:b}}},{key:"_findBorderPosition",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(a,b,c.via)}},{key:"_getDistanceToEdge",value:function(a,b,c,d,e,f){var g=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(a,b,c,d,e,f,g)}},{key:"getPoint",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),c=a,d=Math.pow(1-c,2)*this.fromPoint.x+2*c*(1-c)*b.x+Math.pow(c,2)*this.toPoint.x,e=Math.pow(1-c,2)*this.fromPoint.y+2*c*(1-c)*b.y+Math.pow(c,2)*this.toPoint.y;return{x:d,y:e}}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(91),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"_line",value:function(a){a.beginPath(),a.moveTo(this.fromPoint.x,this.fromPoint.y),a.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(a),a.stroke(),this.disableShadow(a)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(a){return{x:(1-a)*this.fromPoint.x+a*this.toPoint.x,y:(1-a)*this.fromPoint.y+a*this.toPoint.y}}},{key:"_findBorderPosition",value:function(a,b){var c=this.to,d=this.from;a.id===this.from.id&&(c=this.from,d=this.to);var e=Math.atan2(c.y-d.y,c.x-d.x),f=c.x-d.x,g=c.y-d.y,h=Math.sqrt(f*f+g*g),i=a.distanceToBorder(b,e),j=(h-i)/h,k={};return k.x=(1-j)*d.x+j*c.x,k.y=(1-j)*d.y+j*c.y,k}},{key:"_getDistanceToEdge",value:function(a,b,c,d,e,f){return this._getDistanceToLine(a,b,c,d,e,f)}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(96),h=d(g),i=c(97),j=d(i),k=c(98),l=d(k),m=c(99),n=d(m),o=c(100),p=d(o),q=c(101),r=d(q),s=c(102),t=d(s),u=c(103),v=d(u),w=c(1),x=function(){function a(b){e(this,a),this.body=b,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},w.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return f(a,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.on("initPhysics",function(){a.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){a.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){a.stopSimulation(),a.ready=!1}),this.body.emitter.on("disablePhysics",function(){a.physicsEnabled=!1,a.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){a.setOptions(a.options),a.ready===!0&&a.startSimulation()}),this.body.emitter.on("startSimulation",function(){a.ready===!0&&a.startSimulation()}),this.body.emitter.on("stopSimulation",function(){a.stopSimulation()}),this.body.emitter.on("destroy",function(){a.stopSimulation(!1),a.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){a.updatePhysicsData()})}},{key:"setOptions",value:function(a){void 0!==a&&(a===!1?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):(this.physicsEnabled=!0,w.selectiveNotDeepExtend(["stabilization"],this.options,a),w.mergeOptions(this.options,a,"stabilization"),void 0===a.enabled&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var a;"forceAtlas2Based"===this.options.solver?(a=this.options.forceAtlas2Based,this.nodesSolver=new t.default(this.body,this.physicsBody,a),this.edgesSolver=new n.default(this.body,this.physicsBody,a),this.gravitySolver=new v.default(this.body,this.physicsBody,a)):"repulsion"===this.options.solver?(a=this.options.repulsion,this.nodesSolver=new j.default(this.body,this.physicsBody,a),this.edgesSolver=new n.default(this.body,this.physicsBody,a),this.gravitySolver=new r.default(this.body,this.physicsBody,a)):"hierarchicalRepulsion"===this.options.solver?(a=this.options.hierarchicalRepulsion,this.nodesSolver=new l.default(this.body,this.physicsBody,a),this.edgesSolver=new p.default(this.body,this.physicsBody,a),this.gravitySolver=new r.default(this.body,this.physicsBody,a)):(a=this.options.barnesHut,this.nodesSolver=new h.default(this.body,this.physicsBody,a),this.edgesSolver=new n.default(this.body,this.physicsBody,a),this.gravitySolver=new r.default(this.body,this.physicsBody,a)),this.modelOptions=a}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,a===!0&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,a===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var a=Date.now();this.physicsTick();var b=Date.now()-a;(b<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&setTimeout(function(){a.body.emitter.emit("stabilized",{iterations:b}),a.startedStabilization=!1,a.stabilizationIterations=0},0)}},{key:"physicsTick",value:function(){if(this.startedStabilization===!1&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0),this.stabilized===!1){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var a=1.2;this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.calculateForces(),this.moveNodes(),this.revert(),this.timestep=.5*this.timestep,this.calculateForces(),
this.moveNodes(),this.calculateForces(),this.moveNodes(),this._evaluateStepQuality()===!0?this.timestep=a*this.timestep:this.timestep/a<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/a))):(this.calculateForces(),this.moveNodes()),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.calculateForces(),this.moveNodes();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var a=this.body.nodes,b=this.body.edges;for(var c in a)a.hasOwnProperty(c)&&a[c].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(a[c].id);for(var d in b)b.hasOwnProperty(d)&&b[d].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(b[d].id);for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var f=this.physicsBody.physicsNodeIndices[e];this.physicsBody.forces[f]={x:0,y:0},void 0===this.physicsBody.velocities[f]&&(this.physicsBody.velocities[f]={x:0,y:0})}for(var g in this.physicsBody.velocities)void 0===a[g]&&delete this.physicsBody.velocities[g]}},{key:"revert",value:function(){var a=Object.keys(this.previousStates),b=this.body.nodes,c=this.physicsBody.velocities;this.referenceState={};for(var d=0;d<a.length;d++){var e=a[d];void 0!==b[e]?b[e].options.physics===!0&&(this.referenceState[e]={positions:{x:b[e].x,y:b[e].y}},c[e].x=this.previousStates[e].vx,c[e].y=this.previousStates[e].vy,b[e].x=this.previousStates[e].x,b[e].y=this.previousStates[e].y):delete this.previousStates[e]}}},{key:"_evaluateStepQuality",value:function(){var a=void 0,b=void 0,c=void 0,d=this.body.nodes,e=this.referenceState,f=.3;for(var g in this.referenceState)if(this.referenceState.hasOwnProperty(g)&&void 0!==d[g]&&(a=d[g].x-e[g].positions.x,b=d[g].y-e[g].positions.y,c=Math.sqrt(Math.pow(a,2)+Math.pow(b,2)),c>f))return!1;return!0}},{key:"moveNodes",value:function(){for(var a=this.physicsBody.physicsNodeIndices,b=this.options.maxVelocity?this.options.maxVelocity:1e9,c=0,d=0,e=5,f=0;f<a.length;f++){var g=a[f],h=this._performStep(g,b);c=Math.max(c,h),d+=h}this.adaptiveTimestepEnabled=d/a.length<e,this.stabilized=c<this.options.minVelocity}},{key:"_performStep",value:function(a,b){var c=this.body.nodes[a],d=this.timestep,e=this.physicsBody.forces,f=this.physicsBody.velocities;if(this.previousStates[a]={x:c.x,y:c.y,vx:f[a].x,vy:f[a].y},c.options.fixed.x===!1){var g=this.modelOptions.damping*f[a].x,h=(e[a].x-g)/c.options.mass;f[a].x+=h*d,f[a].x=Math.abs(f[a].x)>b?f[a].x>0?b:-b:f[a].x,c.x+=f[a].x*d}else e[a].x=0,f[a].x=0;if(c.options.fixed.y===!1){var i=this.modelOptions.damping*f[a].y,j=(e[a].y-i)/c.options.mass;f[a].y+=j*d,f[a].y=Math.abs(f[a].y)>b?f[a].y>0?b:-b:f[a].y,c.y+=f[a].y*d}else e[a].y=0,f[a].y=0;var k=Math.sqrt(Math.pow(f[a].x,2)+Math.pow(f[a].y,2));return k}},{key:"calculateForces",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve()}},{key:"_freezeNodes",value:function(){var a=this.body.nodes;for(var b in a)a.hasOwnProperty(b)&&a[b].x&&a[b].y&&(this.freezeCache[b]={x:a[b].options.fixed.x,y:a[b].options.fixed.y},a[b].options.fixed.x=!0,a[b].options.fixed.y=!0)}},{key:"_restoreFrozenNodes",value:function(){var a=this.body.nodes;for(var b in a)a.hasOwnProperty(b)&&void 0!==this.freezeCache[b]&&(a[b].options.fixed.x=this.freezeCache[b].x,a[b].options.fixed.y=this.freezeCache[b].y);this.freezeCache={}}},{key:"stabilize",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;return"number"!=typeof b&&(console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations),b=this.options.stabilization.iterations),0===this.physicsBody.physicsNodeIndices.length?void(this.ready=!0):(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=b,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,void setTimeout(function(){return a._stabilizationBatch()},0))}},{key:"_stabilizationBatch",value:function(){this.startedStabilization===!1&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0);for(var a=0;this.stabilized===!1&&a<this.options.stabilization.updateInterval&&this.stabilizationIterations<this.targetIterations;)this.physicsTick(),a++;this.stabilized===!1&&this.stabilizationIterations<this.targetIterations?(this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations}),setTimeout(this._stabilizationBatch.bind(this),0)):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(a){for(var b=0;b<this.physicsBody.physicsNodeIndices.length;b++){var c=this.body.nodes[this.physicsBody.physicsNodeIndices[b]],d=this.physicsBody.forces[this.physicsBody.physicsNodeIndices[b]],e=20,f=.03,g=Math.sqrt(Math.pow(d.x,2)+Math.pow(d.x,2)),h=Math.min(Math.max(5,g),15),i=3*h,j=w.HSVToHex((180-180*Math.min(1,Math.max(0,f*g)))/360,1,1);a.lineWidth=h,a.strokeStyle=j,a.beginPath(),a.moveTo(c.x,c.y),a.lineTo(c.x+e*d.x,c.y+e*d.y),a.stroke();var k=Math.atan2(d.y,d.x);a.fillStyle=j,a.arrowEndpoint(c.x+e*d.x+Math.cos(k)*i,c.y+e*d.y+Math.sin(k)*i,k,i),a.fill()}}}]),a}();b.default=x},function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d,e){c(this,a),this.body=b,this.physicsBody=d,this.barnesHutTree,this.setOptions(e),this.randomSeed=5}return d(a,[{key:"setOptions",value:function(a){this.options=a,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var a=1e4*Math.sin(this.randomSeed++);return a-Math.floor(a)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var a=void 0,b=this.body.nodes,c=this.physicsBody.physicsNodeIndices,d=c.length,e=this._formBarnesHutTree(b,c);this.barnesHutTree=e;for(var f=0;f<d;f++)a=b[c[f]],a.options.mass>0&&(this._getForceContribution(e.root.children.NW,a),this._getForceContribution(e.root.children.NE,a),this._getForceContribution(e.root.children.SW,a),this._getForceContribution(e.root.children.SE,a))}}},{key:"_getForceContribution",value:function(a,b){if(a.childrenCount>0){var c=void 0,d=void 0,e=void 0;c=a.centerOfMass.x-b.x,d=a.centerOfMass.y-b.y,e=Math.sqrt(c*c+d*d),e*a.calcSize>this.thetaInversed?this._calculateForces(e,c,d,b,a):4===a.childrenCount?(this._getForceContribution(a.children.NW,b),this._getForceContribution(a.children.NE,b),this._getForceContribution(a.children.SW,b),this._getForceContribution(a.children.SE,b)):a.children.data.id!=b.id&&this._calculateForces(e,c,d,b,a)}}},{key:"_calculateForces",value:function(a,b,c,d,e){0===a&&(a=.1,b=a),this.overlapAvoidanceFactor<1&&d.shape.radius&&(a=Math.max(.1+this.overlapAvoidanceFactor*d.shape.radius,a-d.shape.radius));var f=this.options.gravitationalConstant*e.mass*d.options.mass/Math.pow(a,3),g=b*f,h=c*f;this.physicsBody.forces[d.id].x+=g,this.physicsBody.forces[d.id].y+=h}},{key:"_formBarnesHutTree",value:function(a,b){for(var c=void 0,d=b.length,e=a[b[0]].x,f=a[b[0]].y,g=a[b[0]].x,h=a[b[0]].y,i=1;i<d;i++){var j=a[b[i]].x,k=a[b[i]].y;a[b[i]].options.mass>0&&(j<e&&(e=j),j>g&&(g=j),k<f&&(f=k),k>h&&(h=k))}var l=Math.abs(g-e)-Math.abs(h-f);l>0?(f-=.5*l,h+=.5*l):(e+=.5*l,g-=.5*l);var m=1e-5,n=Math.max(m,Math.abs(g-e)),o=.5*n,p=.5*(e+g),q=.5*(f+h),r={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-o,maxX:p+o,minY:q-o,maxY:q+o},size:n,calcSize:1/n,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(r.root);for(var s=0;s<d;s++)c=a[b[s]],c.options.mass>0&&this._placeInTree(r.root,c);return r}},{key:"_updateBranchMass",value:function(a,b){var c=a.mass+b.options.mass,d=1/c;a.centerOfMass.x=a.centerOfMass.x*a.mass+b.x*b.options.mass,a.centerOfMass.x*=d,a.centerOfMass.y=a.centerOfMass.y*a.mass+b.y*b.options.mass,a.centerOfMass.y*=d,a.mass=c;var e=Math.max(Math.max(b.height,b.radius),b.width);a.maxWidth=a.maxWidth<e?e:a.maxWidth}},{key:"_placeInTree",value:function(a,b,c){1==c&&void 0!==c||this._updateBranchMass(a,b),a.children.NW.range.maxX>b.x?a.children.NW.range.maxY>b.y?this._placeInRegion(a,b,"NW"):this._placeInRegion(a,b,"SW"):a.children.NW.range.maxY>b.y?this._placeInRegion(a,b,"NE"):this._placeInRegion(a,b,"SE")}},{key:"_placeInRegion",value:function(a,b,c){switch(a.children[c].childrenCount){case 0:a.children[c].children.data=b,a.children[c].childrenCount=1,this._updateBranchMass(a.children[c],b);break;case 1:a.children[c].children.data.x===b.x&&a.children[c].children.data.y===b.y?(b.x+=this.seededRandom(),b.y+=this.seededRandom()):(this._splitBranch(a.children[c]),this._placeInTree(a.children[c],b));break;case 4:this._placeInTree(a.children[c],b)}}},{key:"_splitBranch",value:function(a){var b=null;1===a.childrenCount&&(b=a.children.data,a.mass=0,a.centerOfMass.x=0,a.centerOfMass.y=0),a.childrenCount=4,a.children.data=null,this._insertRegion(a,"NW"),this._insertRegion(a,"NE"),this._insertRegion(a,"SW"),this._insertRegion(a,"SE"),null!=b&&this._placeInTree(a,b)}},{key:"_insertRegion",value:function(a,b){var c=void 0,d=void 0,e=void 0,f=void 0,g=.5*a.size;switch(b){case"NW":c=a.range.minX,d=a.range.minX+g,e=a.range.minY,f=a.range.minY+g;break;case"NE":c=a.range.minX+g,d=a.range.maxX,e=a.range.minY,f=a.range.minY+g;break;case"SW":c=a.range.minX,d=a.range.minX+g,e=a.range.minY+g,f=a.range.maxY;break;case"SE":c=a.range.minX+g,d=a.range.maxX,e=a.range.minY+g,f=a.range.maxY}a.children[b]={centerOfMass:{x:0,y:0},mass:0,range:{minX:c,maxX:d,minY:e,maxY:f},size:.5*a.size,calcSize:2*a.calcSize,children:{data:null},maxWidth:0,level:a.level+1,childrenCount:0}}},{key:"_debug",value:function(a,b){void 0!==this.barnesHutTree&&(a.lineWidth=1,this._drawBranch(this.barnesHutTree.root,a,b))}},{key:"_drawBranch",value:function(a,b,c){void 0===c&&(c="#FF0000"),4===a.childrenCount&&(this._drawBranch(a.children.NW,b),this._drawBranch(a.children.NE,b),this._drawBranch(a.children.SE,b),this._drawBranch(a.children.SW,b)),b.strokeStyle=c,b.beginPath(),b.moveTo(a.range.minX,a.range.minY),b.lineTo(a.range.maxX,a.range.minY),b.stroke(),b.beginPath(),b.moveTo(a.range.maxX,a.range.minY),b.lineTo(a.range.maxX,a.range.maxY),b.stroke(),b.beginPath(),b.moveTo(a.range.maxX,a.range.maxY),b.lineTo(a.range.minX,a.range.maxY),b.stroke(),b.beginPath(),b.moveTo(a.range.minX,a.range.maxY),b.lineTo(a.range.minX,a.range.minY),b.stroke()}}]),a}();b.default=e},function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d,e){c(this,a),this.body=b,this.physicsBody=d,this.setOptions(e)}return d(a,[{key:"setOptions",value:function(a){this.options=a}},{key:"solve",value:function(){for(var a,b,c,d,e,f,g,h,i=this.body.nodes,j=this.physicsBody.physicsNodeIndices,k=this.physicsBody.forces,l=this.options.nodeDistance,m=-2/3/l,n=4/3,o=0;o<j.length-1;o++){g=i[j[o]];for(var p=o+1;p<j.length;p++)h=i[j[p]],a=h.x-g.x,b=h.y-g.y,c=Math.sqrt(a*a+b*b),0===c&&(c=.1*Math.random(),a=c),c<2*l&&(f=c<.5*l?1:m*c+n,f/=c,d=a*f,e=b*f,k[g.id].x-=d,k[g.id].y-=e,k[h.id].x+=d,k[h.id].y+=e)}}}]),a}();b.default=e},function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d,e){c(this,a),this.body=b,this.physicsBody=d,this.setOptions(e)}return d(a,[{key:"setOptions",value:function(a){this.options=a}},{key:"solve",value:function(){var a,b,c,d,e,f,g,h,i,j,k=this.body.nodes,l=this.physicsBody.physicsNodeIndices,m=this.physicsBody.forces,n=this.options.nodeDistance;for(i=0;i<l.length-1;i++)for(g=k[l[i]],j=i+1;j<l.length;j++)if(h=k[l[j]],g.level===h.level){a=h.x-g.x,b=h.y-g.y,c=Math.sqrt(a*a+b*b);var o=.05;f=c<n?-Math.pow(o*c,2)+Math.pow(o*n,2):0,0===c?c=.01:f/=c,d=a*f,e=b*f,m[g.id].x-=d,m[g.id].y-=e,m[h.id].x+=d,m[h.id].y+=e}}}]),a}();b.default=e},function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d,e){c(this,a),this.body=b,this.physicsBody=d,this.setOptions(e)}return d(a,[{key:"setOptions",value:function(a){this.options=a}},{key:"solve",value:function(){for(var a=void 0,b=void 0,c=this.physicsBody.physicsEdgeIndices,d=this.body.edges,e=void 0,f=void 0,g=void 0,h=0;h<c.length;h++)b=d[c[h]],b.connected===!0&&b.toId!==b.fromId&&void 0!==this.body.nodes[b.toId]&&void 0!==this.body.nodes[b.fromId]&&(void 0!==b.edgeType.via?(a=void 0===b.options.length?this.options.springLength:b.options.length,e=b.to,f=b.edgeType.via,g=b.from,this._calculateSpringForce(e,f,.5*a),this._calculateSpringForce(f,g,.5*a)):(a=void 0===b.options.length?1.5*this.options.springLength:b.options.length,this._calculateSpringForce(b.from,b.to,a)))}},{key:"_calculateSpringForce",value:function(a,b,c){var d=a.x-b.x,e=a.y-b.y,f=Math.max(Math.sqrt(d*d+e*e),.01),g=this.options.springConstant*(c-f)/f,h=d*g,i=e*g;void 0!==this.physicsBody.forces[a.id]&&(this.physicsBody.forces[a.id].x+=h,this.physicsBody.forces[a.id].y+=i),void 0!==this.physicsBody.forces[b.id]&&(this.physicsBody.forces[b.id].x-=h,this.physicsBody.forces[b.id].y-=i)}}]),a}();b.default=e},function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d,e){c(this,a),this.body=b,this.physicsBody=d,this.setOptions(e)}return d(a,[{key:"setOptions",value:function(a){this.options=a}},{key:"solve",value:function(){for(var a,b,c,d,e,f,g,h,i=this.body.edges,j=.5,k=this.physicsBody.physicsEdgeIndices,l=this.physicsBody.physicsNodeIndices,m=this.physicsBody.forces,n=0;n<l.length;n++){var o=l[n];m[o].springFx=0,m[o].springFy=0}for(var p=0;p<k.length;p++)b=i[k[p]],b.connected===!0&&(a=void 0===b.options.length?this.options.springLength:b.options.length,c=b.from.x-b.to.x,d=b.from.y-b.to.y,h=Math.sqrt(c*c+d*d),h=0===h?.01:h,g=this.options.springConstant*(a-h)/h,e=c*g,f=d*g,b.to.level!=b.from.level?(void 0!==m[b.toId]&&(m[b.toId].springFx-=e,m[b.toId].springFy-=f),void 0!==m[b.fromId]&&(m[b.fromId].springFx+=e,m[b.fromId].springFy+=f)):(void 0!==m[b.toId]&&(m[b.toId].x-=j*e,m[b.toId].y-=j*f),void 0!==m[b.fromId]&&(m[b.fromId].x+=j*e,m[b.fromId].y+=j*f)));for(var q,r,g=1,s=0;s<l.length;s++){var t=l[s];q=Math.min(g,Math.max(-g,m[t].springFx)),r=Math.min(g,Math.max(-g,m[t].springFy)),m[t].x+=q,m[t].y+=r}for(var u=0,v=0,w=0;w<l.length;w++){var x=l[w];u+=m[x].x,v+=m[x].y}for(var y=u/l.length,z=v/l.length,A=0;A<l.length;A++){var B=l[A];m[B].x-=y,m[B].y-=z}}}]),a}();b.default=e},function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b,d,e){c(this,a),this.body=b,this.physicsBody=d,this.setOptions(e)}return d(a,[{key:"setOptions",value:function(a){this.options=a}},{key:"solve",value:function(){for(var a=void 0,b=void 0,c=void 0,d=void 0,e=this.body.nodes,f=this.physicsBody.physicsNodeIndices,g=this.physicsBody.forces,h=0;h<f.length;h++){var i=f[h];d=e[i],a=-d.x,b=-d.y,c=Math.sqrt(a*a+b*b),this._calculateForces(c,a,b,g,d)}}},{key:"_calculateForces",value:function(a,b,c,d,e){var f=0===a?0:this.options.centralGravity/a;d[e.id].x=b*f,d[e.id].y=c*f}}]),a}();b.default=e},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(96),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"_calculateForces",value:function(a,b,c,d,e){0===a&&(a=.1*Math.random(),b=a),this.overlapAvoidanceFactor<1&&d.shape.radius&&(a=Math.max(.1+this.overlapAvoidanceFactor*d.shape.radius,a-d.shape.radius));var f=d.edges.length+1,g=this.options.gravitationalConstant*e.mass*d.options.mass*f/Math.pow(a,2),h=b*g,i=c*g;this.physicsBody.forces[d.id].x+=h,this.physicsBody.forces[d.id].y+=i}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(101),j=d(i),k=function(a){function b(a,c,d){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d))}return g(b,a),h(b,[{key:"_calculateForces",value:function(a,b,c,d,e){if(a>0){var f=e.edges.length+1,g=this.options.centralGravity*f*e.options.mass;d[e.id].x=b*g,d[e.id].y=c*g}}}]),b}(j.default);b.default=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(105),i=d(h),j=c(106),k=d(j),l=c(1),m=function(){function a(b){var c=this;e(this,a),this.body=b,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},l.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){c.clusteredNodes={},c.clusteredEdges={}})}return g(a,[{key:"clusterByHubsize",value:function(a,b){void 0===a?a=this._getHubSize():"object"===("undefined"==typeof a?"undefined":f(a))&&(b=this._checkOptions(a),a=this._getHubSize());for(var c=[],d=0;d<this.body.nodeIndices.length;d++){var e=this.body.nodes[this.body.nodeIndices[d]];e.edges.length>=a&&c.push(e.id)}for(var g=0;g<c.length;g++)this.clusterByConnection(c[g],b,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===a.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");a=this._checkOptions(a);for(var c={},d={},e=0;e<this.body.nodeIndices.length;e++){var f=this.body.nodeIndices[e],g=this.body.nodes[f],h=i.default.cloneOptions(g);if(a.joinCondition(h)===!0){c[f]=this.body.nodes[f];for(var j=0;j<g.edges.length;j++){var k=g.edges[j];void 0===this.clusteredEdges[k.id]&&(d[k.id]=k)}}}this._cluster(c,d,a,b)}},{key:"clusterByEdgeCount",value:function(a,b){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];b=this._checkOptions(b);for(var d=[],e={},f=void 0,g=void 0,h=void 0,j=void 0,k=void 0,l=0;l<this.body.nodeIndices.length;l++){var m={},n={};if(j=this.body.nodeIndices[l],void 0===e[j]){k=0,h=this.body.nodes[j],g=[];for(var o=0;o<h.edges.length;o++)f=h.edges[o],void 0===this.clusteredEdges[f.id]&&(f.toId!==f.fromId&&k++,g.push(f));if(k===a){for(var p=!0,q=0;q<g.length;q++){f=g[q];var r=this._getConnectedId(f,j);if(void 0===b.joinCondition)n[f.id]=f,m[j]=this.body.nodes[j],m[r]=this.body.nodes[r],e[j]=!0;else{var s=i.default.cloneOptions(this.body.nodes[j]);if(b.joinCondition(s)!==!0){p=!1;break}n[f.id]=f,m[j]=this.body.nodes[j],e[j]=!0}}Object.keys(m).length>0&&Object.keys(n).length>0&&p===!0&&d.push({nodes:m,edges:n})}}}for(var t=0;t<d.length;t++)this._cluster(d[t].nodes,d[t].edges,b,!1);c===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(a){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,a,b)}},{key:"clusterBridges",value:function(a){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,a,b)}},{key:"clusterByConnection",value:function(a,b){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===a)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[a])throw new Error("The nodeId given to clusterByConnection does not exist!");var d=this.body.nodes[a];b=this._checkOptions(b,d),void 0===b.clusterNodeProperties.x&&(b.clusterNodeProperties.x=d.x),void 0===b.clusterNodeProperties.y&&(b.clusterNodeProperties.y=d.y),void 0===b.clusterNodeProperties.fixed&&(b.clusterNodeProperties.fixed={},b.clusterNodeProperties.fixed.x=d.options.fixed.x,b.clusterNodeProperties.fixed.y=d.options.fixed.y);var e={},f={},g=d.id,h=i.default.cloneOptions(d);e[g]=d;for(var j=0;j<d.edges.length;j++){var k=d.edges[j];if(void 0===this.clusteredEdges[k.id]){var l=this._getConnectedId(k,g);if(void 0===this.clusteredNodes[l])if(l!==g)if(void 0===b.joinCondition)f[k.id]=k,e[l]=this.body.nodes[l];else{var m=i.default.cloneOptions(this.body.nodes[l]);b.joinCondition(h,m)===!0&&(f[k.id]=k,e[l]=this.body.nodes[l])}else f[k.id]=k}}var n=Object.keys(e).map(function(a){return e[a].id});for(o in e)for(var o=e[o],p=0;p<o.edges.length;p++){var q=o.edges[p];n.indexOf(this._getConnectedId(q,o.id))>-1&&(f[q.id]=q)}this._cluster(e,f,b,c)}},{key:"_createClusterEdges",value:function(a,b,c,d){for(var e=void 0,f=void 0,g=void 0,h=void 0,j=void 0,k=void 0,m=Object.keys(a),n=[],o=0;o<m.length;o++){f=m[o],g=a[f];for(var p=0;p<g.edges.length;p++)e=g.edges[p],void 0===this.clusteredEdges[e.id]&&(e.toId==e.fromId?b[e.id]=e:e.toId==f?(h=c.id,j=e.fromId,k=j):(h=e.toId,j=c.id,k=h),void 0===a[k]&&n.push({edge:e,fromId:j,toId:h}))}for(var q=0;q<n.length;q++){var r=n[q].edge,s=i.default.cloneOptions(r,"edge");l.deepExtend(s,d),s.from=n[q].fromId,s.to=n[q].toId,s.id="clusterEdge:"+l.randomUUID();var t=this.body.functions.createEdge(s);t.clusteringEdgeReplacingId=r.id,this.body.edges[r.id].edgeReplacedById=t.id,this.body.edges[t.id]=t,t.connect(),this._backupEdgeOptions(r),r.setOptions({physics:!1,hidden:!0})}}},{key:"_checkOptions",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===a.clusterEdgeProperties&&(a.clusterEdgeProperties={}),void 0===a.clusterNodeProperties&&(a.clusterNodeProperties={}),a}},{key:"_cluster",value:function(a,b,c){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(0!=Object.keys(a).length&&(1!=Object.keys(a).length||1==c.clusterNodeProperties.allowSingleNodeCluster)){for(var e in a)if(a.hasOwnProperty(e)&&void 0!==this.clusteredNodes[e])return;var f=l.deepExtend({},c.clusterNodeProperties);if(void 0!==c.processProperties){var g=[];for(var h in a)if(a.hasOwnProperty(h)){var j=i.default.cloneOptions(a[h]);g.push(j)}var m=[];for(var n in b)if(b.hasOwnProperty(n)&&"clusterEdge:"!==n.substr(0,12)){var o=i.default.cloneOptions(b[n],"edge");m.push(o)}if(f=c.processProperties(f,g,m),!f)throw new Error("The processProperties function does not return properties!")}void 0===f.id&&(f.id="cluster:"+l.randomUUID());var p=f.id;void 0===f.label&&(f.label="cluster");var q=void 0;void 0===f.x&&(q=this._getClusterPosition(a),f.x=q.x),void 0===f.y&&(void 0===q&&(q=this._getClusterPosition(a)),f.y=q.y),f.id=p;var r=this.body.functions.createNode(f,k.default);r.isCluster=!0,r.containedNodes=a,r.containedEdges=b,r.clusterEdgeProperties=c.clusterEdgeProperties,this.body.nodes[f.id]=r,this._createClusterEdges(a,b,f,c.clusterEdgeProperties);for(var s in b)if(b.hasOwnProperty(s)&&void 0!==this.body.edges[s]){var t=this.body.edges[s];this._backupEdgeOptions(t),t.setOptions({physics:!1,hidden:!0})}for(var u in a)a.hasOwnProperty(u)&&(this.clusteredNodes[u]={clusterId:f.id,node:this.body.nodes[u]},this.body.nodes[u].setOptions({hidden:!0,physics:!1}));f.id=void 0,d===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(a){void 0===this.clusteredEdges[a.id]&&(this.clusteredEdges[a.id]={physics:a.options.physics,hidden:a.options.hidden})}},{key:"_restoreEdge",value:function(a){var b=this.clusteredEdges[a.id];void 0!==b&&(a.setOptions({physics:b.physics,hidden:b.hidden}),delete this.clusteredEdges[a.id])}},{key:"isCluster",value:function(a){return void 0!==this.body.nodes[a]?this.body.nodes[a].isCluster===!0:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(a){for(var b=Object.keys(a),c=a[b[0]].x,d=a[b[0]].x,e=a[b[0]].y,f=a[b[0]].y,g=void 0,h=1;h<b.length;h++)g=a[b[h]],c=g.x<c?g.x:c,d=g.x>d?g.x:d,e=g.y<e?g.y:e,f=g.y>f?g.y:f;return{x:.5*(c+d),y:.5*(e+f)}}},{key:"openCluster",value:function(a,b){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===a)throw new Error("No clusterNodeId supplied to openCluster.");if(void 0===this.body.nodes[a])throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(void 0===this.body.nodes[a].containedNodes)return void console.log("The node:"+a+" is not a cluster.");var d=this.body.nodes[a],e=d.containedNodes,f=d.containedEdges;if(void 0!==b&&void 0!==b.releaseFunction&&"function"==typeof b.releaseFunction){var g={},h={x:d.x,y:d.y};for(var j in e)if(e.hasOwnProperty(j)){var k=this.body.nodes[j];g[j]={x:k.x,y:k.y}}var m=b.releaseFunction(h,g);for(var n in e)if(e.hasOwnProperty(n)){var o=this.body.nodes[n];void 0!==m[n]&&(o.x=void 0===m[n].x?d.x:m[n].x,o.y=void 0===m[n].y?d.y:m[n].y)}}else for(var p in e)if(e.hasOwnProperty(p)){var q=this.body.nodes[p];q=e[p],q.options.fixed.x===!1&&(q.x=d.x),q.options.fixed.y===!1&&(q.y=d.y)}for(var r in e)if(e.hasOwnProperty(r)){var s=this.body.nodes[r];s.vx=d.vx,s.vy=d.vy,s.setOptions({hidden:!1,physics:!0}),delete this.clusteredNodes[r]}for(var t=[],u=0;u<d.edges.length;u++)t.push(d.edges[u]);for(var v=0;v<t.length;v++){var w=t[v],x=this._getConnectedId(w,a);if(void 0!==this.clusteredNodes[x]){var y=this.body.nodes[this.clusteredNodes[x].clusterId],z=this.body.edges[w.clusteringEdgeReplacingId];if(void 0!==z){y.containedEdges[z.id]=z,delete f[z.id];var A=z.fromId,B=z.toId;z.toId==x?B=this.clusteredNodes[x].clusterId:A=this.clusteredNodes[x].clusterId;var C=i.default.cloneOptions(z,"edge");l.deepExtend(C,y.clusterEdgeProperties);var D="clusterEdge:"+l.randomUUID();l.deepExtend(C,{from:A,to:B,hidden:!1,physics:!0,id:D});var E=this.body.functions.createEdge(C);E.clusteringEdgeReplacingId=z.id,this.body.edges[D]=E,this.body.edges[D].connect()}}else{var F=this.body.edges[w.clusteringEdgeReplacingId];void 0!==F&&this._restoreEdge(F)}w.cleanup(),w.disconnect(),delete this.body.edges[w.id]}for(var G in f)f.hasOwnProperty(G)&&this._restoreEdge(f[G]);delete this.body.nodes[a],c===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(a){var b=[];if(this.isCluster(a)===!0){var c=this.body.nodes[a].containedNodes;for(var d in c)c.hasOwnProperty(d)&&b.push(this.body.nodes[d].id)}return b}},{key:"findNode",value:function(a){for(var b=[],c=100,d=0;void 0!==this.clusteredNodes[a]&&d<c;)b.push(this.body.nodes[a].id),a=this.clusteredNodes[a].clusterId,d++;return b.push(this.body.nodes[a].id),b.reverse(),b}},{key:"updateClusteredNode",value:function(a,b){if(void 0===a)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===b)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[a])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[a].setOptions(b),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(a,b){if(void 0===a)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===b)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[a])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var c=this.getClusteredEdges(a),d=0;d<c.length;d++){var e=this.body.edges[c[d]];e.setOptions(b)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(a){for(var b=[],c=100,d=0;void 0!==a&&void 0!==this.body.edges[a]&&d<c;)b.push(this.body.edges[a].id),a=this.body.edges[a].edgeReplacedById,d++;return b.reverse(),b}},{key:"getBaseEdge",value:function(a){for(var b=a,c=100,d=0;void 0!==a&&void 0!==this.body.edges[a]&&d<c;)a=this.body.edges[a].clusteringEdgeReplacingId,
d++,void 0!==a&&(b=a);return b}},{key:"_getConnectedId",value:function(a,b){return a.toId!=b?a.toId:a.fromId!=b?a.fromId:a.fromId}},{key:"_getHubSize",value:function(){for(var a=0,b=0,c=0,d=0,e=0;e<this.body.nodeIndices.length;e++){var f=this.body.nodes[this.body.nodeIndices[e]];f.edges.length>d&&(d=f.edges.length),a+=f.edges.length,b+=Math.pow(f.edges.length,2),c+=1}a/=c,b/=c;var g=b-Math.pow(a,2),h=Math.sqrt(g),i=Math.floor(a+2*h);return i>d&&(i=d),i}}]),a}();b.default=m},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(1),g=function(){function a(){d(this,a)}return e(a,null,[{key:"getRange",value:function(a){var b,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=1e9,e=-1e9,f=1e9,g=-1e9;if(c.length>0)for(var h=0;h<c.length;h++)b=a[c[h]],f>b.shape.boundingBox.left&&(f=b.shape.boundingBox.left),g<b.shape.boundingBox.right&&(g=b.shape.boundingBox.right),d>b.shape.boundingBox.top&&(d=b.shape.boundingBox.top),e<b.shape.boundingBox.bottom&&(e=b.shape.boundingBox.bottom);return 1e9===f&&g===-1e9&&1e9===d&&e===-1e9&&(d=0,e=0,f=0,g=0),{minX:f,maxX:g,minY:d,maxY:e}}},{key:"getRangeCore",value:function(a){var b,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=1e9,e=-1e9,f=1e9,g=-1e9;if(c.length>0)for(var h=0;h<c.length;h++)b=a[c[h]],f>b.x&&(f=b.x),g<b.x&&(g=b.x),d>b.y&&(d=b.y),e<b.y&&(e=b.y);return 1e9===f&&g===-1e9&&1e9===d&&e===-1e9&&(d=0,e=0,f=0,g=0),{minX:f,maxX:g,minY:d,maxY:e}}},{key:"findCenter",value:function(a){return{x:.5*(a.maxX+a.minX),y:.5*(a.maxY+a.minY)}}},{key:"cloneOptions",value:function(a,b){var c={};return void 0===b||"node"===b?(f.deepExtend(c,a.options,!0),c.x=a.x,c.y=a.y,c.amountOfConnections=a.edges.length):f.deepExtend(c,a.options,!0),c}}]),a}();b.default=g},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var h=c(67),i=d(h),j=function(a){function b(a,c,d,g,h){e(this,b);var i=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d,g,h));return i.isCluster=!0,i.containedNodes={},i.containedEdges={},i}return g(b,a),b}(i.default);b.default=j},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var f=c(1),g=function(){function a(b,c){d(this,a),this.body=b,this.canvas=c,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.pixelRatio=void 0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},f.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return e(a,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.on("dragStart",function(){a.dragging=!0}),this.body.emitter.on("dragEnd",function(){return a.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){return a._resizeNodes()}),this.body.emitter.on("_redraw",function(){a.renderingActive===!1&&a._redraw()}),this.body.emitter.on("_blockRedraw",function(){a.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){a.allowRedraw=!0,a.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){a.renderRequests+=1,a.renderingActive=!0,a._startRendering()}),this.body.emitter.on("_stopRendering",function(){a.renderRequests-=1,a.renderingActive=a.renderRequests>0,a.renderTimer=void 0}),this.body.emitter.on("destroy",function(){a.renderRequests=0,a.allowRedraw=!1,a.renderingActive=!1,a.requiresTimeout===!0?clearTimeout(a.renderTimer):cancelAnimationFrame(a.renderTimer),a.body.emitter.off()})}},{key:"setOptions",value:function(a){if(void 0!==a){var b=["hideEdgesOnDrag","hideNodesOnDrag"];f.selectiveDeepExtend(b,this.options,a)}}},{key:"_startRendering",value:function(){this.renderingActive===!0&&void 0===this.renderTimer&&(this.requiresTimeout===!0?this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval):this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var a=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this.requiresTimeout===!0?window.setTimeout(function(){a._redraw(!1)},0):window.requestAnimationFrame(function(){a._redraw(!1)}))}},{key:"_redraw",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var b=this.canvas.frame.canvas.getContext("2d");0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.pixelRatio=(window.devicePixelRatio||1)/(b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1),b.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var c=this.canvas.frame.canvas.clientWidth,d=this.canvas.frame.canvas.clientHeight;if(b.clearRect(0,0,c,d),0===this.canvas.frame.clientWidth)return;b.save(),b.translate(this.body.view.translation.x,this.body.view.translation.y),b.scale(this.body.view.scale,this.body.view.scale),b.beginPath(),this.body.emitter.emit("beforeDrawing",b),b.closePath(),a===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&this._drawEdges(b),(this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1)&&this._drawNodes(b,a),b.beginPath(),this.body.emitter.emit("afterDrawing",b),b.closePath(),b.restore(),a===!0&&b.clearRect(0,0,c,d)}}},{key:"_resizeNodes",value:function(){var a=this.canvas.frame.canvas.getContext("2d");void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)),a.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),a.save(),a.translate(this.body.view.translation.x,this.body.view.translation.y),a.scale(this.body.view.scale,this.body.view.scale);var b=this.body.nodes,c=void 0;for(var d in b)b.hasOwnProperty(d)&&(c=b[d],c.resize(a),c.updateBoundingBox(a,c.selected));a.restore()}},{key:"_drawNodes",value:function(a){for(var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=this.body.nodes,d=this.body.nodeIndices,e=void 0,f=[],g=20,h=this.canvas.DOMtoCanvas({x:-g,y:-g}),i=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+g,y:this.canvas.frame.canvas.clientHeight+g}),j={top:h.y,left:h.x,bottom:i.y,right:i.x},k=0;k<d.length;k++)e=c[d[k]],e.isSelected()?f.push(d[k]):b===!0?e.draw(a):e.isBoundingBoxOverlappingWith(j)===!0?e.draw(a):e.updateBoundingBox(a,e.selected);for(var l=0;l<f.length;l++)e=c[f[l]],e.draw(a)}},{key:"_drawEdges",value:function(a){for(var b=this.body.edges,c=this.body.edgeIndices,d=void 0,e=0;e<c.length;e++)d=b[c[e]],d.connected===!0&&d.draw(a)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var a=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,a.indexOf("msie 9.0")!=-1?this.requiresTimeout=!0:a.indexOf("safari")!=-1&&a.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),a}();b.default=g},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(22),g=c(30),h=c(1),i=function(){function a(b){d(this,a),this.body=b,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},h.extend(this.options,this.defaultOptions),this.bindEventListeners()}return e(a,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.once("resize",function(b){0!==b.width&&(a.body.view.translation.x=.5*b.width),0!==b.height&&(a.body.view.translation.y=.5*b.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){a.hammerFrame.destroy(),a.hammer.destroy(),a._cleanUp()})}},{key:"setOptions",value:function(a){var b=this;if(void 0!==a){var c=["width","height","autoResize"];h.selectiveDeepExtend(c,this.options,a)}this.options.autoResize===!0&&(this._cleanUp(),this.resizeTimer=setInterval(function(){var a=b.setSize();a===!0&&b.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),h.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),h.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/a,this.cameraState.previousHeight=this.frame.canvas.height/a,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/a,y:.5*this.frame.canvas.height/a}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var a=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,b=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,c=this.cameraState.scale;1!=a&&1!=b?c=.5*this.cameraState.scale*(a+b):1!=a?c=this.cameraState.scale*a:1!=b&&(c=this.cameraState.scale*b),this.body.view.scale=c;var d=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),e={x:d.x-this.cameraState.position.x,y:d.y-this.cameraState.position.y};this.body.view.translation.x+=e.x*this.body.view.scale,this.body.view.translation.y+=e.y*this.body.view.scale}}},{key:"_prepareValue",value:function(a){if("number"==typeof a)return a+"px";if("string"==typeof a){if(a.indexOf("%")!==-1||a.indexOf("px")!==-1)return a;if(a.indexOf("%")===-1)return a+"px"}throw new Error("Could not use the value supplied for width or height:"+a)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext){var a=this.frame.canvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var b=document.createElement("DIV");b.style.color="red",b.style.fontWeight="bold",b.style.padding="10px",b.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(b)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var a=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new f(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:f.DIRECTION_ALL}),g.onTouch(this.hammer,function(b){a.body.eventListeners.onTouch(b)}),this.hammer.on("tap",function(b){a.body.eventListeners.onTap(b)}),this.hammer.on("doubletap",function(b){a.body.eventListeners.onDoubleTap(b)}),this.hammer.on("press",function(b){a.body.eventListeners.onHold(b)}),this.hammer.on("panstart",function(b){a.body.eventListeners.onDragStart(b)}),this.hammer.on("panmove",function(b){a.body.eventListeners.onDrag(b)}),this.hammer.on("panend",function(b){a.body.eventListeners.onDragEnd(b)}),this.hammer.on("pinch",function(b){a.body.eventListeners.onPinch(b)}),this.frame.canvas.addEventListener("mousewheel",function(b){a.body.eventListeners.onMouseWheel(b)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(b){a.body.eventListeners.onMouseWheel(b)}),this.frame.canvas.addEventListener("mousemove",function(b){a.body.eventListeners.onMouseMove(b)}),this.frame.canvas.addEventListener("contextmenu",function(b){a.body.eventListeners.onContext(b)}),this.hammerFrame=new f(this.frame),g.onRelease(this.hammerFrame,function(b){a.body.eventListeners.onRelease(b)})}},{key:"setSize",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;a=this._prepareValue(a),b=this._prepareValue(b);var c=!1,d=this.frame.canvas.width,e=this.frame.canvas.height,f=this.frame.canvas.getContext("2d"),g=this.pixelRatio;return this.pixelRatio=(window.devicePixelRatio||1)/(f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1),a!=this.options.width||b!=this.options.height||this.frame.style.width!=a||this.frame.style.height!=b?(this._getCameraState(g),this.frame.style.width=a,this.frame.style.height=b,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=a,this.options.height=b,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},c=!0):(this.frame.canvas.width==Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&this.frame.canvas.height==Math.round(this.frame.canvas.clientHeight*this.pixelRatio)||this._getCameraState(g),this.frame.canvas.width!=Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&(this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),c=!0),this.frame.canvas.height!=Math.round(this.frame.canvas.clientHeight*this.pixelRatio)&&(this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),c=!0)),c===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(d/this.pixelRatio),oldHeight:Math.round(e/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,c}},{key:"_XconvertDOMtoCanvas",value:function(a){return(a-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(a){return a*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(a){return(a-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(a){return a*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(a){return{x:this._XconvertCanvasToDOM(a.x),y:this._YconvertCanvasToDOM(a.y)}}},{key:"DOMtoCanvas",value:function(a){return{x:this._XconvertDOMtoCanvas(a.x),y:this._YconvertDOMtoCanvas(a.y)}}}]),a}();b.default=i},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(105),h=d(g),i=c(1),j=function(){function a(b,c){var d=this;e(this,a),this.body=b,this.canvas=c,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){d.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return f(a,[{key:"setOptions",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=a}},{key:"fit",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=void 0,d=void 0;if(void 0!==a.nodes&&0!==a.nodes.length||(a.nodes=this.body.nodeIndices),b===!0){var e=0;for(var f in this.body.nodes)if(this.body.nodes.hasOwnProperty(f)){var g=this.body.nodes[f];g.predefinedPosition===!0&&(e+=1)}if(e>.5*this.body.nodeIndices.length)return void this.fit(a,!1);c=h.default.getRange(this.body.nodes,a.nodes);var i=this.body.nodeIndices.length;d=12.662/(i+7.4147)+.0964822;var j=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);d*=j}else{this.body.emitter.emit("_resizeNodes"),c=h.default.getRange(this.body.nodes,a.nodes);var k=1.1*Math.abs(c.maxX-c.minX),l=1.1*Math.abs(c.maxY-c.minY),m=this.canvas.frame.canvas.clientWidth/k,n=this.canvas.frame.canvas.clientHeight/l;d=m<=n?m:n}d>1?d=1:0===d&&(d=1);var o=h.default.findCenter(c),p={position:o,scale:d,animation:a.animation};this.moveTo(p)}},{key:"focus",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[a]){var c={x:this.body.nodes[a].x,y:this.body.nodes[a].y};b.position=c,b.lockedOnNode=a,this.moveTo(b)}else console.log("Node: "+a+" cannot be found.")}},{key:"moveTo",value:function(a){return void 0===a?void(a={}):(void 0===a.offset&&(a.offset={x:0,y:0}),void 0===a.offset.x&&(a.offset.x=0),void 0===a.offset.y&&(a.offset.y=0),void 0===a.scale&&(a.scale=this.body.view.scale),void 0===a.position&&(a.position=this.getViewPosition()),void 0===a.animation&&(a.animation={duration:0}),a.animation===!1&&(a.animation={duration:0}),a.animation===!0&&(a.animation={}),void 0===a.animation.duration&&(a.animation.duration=1e3),void 0===a.animation.easingFunction&&(a.animation.easingFunction="easeInOutQuad"),void this.animateView(a))}},{key:"animateView",value:function(a){if(void 0!==a){this.animationEasingFunction=a.animation.easingFunction,this.releaseNode(),a.locked===!0&&(this.lockedOnNodeId=a.lockedOnNode,this.lockedOnNodeOffset=a.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=a.scale,this.body.view.scale=this.targetScale;var b=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),c={x:b.x-a.position.x,y:b.y-a.position.y};this.targetTranslation={x:this.sourceTranslation.x+c.x*this.targetScale+a.offset.x,y:this.sourceTranslation.y+c.y*this.targetScale+a.offset.y},0===a.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*a.animation.duration*.001)||1/60,this.animationEasingFunction=a.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var a={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},b=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),c={x:b.x-a.x,y:b.y-a.y},d=this.body.view.translation,e={x:d.x+c.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:d.y+c.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=e}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=a===!0?1:this.easingTime;var b=i.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*b,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*b,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*b},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),a}();b.default=j},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(111),h=d(g),i=c(112),j=d(i),k=c(1),l=function(){function a(b,c,d){e(this,a),this.body=b,this.canvas=c,this.selectionHandler=d,this.navigationHandler=new h.default(b,c),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},k.extend(this.options,this.defaultOptions),this.bindEventListeners()}return f(a,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.on("destroy",function(){clearTimeout(a.popupTimer),delete a.body.functions.getPointer})}},{key:"setOptions",value:function(a){if(void 0!==a){var b=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];k.selectiveNotDeepExtend(b,this.options,a),k.mergeOptions(this.options,a,"keyboard"),a.tooltip&&(k.extend(this.options.tooltip,a.tooltip),a.tooltip.color&&(this.options.tooltip.color=k.parseColor(a.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(a){return{x:a.x-k.getAbsoluteLeft(this.canvas.frame.canvas),y:a.y-k.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(a){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(a.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(a){var b=this.getPointer(a.center),c=this.selectionHandler.options.multiselect&&(a.changedPointers[0].ctrlKey||a.changedPointers[0].metaKey);this.checkSelectionChanges(b,a,c),this.selectionHandler._generateClickEvent("click",a,b)}},{key:"onDoubleTap",value:function(a){var b=this.getPointer(a.center);this.selectionHandler._generateClickEvent("doubleClick",a,b)}},{key:"onHold",value:function(a){var b=this.getPointer(a.center),c=this.selectionHandler.options.multiselect;this.checkSelectionChanges(b,a,c),this.selectionHandler._generateClickEvent("click",a,b),this.selectionHandler._generateClickEvent("hold",a,b)}},{key:"onRelease",value:function(a){if((new Date).valueOf()-this.touchTime>10){var b=this.getPointer(a.center);this.selectionHandler._generateClickEvent("release",a,b),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(a){var b=this.getPointer({x:a.clientX,y:a.clientY});this.selectionHandler._generateClickEvent("oncontext",a,b)}},{key:"checkSelectionChanges",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=this.selectionHandler._getSelectedEdgeCount(),e=this.selectionHandler._getSelectedNodeCount(),f=this.selectionHandler.getSelection(),g=void 0;g=c===!0?this.selectionHandler.selectAdditionalOnPoint(a):this.selectionHandler.selectOnPoint(a);var h=this.selectionHandler._getSelectedEdgeCount(),i=this.selectionHandler._getSelectedNodeCount(),j=this.selectionHandler.getSelection(),k=this._determineIfDifferent(f,j),l=k.nodesChanged,m=k.edgesChanged,n=!1;i-e>0?(this.selectionHandler._generateClickEvent("selectNode",b,a),g=!0,n=!0):l===!0&&i>0?(this.selectionHandler._generateClickEvent("deselectNode",b,a,f),this.selectionHandler._generateClickEvent("selectNode",b,a),n=!0,g=!0):i-e<0&&(this.selectionHandler._generateClickEvent("deselectNode",b,a,f),g=!0),h-d>0&&n===!1?(this.selectionHandler._generateClickEvent("selectEdge",b,a),g=!0):h>0&&m===!0?(this.selectionHandler._generateClickEvent("deselectEdge",b,a,f),this.selectionHandler._generateClickEvent("selectEdge",b,a),g=!0):h-d<0&&(this.selectionHandler._generateClickEvent("deselectEdge",b,a,f),g=!0),g===!0&&this.selectionHandler._generateClickEvent("select",b,a)}},{key:"_determineIfDifferent",value:function(a,b){for(var c=!1,d=!1,e=0;e<a.nodes.length;e++)b.nodes.indexOf(a.nodes[e])===-1&&(c=!0);for(var f=0;f<b.nodes.length;f++)a.nodes.indexOf(a.nodes[f])===-1&&(c=!0);for(var g=0;g<a.edges.length;g++)b.edges.indexOf(a.edges[g])===-1&&(d=!0);for(var h=0;h<b.edges.length;h++)a.edges.indexOf(a.edges[h])===-1&&(d=!0);return{nodesChanged:c,edgesChanged:d}}},{key:"onDragStart",value:function(a){void 0===this.drag.pointer&&this.onTouch(a);var b=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=k.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==b&&this.options.dragNodes===!0){this.drag.nodeId=b.id,b.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(b)),this.selectionHandler._generateClickEvent("dragStart",a,this.drag.pointer);var c=this.selectionHandler.selectionObj.nodes;for(var d in c)if(c.hasOwnProperty(d)){var e=c[d],f={id:e.id,node:e,x:e.x,y:e.y,xFixed:e.options.fixed.x,yFixed:e.options.fixed.y};e.options.fixed.x=!0,e.options.fixed.y=!0,this.drag.selection.push(f)}}else this.selectionHandler._generateClickEvent("dragStart",a,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(a){var b=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var c=this.getPointer(a.center),d=this.drag.selection;if(d&&d.length&&this.options.dragNodes===!0)!function(){b.selectionHandler._generateClickEvent("dragging",a,c);var e=c.x-b.drag.pointer.x,f=c.y-b.drag.pointer.y;d.forEach(function(a){var c=a.node;a.xFixed===!1&&(c.x=b.canvas._XconvertDOMtoCanvas(b.canvas._XconvertCanvasToDOM(a.x)+e)),a.yFixed===!1&&(c.y=b.canvas._YconvertDOMtoCanvas(b.canvas._YconvertCanvasToDOM(a.y)+f))}),b.body.emitter.emit("startSimulation")}();else if(this.options.dragView===!0){if(this.selectionHandler._generateClickEvent("dragging",a,c,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(a);var e=c.x-this.drag.pointer.x,f=c.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+e,y:this.drag.translation.y+f},this.body.emitter.emit("_redraw")}}}},{key:"onDragEnd",value:function(a){this.drag.dragging=!1;var b=this.drag.selection;b&&b.length?(b.forEach(function(a){a.node.options.fixed.x=a.xFixed,a.node.options.fixed.y=a.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",a,this.getPointer(a.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",a,this.getPointer(a.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(a){var b=this.getPointer(a.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var c=this.pinch.scale*a.scale;this.zoom(c,b)}},{key:"zoom",value:function(a,b){if(this.options.zoomView===!0){var c=this.body.view.scale;a<1e-5&&(a=1e-5),a>10&&(a=10);var d=void 0;void 0!==this.drag&&this.drag.dragging===!0&&(d=this.canvas.DOMtoCanvas(this.drag.pointer));var e=this.body.view.translation,f=a/c,g=(1-f)*b.x+e.x*f,h=(1-f)*b.y+e.y*f;if(this.body.view.scale=a,this.body.view.translation={x:g,y:h},void 0!=d){var i=this.canvas.canvasToDOM(d);this.drag.pointer.x=i.x,this.drag.pointer.y=i.y}this.body.emitter.emit("_requestRedraw"),c<a?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}}},{key:"onMouseWheel",value:function(a){if(this.options.zoomView===!0){var b=0;if(a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3),0!==b){
var c=this.body.view.scale,d=b/10;b<0&&(d/=1-d),c*=1+d;var e=this.getPointer({x:a.clientX,y:a.clientY});this.zoom(c,e)}a.preventDefault()}}},{key:"onMouseMove",value:function(a){var b=this,c=this.getPointer({x:a.clientX,y:a.clientY}),d=!1;if(void 0!==this.popup&&(this.popup.hidden===!1&&this._checkHidePopup(c),this.popup.hidden===!1&&(d=!0,this.popup.setPosition(c.x+3,c.y-5),this.popup.show())),this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),d===!1&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return b._checkShowPopup(c)},this.options.tooltipDelay))),this.options.hover===!0){var e=this.selectionHandler.getNodeAt(c);void 0===e&&(e=this.selectionHandler.getEdgeAt(c)),this.selectionHandler.hoverObject(e)}}},{key:"_checkShowPopup",value:function(a){var b=this.canvas._XconvertDOMtoCanvas(a.x),c=this.canvas._YconvertDOMtoCanvas(a.y),d={left:b,top:c,right:b,bottom:c},e=void 0===this.popupObj?void 0:this.popupObj.id,f=!1,g="node";if(void 0===this.popupObj){for(var h=this.body.nodeIndices,i=this.body.nodes,k=void 0,l=[],m=0;m<h.length;m++)k=i[h[m]],k.isOverlappingWith(d)===!0&&void 0!==k.getTitle()&&l.push(h[m]);l.length>0&&(this.popupObj=i[l[l.length-1]],f=!0)}if(void 0===this.popupObj&&f===!1){for(var n=this.body.edgeIndices,o=this.body.edges,p=void 0,q=[],r=0;r<n.length;r++)p=o[n[r]],p.isOverlappingWith(d)===!0&&p.connected===!0&&void 0!==p.getTitle()&&q.push(n[r]);q.length>0&&(this.popupObj=o[q[q.length-1]],g="edge")}void 0!==this.popupObj?this.popupObj.id!==e&&(void 0===this.popup&&(this.popup=new j.default(this.canvas.frame)),this.popup.popupTargetType=g,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(a.x+3,a.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(a){var b=this.selectionHandler._pointerToPositionObject(a),c=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(c=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(b),c===!0)){var d=this.selectionHandler.getNodeAt(a);c=d.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(a)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(c=this.body.edges[this.popup.popupTargetId].isOverlappingWith(b));c===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),a}();b.default=l},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=(c(1),c(22)),g=c(30),h=c(25),i=function(){function a(b,c){var e=this;d(this,a),this.body=b,this.canvas=c,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){e.activated=!0,e.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){e.activated=!1,e.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==e.keycharm&&e.keycharm.destroy()}),this.options={}}return e(a,[{key:"setOptions",value:function(a){void 0!==a&&(this.options=a,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var a=0;a<this.navigationHammers.length;a++)this.navigationHammers[a].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var a=this;this.cleanNavigation(),this.navigationDOM={};var b=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],c=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var d=0;d<b.length;d++){this.navigationDOM[b[d]]=document.createElement("div"),this.navigationDOM[b[d]].className="vis-button vis-"+b[d],this.navigationDOM.wrapper.appendChild(this.navigationDOM[b[d]]);var e=new f(this.navigationDOM[b[d]]);"_fit"===c[d]?g.onTouch(e,this._fit.bind(this)):g.onTouch(e,this.bindToRedraw.bind(this,c[d])),this.navigationHammers.push(e)}var h=new f(this.canvas.frame);g.onRelease(h,function(){a._stopMovement()}),this.navigationHammers.push(h),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(a){void 0===this.boundFunctions[a]&&(this.boundFunctions[a]=this[a].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[a]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(a){void 0!==this.boundFunctions[a]&&(this.body.emitter.off("initRedraw",this.boundFunctions[a]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[a])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var a in this.boundFunctions)this.boundFunctions.hasOwnProperty(a)&&(this.body.emitter.off("initRedraw",this.boundFunctions[a]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var a=this.body.view.scale,b=this.body.view.scale*(1+this.options.keyboard.speed.zoom),c=this.body.view.translation,d=b/a,e=(1-d)*this.canvas.canvasViewCenter.x+c.x*d,f=(1-d)*this.canvas.canvasViewCenter.y+c.y*d;this.body.view.scale=b,this.body.view.translation={x:e,y:f},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale})}},{key:"_zoomOut",value:function(){var a=this.body.view.scale,b=this.body.view.scale/(1+this.options.keyboard.speed.zoom),c=this.body.view.translation,d=b/a,e=(1-d)*this.canvas.canvasViewCenter.x+c.x*d,f=(1-d)*this.canvas.canvasViewCenter.y+c.y*d;this.body.view.scale=b,this.body.view.translation={x:e,y:f},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}},{key:"configureKeyboardBindings",value:function(){var a=this;void 0!==this.keycharm&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=h({container:window,preventDefault:!0}):this.keycharm=h({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(this.keycharm.bind("up",function(){a.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){a.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){a.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){a.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){a.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){a.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){a.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){a.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){a.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){a.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){a.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){a.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){a.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){a.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){a.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){a.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){a.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){a.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){a.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){a.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){a.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){a.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){a.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){a.unbindFromRedraw("_zoomOut")},"keyup")))}}]),a}();b.default=i},function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(b){c(this,a),this.container=b,this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-network-tooltip",this.container.appendChild(this.frame)}return d(a,[{key:"setPosition",value:function(a,b){this.x=parseInt(a),this.y=parseInt(b)}},{key:"setText",value:function(a){a instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(a)):this.frame.innerHTML=a}},{key:"show",value:function(a){if(void 0===a&&(a=!0),a===!0){var b=this.frame.clientHeight,c=this.frame.clientWidth,d=this.frame.parentNode.clientHeight,e=this.frame.parentNode.clientWidth,f=this.y-b;f+b+this.padding>d&&(f=d-b-this.padding),f<this.padding&&(f=this.padding);var g=this.x;g+c+this.padding>e&&(g=e-c-this.padding),g<this.padding&&(g=this.padding),this.frame.style.left=g+"px",this.frame.style.top=f+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.visibility="hidden"}}]),a}();b.default=e},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=c(67),h=d(g),i=c(87),j=d(i),k=c(1),l=function(){function a(b,c){var d=this;e(this,a),this.body=b,this.canvas=c,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},k.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){d.updateSelection()})}return f(a,[{key:"setOptions",value:function(a){if(void 0!==a){var b=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];k.selectiveDeepExtend(b,this.options,a)}}},{key:"selectOnPoint",value:function(a){var b=!1;if(this.options.selectable===!0){var c=this.getNodeAt(a)||this.getEdgeAt(a);this.unselectAll(),void 0!==c&&(b=this.selectObject(c)),this.body.emitter.emit("_requestRedraw")}return b}},{key:"selectAdditionalOnPoint",value:function(a){var b=!1;if(this.options.selectable===!0){var c=this.getNodeAt(a)||this.getEdgeAt(a);void 0!==c&&(b=!0,c.isSelected()===!0?this.deselectObject(c):this.selectObject(c),this.body.emitter.emit("_requestRedraw"))}return b}},{key:"_generateClickEvent",value:function(a,b,c,d){var e=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=void 0;f=e===!0?{nodes:[],edges:[]}:this.getSelection(),f.pointer={DOM:{x:c.x,y:c.y},canvas:this.canvas.DOMtoCanvas(c)},f.event=b,void 0!==d&&(f.previousSelection=d),this.body.emitter.emit(a,f)}},{key:"selectObject",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==a&&(a instanceof h.default&&b===!0&&this._selectConnectedEdges(a),a.select(),this._addToSelection(a),!0)}},{key:"deselectObject",value:function(a){a.isSelected()===!0&&(a.selected=!1,this._removeFromSelection(a))}},{key:"_getAllNodesOverlappingWith",value:function(a){for(var b=[],c=this.body.nodes,d=0;d<this.body.nodeIndices.length;d++){var e=this.body.nodeIndices[d];c[e].isOverlappingWith(a)&&b.push(e)}return b}},{key:"_pointerToPositionObject",value:function(a){var b=this.canvas.DOMtoCanvas(a);return{left:b.x-1,top:b.y+1,right:b.x+1,bottom:b.y-1}}},{key:"getNodeAt",value:function(a){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=this._pointerToPositionObject(a),d=this._getAllNodesOverlappingWith(c);return d.length>0?b===!0?this.body.nodes[d[d.length-1]]:d[d.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(a,b){for(var c=this.body.edges,d=0;d<this.body.edgeIndices.length;d++){var e=this.body.edgeIndices[d];c[e].isOverlappingWith(a)&&b.push(e)}}},{key:"_getAllEdgesOverlappingWith",value:function(a){var b=[];return this._getEdgesOverlappingWith(a,b),b}},{key:"getEdgeAt",value:function(a){for(var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=this.canvas.DOMtoCanvas(a),d=10,e=null,f=this.body.edges,g=0;g<this.body.edgeIndices.length;g++){var h=this.body.edgeIndices[g],i=f[h];if(i.connected){var j=i.from.x,k=i.from.y,l=i.to.x,m=i.to.y,n=i.edgeType.getDistanceToEdge(j,k,l,m,c.x,c.y);n<d&&(e=h,d=n)}}return e?b===!0?this.body.edges[e]:e:void 0}},{key:"_addToSelection",value:function(a){a instanceof h.default?this.selectionObj.nodes[a.id]=a:this.selectionObj.edges[a.id]=a}},{key:"_addToHover",value:function(a){a instanceof h.default?this.hoverObj.nodes[a.id]=a:this.hoverObj.edges[a.id]=a}},{key:"_removeFromSelection",value:function(a){a instanceof h.default?(delete this.selectionObj.nodes[a.id],this._unselectConnectedEdges(a)):delete this.selectionObj.edges[a.id]}},{key:"unselectAll",value:function(){for(var a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&this.selectionObj.nodes[a].unselect();for(var b in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(b)&&this.selectionObj.edges[b].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var a=0;for(var b in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(b)&&(a+=1);return a}},{key:"_getSelectedNode",value:function(){for(var a in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(a))return this.selectionObj.nodes[a]}},{key:"_getSelectedEdge",value:function(){for(var a in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(a))return this.selectionObj.edges[a]}},{key:"_getSelectedEdgeCount",value:function(){var a=0;for(var b in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(b)&&(a+=1);return a}},{key:"_getSelectedObjectCount",value:function(){var a=0;for(var b in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(b)&&(a+=1);for(var c in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(c)&&(a+=1);return a}},{key:"_selectionIsEmpty",value:function(){for(var a in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(a))return!1;for(var b in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(b))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var a in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(a)&&this.selectionObj.nodes[a].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(a){for(var b=0;b<a.edges.length;b++){var c=a.edges[b];c.select(),this._addToSelection(c)}}},{key:"_hoverConnectedEdges",value:function(a){for(var b=0;b<a.edges.length;b++){var c=a.edges[b];c.hover=!0,this._addToHover(c)}}},{key:"_unselectConnectedEdges",value:function(a){for(var b=0;b<a.edges.length;b++){var c=a.edges[b];c.unselect(),this._removeFromSelection(c)}}},{key:"blurObject",value:function(a){a.hover===!0&&(a.hover=!1,a instanceof h.default?this.body.emitter.emit("blurNode",{node:a.id}):this.body.emitter.emit("blurEdge",{edge:a.id}))}},{key:"hoverObject",value:function(a){var b=!1;for(var c in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(c)&&(void 0===a||a instanceof h.default&&a.id!=c||a instanceof j.default)&&(this.blurObject(this.hoverObj.nodes[c]),delete this.hoverObj.nodes[c],b=!0);for(var d in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(d)&&(b===!0?(this.hoverObj.edges[d].hover=!1,delete this.hoverObj.edges[d]):(void 0===a||a instanceof j.default)&&(this.blurObject(this.hoverObj.edges[d]),delete this.hoverObj.edges[d],b=!0));void 0!==a&&(a.hover===!1&&(a.hover=!0,this._addToHover(a),b=!0,a instanceof h.default?this.body.emitter.emit("hoverNode",{node:a.id}):this.body.emitter.emit("hoverEdge",{edge:a.id})),a instanceof h.default&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(a)),b===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var a=this.getSelectedNodes(),b=this.getSelectedEdges();return{nodes:a,edges:b}}},{key:"getSelectedNodes",value:function(){var a=[];if(this.options.selectable===!0)for(var b in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(b)&&a.push(this.selectionObj.nodes[b].id);return a}},{key:"getSelectedEdges",value:function(){var a=[];if(this.options.selectable===!0)for(var b in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(b)&&a.push(this.selectionObj.edges[b].id);return a}},{key:"setSelection",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=void 0,d=void 0;if(!a||!a.nodes&&!a.edges)throw"Selection must be an object with nodes and/or edges properties";if((b.unselectAll||void 0===b.unselectAll)&&this.unselectAll(),a.nodes)for(c=0;c<a.nodes.length;c++){d=a.nodes[c];var e=this.body.nodes[d];if(!e)throw new RangeError('Node with id "'+d+'" not found');this.selectObject(e,b.highlightEdges)}if(a.edges)for(c=0;c<a.edges.length;c++){d=a.edges[c];var f=this.body.edges[d];if(!f)throw new RangeError('Edge with id "'+d+'" not found');this.selectObject(f)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(a){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!a||void 0===a.length)throw"Selection must be an array with ids";this.setSelection({nodes:a},{highlightEdges:b})}},{key:"selectEdges",value:function(a){if(!a||void 0===a.length)throw"Selection must be an array with ids";this.setSelection({edges:a})}},{key:"updateSelection",value:function(){for(var a in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(a)&&(this.body.nodes.hasOwnProperty(a)||delete this.selectionObj.nodes[a]);for(var b in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(b)&&(this.body.edges.hasOwnProperty(b)||delete this.selectionObj.edges[b])}}]),a}();b.default=l},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=c(105),j=d(i),k=c(1),l=function(){function a(b){e(this,a),this.body=b,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},k.extend(this.options,this.defaultOptions),this.bindEventListeners()}return h(a,[{key:"bindEventListeners",value:function(){var a=this;this.body.emitter.on("_dataChanged",function(){a.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){a.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){a.setupHierarchicalLayout()})}},{key:"setOptions",value:function(a,b){if(void 0!==a){var c=this.options.hierarchical.enabled;if(k.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,a),k.mergeOptions(this.options,a,"hierarchical"),void 0!==a.randomSeed&&(this.initialRandomSeed=a.randomSeed),this.options.hierarchical.enabled===!0)return c===!0&&this.body.emitter.emit("refresh",!0),"RL"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.options.hierarchical.levelSeparation>0&&(this.options.hierarchical.levelSeparation*=-1):this.options.hierarchical.levelSeparation<0&&(this.options.hierarchical.levelSeparation*=-1),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(b);if(c===!0)return this.body.emitter.emit("refresh"),k.deepExtend(b,this.optionsBackup)}return b}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(a){if(this.options.hierarchical.enabled===!0){void 0===a.physics||a.physics===!0?(a.physics={enabled:void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled,solver:"hierarchicalRepulsion"},this.optionsBackup.physics.enabled=void 0===this.optionsBackup.physics.enabled||this.optionsBackup.physics.enabled,this.optionsBackup.physics.solver=this.optionsBackup.physics.solver||"barnesHut"):"object"===g(a.physics)?(this.optionsBackup.physics.enabled=void 0===a.physics.enabled||a.physics.enabled,this.optionsBackup.physics.solver=a.physics.solver||"barnesHut",a.physics.solver="hierarchicalRepulsion"):a.physics!==!1&&(this.optionsBackup.physics.solver="barnesHut",a.physics={solver:"hierarchicalRepulsion"});var b="horizontal";"RL"!==this.options.hierarchical.direction&&"LR"!==this.options.hierarchical.direction||(b="vertical"),void 0===a.edges?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},a.edges={smooth:!1}):void 0===a.edges.smooth?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},a.edges.smooth=!1):"boolean"==typeof a.edges.smooth?(this.optionsBackup.edges={smooth:a.edges.smooth},a.edges.smooth={enabled:a.edges.smooth,type:b}):(void 0!==a.edges.smooth.type&&"dynamic"!==a.edges.smooth.type&&(b=a.edges.smooth.type),this.optionsBackup.edges={smooth:void 0===a.edges.smooth.enabled||a.edges.smooth.enabled,type:void 0===a.edges.smooth.type?"dynamic":a.edges.smooth.type,roundness:void 0===a.edges.smooth.roundness?.5:a.edges.smooth.roundness,forceDirection:void 0!==a.edges.smooth.forceDirection&&a.edges.smooth.forceDirection},a.edges.smooth={enabled:void 0===a.edges.smooth.enabled||a.edges.smooth.enabled,type:b,roundness:void 0===a.edges.smooth.roundness?.5:a.edges.smooth.roundness,forceDirection:void 0!==a.edges.smooth.forceDirection&&a.edges.smooth.forceDirection}),this.body.emitter.emit("_forceDisableDynamicCurves",b)}return a}},{key:"seededRandom",value:function(){var a=1e4*Math.sin(this.randomSeed++);return a-Math.floor(a)}},{key:"positionInitially",value:function(a){if(this.options.hierarchical.enabled!==!0){this.randomSeed=this.initialRandomSeed;for(var b=0;b<a.length;b++){var c=a[b],d=1*a.length+10,e=2*Math.PI*this.seededRandom();void 0===c.x&&(c.x=d*Math.cos(e)),void 0===c.y&&(c.y=d*Math.sin(e))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var a=0,b=0;b<this.body.nodeIndices.length;b++){var c=this.body.nodes[this.body.nodeIndices[b]];c.predefinedPosition===!0&&(a+=1)}if(a<.5*this.body.nodeIndices.length){var d=10,e=0,f=100;if(this.body.nodeIndices.length>f){for(var g=this.body.nodeIndices.length;this.body.nodeIndices.length>f;){e+=1;var h=this.body.nodeIndices.length;e%3===0?this.body.modules.clustering.clusterBridges():this.body.modules.clustering.clusterOutliers();var i=this.body.nodeIndices.length;if(h==i&&e%3!==0||e>d)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*g)})}this.body.modules.kamadaKawai.solve(this.body.nodeIndices,this.body.edgeIndices,!0),this._shiftToCenter();for(var j=70,k=0;k<this.body.nodeIndices.length;k++)this.body.nodes[this.body.nodeIndices[k]].predefinedPosition===!1&&(this.body.nodes[this.body.nodeIndices[k]].x+=(.5-this.seededRandom())*j,this.body.nodes[this.body.nodeIndices[k]].y+=(.5-this.seededRandom())*j);this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var a=j.default.getRangeCore(this.body.nodes,this.body.nodeIndices),b=j.default.findCenter(a),c=0;c<this.body.nodeIndices.length;c++)this.body.nodes[this.body.nodeIndices[c]].x-=b.x,this.body.nodes[this.body.nodeIndices[c]].y-=b.y}},{key:"_declusterAll",value:function(){for(var a=!0;a===!0;){a=!1;for(var b=0;b<this.body.nodeIndices.length;b++)this.body.nodes[this.body.nodeIndices[b]].isCluster===!0&&(a=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[b],{},!1));a===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var a=void 0,b=void 0,c=!1,d=!0,e=!1;this.hierarchicalLevels={},this.lastNodeOnLevel={},this.hierarchicalChildrenReference={},this.hierarchicalParentReference={},this.hierarchicalTrees={},this.treeIndex=-1,this.distributionOrdering={},this.distributionIndex={},this.distributionOrderingPresence={};for(b in this.body.nodes)this.body.nodes.hasOwnProperty(b)&&(a=this.body.nodes[b],void 0===a.options.x&&void 0===a.options.y&&(d=!1),void 0!==a.options.level?(c=!0,this.hierarchicalLevels[b]=a.options.level):e=!0);if(e===!0&&c===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");e===!0&&("hubsize"===this.options.hierarchical.sortMethod?this._determineLevelsByHubsize():"directed"===this.options.hierarchical.sortMethod?this._determineLevelsDirected():"custom"===this.options.hierarchical.sortMethod&&this._determineLevelsCustomCallback());for(var f in this.body.nodes)this.body.nodes.hasOwnProperty(f)&&void 0===this.hierarchicalLevels[f]&&(this.hierarchicalLevels[f]=0);var g=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(g),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var a=this,b=!1,c={},d=function(){for(var b=h(),c=0;c<b.length-1;c++){var d=b[c].max-b[c+1].min;e(c+1,d+a.options.hierarchical.treeSpacing)}},e=function(b,c){for(var d in a.hierarchicalTrees)if(a.hierarchicalTrees.hasOwnProperty(d)&&a.hierarchicalTrees[d]===b){var e=a.body.nodes[d],f=a._getPositionForHierarchy(e);a._setPositionForHierarchy(e,f+c,void 0,!0)}},g=function(b){var c=1e9,d=-1e9;for(var e in a.hierarchicalTrees)if(a.hierarchicalTrees.hasOwnProperty(e)&&a.hierarchicalTrees[e]===b){var f=a._getPositionForHierarchy(a.body.nodes[e]);c=Math.min(f,c),d=Math.max(f,d)}return{min:c,max:d}},h=function(){for(var b=[],c=0;c<=a.treeIndex;c++)b.push(g(c));return b},i=function b(c,d){if(d[c.id]=!0,a.hierarchicalChildrenReference[c.id]){var e=a.hierarchicalChildrenReference[c.id];if(e.length>0)for(var f=0;f<e.length;f++)b(a.body.nodes[e[f]],d)}},j=function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,d=1e9,e=1e9,g=1e9,h=-1e9;for(var i in b)if(b.hasOwnProperty(i)){var j=a.body.nodes[i],k=a.hierarchicalLevels[j.id],l=a._getPositionForHierarchy(j),m=a._getSpaceAroundNode(j,b),n=f(m,2),o=n[0],p=n[1];d=Math.min(o,d),e=Math.min(p,e),k<=c&&(g=Math.min(l,g),h=Math.max(l,h))}return[g,h,d,e]},k=function b(c){var d=a.hierarchicalLevels[c];if(a.hierarchicalChildrenReference[c]){var e=a.hierarchicalChildrenReference[c];if(e.length>0)for(var f=0;f<e.length;f++)d=Math.max(d,b(e[f]))}return d},l=function(a,b){var c=k(a.id),d=k(b.id);return Math.min(c,d)},m=function(b,c){var d=a.hierarchicalParentReference[b.id],e=a.hierarchicalParentReference[c.id];if(void 0===d||void 0===e)return!1;for(var f=0;f<d.length;f++)for(var g=0;g<e.length;g++)if(d[f]==e[g])return!0;return!1},n=function(b,c,d){for(var e=0;e<c.length;e++){var f=c[e],g=a.distributionOrdering[f];if(g.length>1)for(var h=0;h<g.length-1;h++)m(g[h],g[h+1])===!0&&a.hierarchicalTrees[g[h].id]===a.hierarchicalTrees[g[h+1].id]&&b(g[h],g[h+1],d)}},o=function(c,d){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],g=a._getPositionForHierarchy(c),h=a._getPositionForHierarchy(d),k=Math.abs(h-g);if(k>a.options.hierarchical.nodeSpacing){var m={};m[c.id]=!0;var n={};n[d.id]=!0,i(c,m),i(d,n);var o=l(c,d),p=j(m,o),q=f(p,4),r=(q[0],q[1]),s=(q[2],q[3],j(n,o)),t=f(s,4),u=t[0],v=(t[1],t[2]),w=(t[3],Math.abs(r-u));if(w>a.options.hierarchical.nodeSpacing){var x=r-u+a.options.hierarchical.nodeSpacing;x<-v+a.options.hierarchical.nodeSpacing&&(x=-v+a.options.hierarchical.nodeSpacing),x<0&&(a._shiftBlock(d.id,x),b=!0,e===!0&&a._centerParent(d))}}},p=function(d,e){for(var g=e.id,h=e.edges,k=a.hierarchicalLevels[e.id],l=a.options.hierarchical.levelSeparation*a.options.hierarchical.levelSeparation,m={},n=[],o=0;o<h.length;o++){var p=h[o];if(p.toId!=p.fromId){var q=p.toId==g?p.from:p.to;m[h[o].id]=q,a.hierarchicalLevels[q.id]<k&&n.push(p)}}var r=function(b,c){for(var d=0,e=0;e<c.length;e++)if(void 0!==m[c[e].id]){var f=a._getPositionForHierarchy(m[c[e].id])-b;d+=f/Math.sqrt(f*f+l)}return d},s=function(b,c){for(var d=0,e=0;e<c.length;e++)if(void 0!==m[c[e].id]){var f=a._getPositionForHierarchy(m[c[e].id])-b;d-=l*Math.pow(f*f+l,-1.5)}return d},t=function(b,c){for(var d=a._getPositionForHierarchy(e),f={},g=0;g<b;g++){var h=r(d,c),i=s(d,c),j=40,k=Math.max(-j,Math.min(j,Math.round(h/i)));if(d-=k,void 0!==f[d])break;f[d]=g}return d},u=function(d){var g=a._getPositionForHierarchy(e);if(void 0===c[e.id]){var h={};h[e.id]=!0,i(e,h),c[e.id]=h}var k=j(c[e.id]),l=f(k,4),m=(l[0],l[1],l[2]),n=l[3],o=d-g,p=0;o>0?p=Math.min(o,n-a.options.hierarchical.nodeSpacing):o<0&&(p=-Math.min(-o,m-a.options.hierarchical.nodeSpacing)),0!=p&&(a._shiftBlock(e.id,p),b=!0)},v=function(c){var d=a._getPositionForHierarchy(e),g=a._getSpaceAroundNode(e),h=f(g,2),i=h[0],j=h[1],k=c-d,l=d;k>0?l=Math.min(d+(j-a.options.hierarchical.nodeSpacing),c):k<0&&(l=Math.max(d-(i-a.options.hierarchical.nodeSpacing),c)),l!==d&&(a._setPositionForHierarchy(e,l,void 0,!0),
b=!0)},w=t(d,n);u(w),w=t(d,h),v(w)},q=function(c){var d=Object.keys(a.distributionOrdering);d=d.reverse();for(var e=0;e<c;e++){b=!1;for(var f=0;f<d.length;f++)for(var g=d[f],h=a.distributionOrdering[g],i=0;i<h.length;i++)p(1e3,h[i]);if(b!==!0)break}},r=function(c){var d=Object.keys(a.distributionOrdering);d=d.reverse();for(var e=0;e<c&&(b=!1,n(o,d,!0),b===!0);e++);},s=function(){for(var b in a.body.nodes)a.body.nodes.hasOwnProperty(b)&&a._centerParent(a.body.nodes[b])},t=function(){var b=Object.keys(a.distributionOrdering);b=b.reverse();for(var c=0;c<b.length;c++)for(var d=b[c],e=a.distributionOrdering[d],f=0;f<e.length;f++)a._centerParent(e[f])};this.options.hierarchical.blockShifting===!0&&(r(5),s()),this.options.hierarchical.edgeMinimization===!0&&q(20),this.options.hierarchical.parentCentralization===!0&&t(),d()}},{key:"_getSpaceAroundNode",value:function(a,b){var c=!0;void 0===b&&(c=!1);var d=this.hierarchicalLevels[a.id];if(void 0!==d){var e=this.distributionIndex[a.id],f=this._getPositionForHierarchy(a),g=1e9,h=1e9;if(0!==e){var i=this.distributionOrdering[d][e-1];if(c===!0&&void 0===b[i.id]||c===!1){var j=this._getPositionForHierarchy(i);g=f-j}}if(e!=this.distributionOrdering[d].length-1){var k=this.distributionOrdering[d][e+1];if(c===!0&&void 0===b[k.id]||c===!1){var l=this._getPositionForHierarchy(k);h=Math.min(h,l-f)}}return[g,h]}return[0,0]}},{key:"_centerParent",value:function(a){if(this.hierarchicalParentReference[a.id])for(var b=this.hierarchicalParentReference[a.id],c=0;c<b.length;c++){var d=b[c],e=this.body.nodes[d];if(this.hierarchicalChildrenReference[d]){var g=1e9,h=-1e9,i=this.hierarchicalChildrenReference[d];if(i.length>0)for(var j=0;j<i.length;j++){var k=this.body.nodes[i[j]];g=Math.min(g,this._getPositionForHierarchy(k)),h=Math.max(h,this._getPositionForHierarchy(k))}var l=this._getPositionForHierarchy(e),m=this._getSpaceAroundNode(e),n=f(m,2),o=n[0],p=n[1],q=.5*(g+h),r=l-q;(r<0&&Math.abs(r)<p-this.options.hierarchical.nodeSpacing||r>0&&Math.abs(r)<o-this.options.hierarchical.nodeSpacing)&&this._setPositionForHierarchy(e,q,void 0,!0)}}}},{key:"_placeNodesByHierarchy",value:function(a){this.positionedNodes={};for(var b in a)if(a.hasOwnProperty(b)){var c=Object.keys(a[b]);c=this._indexArrayToNodes(c),this._sortNodeArray(c);for(var d=0,e=0;e<c.length;e++){var f=c[e];if(void 0===this.positionedNodes[f.id]){var g=this.options.hierarchical.nodeSpacing*d;d>0&&(g=this._getPositionForHierarchy(c[e-1])+this.options.hierarchical.nodeSpacing),this._setPositionForHierarchy(f,g,b),this._validataPositionAndContinue(f,b,g),d++}}}}},{key:"_placeBranchNodes",value:function(a,b){if(void 0!==this.hierarchicalChildrenReference[a]){for(var c=[],d=0;d<this.hierarchicalChildrenReference[a].length;d++)c.push(this.body.nodes[this.hierarchicalChildrenReference[a][d]]);this._sortNodeArray(c);for(var e=0;e<c.length;e++){var f=c[e],g=this.hierarchicalLevels[f.id];if(!(g>b&&void 0===this.positionedNodes[f.id]))return;var h=void 0;h=0===e?this._getPositionForHierarchy(this.body.nodes[a]):this._getPositionForHierarchy(c[e-1])+this.options.hierarchical.nodeSpacing,this._setPositionForHierarchy(f,h,g),this._validataPositionAndContinue(f,g,h)}for(var i=1e9,j=-1e9,k=0;k<c.length;k++){var l=c[k].id;i=Math.min(i,this._getPositionForHierarchy(this.body.nodes[l])),j=Math.max(j,this._getPositionForHierarchy(this.body.nodes[l]))}this._setPositionForHierarchy(this.body.nodes[a],.5*(i+j),b)}}},{key:"_validataPositionAndContinue",value:function(a,b,c){if(void 0!==this.lastNodeOnLevel[b]){var d=this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[b]]);if(c-d<this.options.hierarchical.nodeSpacing){var e=d+this.options.hierarchical.nodeSpacing-c,f=this._findCommonParent(this.lastNodeOnLevel[b],a.id);this._shiftBlock(f.withChild,e)}}this.lastNodeOnLevel[b]=a.id,this.positionedNodes[a.id]=!0,this._placeBranchNodes(a.id,b)}},{key:"_indexArrayToNodes",value:function(a){for(var b=[],c=0;c<a.length;c++)b.push(this.body.nodes[a[c]]);return b}},{key:"_getDistribution",value:function(){var a={},b=void 0,c=void 0;for(b in this.body.nodes)if(this.body.nodes.hasOwnProperty(b)){c=this.body.nodes[b];var d=void 0===this.hierarchicalLevels[b]?0:this.hierarchicalLevels[b];"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(c.y=this.options.hierarchical.levelSeparation*d,c.options.fixed.y=!0):(c.x=this.options.hierarchical.levelSeparation*d,c.options.fixed.x=!0),void 0===a[d]&&(a[d]={}),a[d][b]=c}return a}},{key:"_getHubSize",value:function(){var a=0;for(var b in this.body.nodes)if(this.body.nodes.hasOwnProperty(b)){var c=this.body.nodes[b];void 0===this.hierarchicalLevels[b]&&(a=c.edges.length<a?a:c.edges.length)}return a}},{key:"_determineLevelsByHubsize",value:function(){for(var a=this,b=1,c=function(b,c){void 0===a.hierarchicalLevels[c.id]&&(void 0===a.hierarchicalLevels[b.id]&&(a.hierarchicalLevels[b.id]=0),a.hierarchicalLevels[c.id]=a.hierarchicalLevels[b.id]+1)};b>0&&(b=this._getHubSize(),0!==b);)for(var d in this.body.nodes)if(this.body.nodes.hasOwnProperty(d)){var e=this.body.nodes[d];e.edges.length===b&&this._crawlNetwork(c,d)}}},{key:"_determineLevelsCustomCallback",value:function(){var a=this,b=1e5,c=function(a,b,c){},d=function(d,e,f){var g=a.hierarchicalLevels[d.id];void 0===g&&(a.hierarchicalLevels[d.id]=b);var h=c(j.default.cloneOptions(d,"node"),j.default.cloneOptions(e,"node"),j.default.cloneOptions(f,"edge"));a.hierarchicalLevels[e.id]=a.hierarchicalLevels[d.id]+h};this._crawlNetwork(d),this._setMinLevelToZero()}},{key:"_determineLevelsDirected",value:function(){var a=this,b=1e4,c=function(c,d,e){var f=a.hierarchicalLevels[c.id];void 0===f&&(a.hierarchicalLevels[c.id]=b),e.toId==d.id?a.hierarchicalLevels[d.id]=a.hierarchicalLevels[c.id]+1:a.hierarchicalLevels[d.id]=a.hierarchicalLevels[c.id]-1};this._crawlNetwork(c),this._setMinLevelToZero()}},{key:"_setMinLevelToZero",value:function(){var a=1e9;for(var b in this.body.nodes)this.body.nodes.hasOwnProperty(b)&&void 0!==this.hierarchicalLevels[b]&&(a=Math.min(this.hierarchicalLevels[b],a));for(var c in this.body.nodes)this.body.nodes.hasOwnProperty(c)&&void 0!==this.hierarchicalLevels[c]&&(this.hierarchicalLevels[c]-=a)}},{key:"_generateMap",value:function(){var a=this,b=function(b,c){if(a.hierarchicalLevels[c.id]>a.hierarchicalLevels[b.id]){var d=b.id,e=c.id;void 0===a.hierarchicalChildrenReference[d]&&(a.hierarchicalChildrenReference[d]=[]),a.hierarchicalChildrenReference[d].push(e),void 0===a.hierarchicalParentReference[e]&&(a.hierarchicalParentReference[e]=[]),a.hierarchicalParentReference[e].push(d)}};this._crawlNetwork(b)}},{key:"_crawlNetwork",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},c=arguments[1],d={},e=0,f=function c(e,f){if(void 0===d[e.id]){void 0===a.hierarchicalTrees[e.id]&&(a.hierarchicalTrees[e.id]=f,a.treeIndex=Math.max(f,a.treeIndex)),d[e.id]=!0;for(var g=void 0,h=0;h<e.edges.length;h++)e.edges[h].connected===!0&&(g=e.edges[h].toId===e.id?e.edges[h].from:e.edges[h].to,e.id!==g.id&&(b(e,g,e.edges[h]),c(g,f)))}};if(void 0===c)for(var g=0;g<this.body.nodeIndices.length;g++){var h=this.body.nodes[this.body.nodeIndices[g]];void 0===d[h.id]&&(f(h,e),e+=1)}else{var i=this.body.nodes[c];if(void 0===i)return void console.error("Node not found:",c);f(i)}}},{key:"_shiftBlock",value:function(a,b){if("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.body.nodes[a].x+=b:this.body.nodes[a].y+=b,void 0!==this.hierarchicalChildrenReference[a])for(var c=0;c<this.hierarchicalChildrenReference[a].length;c++)this._shiftBlock(this.hierarchicalChildrenReference[a][c],b)}},{key:"_findCommonParent",value:function(a,b){var c=this,d={},e=function a(b,d){if(void 0!==c.hierarchicalParentReference[d])for(var e=0;e<c.hierarchicalParentReference[d].length;e++){var f=c.hierarchicalParentReference[d][e];b[f]=!0,a(b,f)}},f=function a(b,d){if(void 0!==c.hierarchicalParentReference[d])for(var e=0;e<c.hierarchicalParentReference[d].length;e++){var f=c.hierarchicalParentReference[d][e];if(void 0!==b[f])return{foundParent:f,withChild:d};var g=a(b,f);if(null!==g.foundParent)return g}return{foundParent:null,withChild:d}};return e(d,a),f(d,b)}},{key:"_setPositionForHierarchy",value:function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];d!==!0&&(void 0===this.distributionOrdering[c]&&(this.distributionOrdering[c]=[],this.distributionOrderingPresence[c]={}),void 0===this.distributionOrderingPresence[c][a.id]&&(this.distributionOrdering[c].push(a),this.distributionIndex[a.id]=this.distributionOrdering[c].length-1),this.distributionOrderingPresence[c][a.id]=!0),"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?a.x=b:a.y=b}},{key:"_getPositionForHierarchy",value:function(a){return"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?a.x:a.y}},{key:"_sortNodeArray",value:function(a){a.length>1&&("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?a.sort(function(a,b){return a.x-b.x}):a.sort(function(a,b){return a.y-b.y}))}}]),a}();b.default=l},function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=c(1),g=c(22),h=c(30),i=function(){function a(b,c,e){var g=this;d(this,a),this.body=b,this.canvas=c,this.selectionHandler=e,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},f.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){g._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return e(a,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(a,b,c){void 0!==b&&(void 0!==b.locale?this.options.locale=b.locale:this.options.locale=c.locale,void 0!==b.locales?this.options.locales=b.locales:this.options.locales=c.locales),void 0!==a&&("boolean"==typeof a?this.options.enabled=a:(this.options.enabled=!0,f.deepExtend(this.options,a)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var a=this.selectionHandler._getSelectedNodeCount(),b=this.selectionHandler._getSelectedEdgeCount(),c=a+b,d=this.options.locales[this.options.locale],e=!1;this.options.addNode!==!1&&(this._createAddNodeButton(d),e=!0),this.options.addEdge!==!1&&(e===!0?this._createSeperator(1):e=!0,this._createAddEdgeButton(d)),1===a&&"function"==typeof this.options.editNode?(e===!0?this._createSeperator(2):e=!0,this._createEditNodeButton(d)):1===b&&0===a&&this.options.editEdge!==!1&&(e===!0?this._createSeperator(3):e=!0,this._createEditEdgeButton(d)),0!==c&&(a>0&&this.options.deleteNode!==!1?(e===!0&&this._createSeperator(4),this._createDeleteButton(d)):0===a&&this.options.deleteEdge!==!1&&(e===!0&&this._createSeperator(4),this._createDeleteButton(d))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var a=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var b=this.selectionHandler._getSelectedNode();if(void 0!==b){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(b.isCluster!==!0){var c=f.deepExtend({},b.options,!1);if(c.x=b.x,c.y=b.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(c,function(b){null!==b&&void 0!==b&&"editNode"===a.inMode&&a.body.data.nodes.getDataSet().update(b),a.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",function(){}),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){var a=this;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",this.guiEnabled===!0){var b=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(b),this._createSeperator(),this._createDescription(b.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId?!function(){var b=a.body.edges[a.edgeBeingEditedId],c=a._getNewTargetNode(b.from.x,b.from.y),d=a._getNewTargetNode(b.to.x,b.to.y);a.temporaryIds.nodes.push(c.id),a.temporaryIds.nodes.push(d.id),a.body.nodes[c.id]=c,a.body.nodeIndices.push(c.id),a.body.nodes[d.id]=d,a.body.nodeIndices.push(d.id),a._temporaryBindUI("onTouch",a._controlNodeTouch.bind(a)),a._temporaryBindUI("onTap",function(){}),a._temporaryBindUI("onHold",function(){}),a._temporaryBindUI("onDragStart",a._controlNodeDragStart.bind(a)),a._temporaryBindUI("onDrag",a._controlNodeDrag.bind(a)),a._temporaryBindUI("onDragEnd",a._controlNodeDragEnd.bind(a)),a._temporaryBindUI("onMouseMove",function(){}),a._temporaryBindEvent("beforeDrawing",function(a){var e=b.edgeType.findBorderPositions(a);c.selected===!1&&(c.x=e.from.x,c.y=e.from.y),d.selected===!1&&(d.x=e.to.x,d.y=e.to.y)}),a.body.emitter.emit("_redraw")}():this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var a=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var b=this.selectionHandler.getSelectedNodes(),c=this.selectionHandler.getSelectedEdges(),d=void 0;if(b.length>0){for(var e=0;e<b.length;e++)if(this.body.nodes[b[e]].isCluster===!0)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(d=this.options.deleteNode)}else c.length>0&&"function"==typeof this.options.deleteEdge&&(d=this.options.deleteEdge);if("function"==typeof d){var f={nodes:b,edges:c};if(2!==d.length)throw new Error("The function for delete does not support two arguments (data, callback)");d(f,function(b){null!==b&&void 0!==b&&"delete"===a.inMode?(a.body.data.edges.getDataSet().remove(b.edges),a.body.data.nodes.getDataSet().remove(b.nodes),a.body.emitter.emit("startSimulation"),a.showManipulatorToolbar()):(a.body.emitter.emit("startSimulation"),a.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(c),this.body.data.nodes.getDataSet().remove(b),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(a,b){var c=f.deepExtend({},this.options.controlNodeStyle);c.id="targetNode"+f.randomUUID(),c.hidden=!1,c.physics=!1,c.x=a,c.y=b;var d=this.body.functions.createNode(c);return d.shape.boundingBox={left:a,right:a,top:b,bottom:b},d}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},f.recursiveDOMDelete(this.editModeDiv);var a=this.options.locales[this.options.locale],b=this._createButton("editMode","vis-button vis-edit vis-edit-mode",a.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(b),this._bindHammerToDiv(b,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(f.recursiveDOMDelete(this.editModeDiv),f.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var a=0;a<this.manipulationHammers.length;a++)this.manipulationHammers[a].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),f.recursiveDOMDelete(this.manipulationDiv),f.recursiveDOMDelete(this.editModeDiv),f.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+a]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+a].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+a])}},{key:"_createAddNodeButton",value:function(a){var b=this._createButton("addNode","vis-button vis-add",a.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(b),this._bindHammerToDiv(b,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(a){var b=this._createButton("addEdge","vis-button vis-connect",a.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(b),this._bindHammerToDiv(b,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(a){var b=this._createButton("editNode","vis-button vis-edit",a.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(b),this._bindHammerToDiv(b,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(a){var b=this._createButton("editEdge","vis-button vis-edit",a.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(b),this._bindHammerToDiv(b,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(a){if(this.options.rtl)var b="vis-button vis-delete-rtl";else var b="vis-button vis-delete";var c=this._createButton("delete",b,a.del||this.options.locales.en.del);this.manipulationDiv.appendChild(c),this._bindHammerToDiv(c,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(a){var b=this._createButton("back","vis-button vis-back",a.back||this.options.locales.en.back);this.manipulationDiv.appendChild(b),this._bindHammerToDiv(b,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[a+"Div"]=document.createElement("div"),this.manipulationDOM[a+"Div"].className=b,this.manipulationDOM[a+"Label"]=document.createElement("div"),this.manipulationDOM[a+"Label"].className=d,this.manipulationDOM[a+"Label"].innerHTML=c,this.manipulationDOM[a+"Div"].appendChild(this.manipulationDOM[a+"Label"]),this.manipulationDOM[a+"Div"]}},{key:"_createDescription",value:function(a){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",a))}},{key:"_temporaryBindEvent",value:function(a,b){this.temporaryEventFunctions.push({event:a,boundFunction:b}),this.body.emitter.on(a,b)}},{key:"_temporaryBindUI",value:function(a,b){if(void 0===this.body.eventListeners[a])throw new Error("This UI function does not exist. Typo? You tried: "+a+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[a]=this.body.eventListeners[a],this.body.eventListeners[a]=b}},{key:"_unbindTemporaryUIs",value:function(){for(var a in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(a)&&(this.body.eventListeners[a]=this.temporaryUIFunctions[a],delete this.temporaryUIFunctions[a]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var a=0;a<this.temporaryEventFunctions.length;a++){var b=this.temporaryEventFunctions[a].event,c=this.temporaryEventFunctions[a].boundFunction;this.body.emitter.off(b,c)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(a,b){var c=new g(a,{});h.onTouch(c,b),this.manipulationHammers.push(c)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var a=0;a<this.temporaryIds.edges.length;a++){this.body.edges[this.temporaryIds.edges[a]].disconnect(),delete this.body.edges[this.temporaryIds.edges[a]];var b=this.body.edgeIndices.indexOf(this.temporaryIds.edges[a]);b!==-1&&this.body.edgeIndices.splice(b,1)}for(var c=0;c<this.temporaryIds.nodes.length;c++){delete this.body.nodes[this.temporaryIds.nodes[c]];var d=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[c]);d!==-1&&this.body.nodeIndices.splice(d,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(a){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(a.center),this.lastTouch.translation=f.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(a){var b=this.lastTouch,c=this.selectionHandler._pointerToPositionObject(b),d=this.body.nodes[this.temporaryIds.nodes[0]],e=this.body.nodes[this.temporaryIds.nodes[1]],f=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var g=d.isOverlappingWith(c),h=e.isOverlappingWith(c);g===!0?(this.selectedControlNode=d,f.edgeType.from=d):h===!0&&(this.selectedControlNode=e,f.edgeType.to=e),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(a){this.body.emitter.emit("disablePhysics");var b=this.body.functions.getPointer(a.center),c=this.canvas.DOMtoCanvas(b);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=c.x,this.selectedControlNode.y=c.y;else{var d=b.x-this.lastTouch.x,e=b.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+d,y:this.lastTouch.translation.y+e}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(a){var b=this.body.functions.getPointer(a.center),c=this.selectionHandler._pointerToPositionObject(b),d=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var e=this.selectionHandler._getAllNodesOverlappingWith(c),f=void 0,g=e.length-1;g>=0;g--)if(e[g]!==this.selectedControlNode.id){f=this.body.nodes[e[g]];break}if(void 0!==f&&void 0!==this.selectedControlNode)if(f.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var h=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===h.id?this._performEditEdge(f.id,d.to.id):this._performEditEdge(d.from.id,f.id)}else d.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(a){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(a.center),this.lastTouch.translation=f.extend({},this.body.view.translation);var b=this.lastTouch,c=this.selectionHandler.getNodeAt(b);if(void 0!==c)if(c.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var d=this._getNewTargetNode(c.x,c.y);this.body.nodes[d.id]=d,this.body.nodeIndices.push(d.id);var e=this.body.functions.createEdge({id:"connectionEdge"+f.randomUUID(),from:c.id,to:d.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[e.id]=e,this.body.edgeIndices.push(e.id),this.temporaryIds.nodes.push(d.id),this.temporaryIds.edges.push(e.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(a){var b=this.body.functions.getPointer(a.center);if(void 0!==this.temporaryIds.nodes[0]){var c=this.body.nodes[this.temporaryIds.nodes[0]];c.x=this.canvas._XconvertDOMtoCanvas(b.x),c.y=this.canvas._YconvertDOMtoCanvas(b.y),this.body.emitter.emit("_redraw")}else{var d=b.x-this.lastTouch.x,e=b.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+d,y:this.lastTouch.translation.y+e}}}},{key:"_finishConnect",value:function(a){var b=this.body.functions.getPointer(a.center),c=this.selectionHandler._pointerToPositionObject(b),d=void 0;void 0!==this.temporaryIds.edges[0]&&(d=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var e=this.selectionHandler._getAllNodesOverlappingWith(c),f=void 0,g=e.length-1;g>=0;g--)if(this.temporaryIds.nodes.indexOf(e[g])===-1){f=this.body.nodes[e[g]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==f&&(f.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[d]&&void 0!==this.body.nodes[f.id]&&this._performAddEdge(d,f.id)),this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function(a){var b=this,c={id:f.randomUUID(),x:a.pointer.canvas.x,y:a.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(c,function(a){null!==a&&void 0!==a&&"addNode"===b.inMode&&(b.body.data.nodes.getDataSet().add(a),b.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(c),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(a,b){var c=this,d={from:a,to:b};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(d,function(a){null!==a&&void 0!==a&&"addEdge"===c.inMode&&(c.body.data.edges.getDataSet().add(a),c.selectionHandler.unselectAll(),c.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(d),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(a,b){var c=this,d={id:this.edgeBeingEditedId,from:a,to:b};if("function"==typeof this.options.editEdge){if(2!==this.options.editEdge.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editEdge(d,function(a){null===a||void 0===a||"editEdge"!==c.inMode?(c.body.edges[d.id].updateEdgeType(),c.body.emitter.emit("_redraw")):(c.body.data.edges.getDataSet().update(a),c.selectionHandler.unselectAll(),c.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(d),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),a}();b.default=i},function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var c="string",d="boolean",e="number",f="array",g="object",h="dom",i="any",j={configure:{enabled:{boolean:d},filter:{boolean:d,string:c,array:f,function:"function"},container:{dom:h},showButton:{boolean:d},__type__:{object:g,boolean:d,string:c,array:f,function:"function"}},edges:{arrows:{to:{enabled:{boolean:d},scaleFactor:{number:e},type:{string:["arrow","circle"]},__type__:{object:g,boolean:d}},middle:{enabled:{boolean:d},scaleFactor:{number:e},type:{string:["arrow","circle"]},__type__:{object:g,boolean:d}},from:{enabled:{boolean:d},scaleFactor:{number:e},type:{string:["arrow","circle"]},__type__:{object:g,boolean:d}},__type__:{string:["from","to","middle"],object:g}},arrowStrikethrough:{boolean:d},color:{color:{string:c},highlight:{string:c},hover:{string:c},inherit:{string:["from","to","both"],boolean:d},opacity:{number:e},__type__:{object:g,string:c}},dashes:{boolean:d,array:f},font:{color:{string:c},size:{number:e},face:{string:c},background:{string:c},strokeWidth:{number:e},strokeColor:{string:c},align:{string:["horizontal","top","middle","bottom"]},__type__:{object:g,string:c}},hidden:{boolean:d},hoverWidth:{function:"function",number:e},label:{string:c,undefined:"undefined"},labelHighlightBold:{boolean:d},length:{number:e,undefined:"undefined"},physics:{boolean:d},scaling:{min:{number:e},max:{number:e},label:{enabled:{boolean:d},min:{number:e},max:{number:e},maxVisible:{number:e},drawThreshold:{number:e},__type__:{object:g,boolean:d}},customScalingFunction:{function:"function"},__type__:{object:g}},selectionWidth:{function:"function",number:e},selfReferenceSize:{number:e},shadow:{enabled:{boolean:d},color:{string:c},size:{number:e},x:{number:e},y:{number:e},__type__:{object:g,boolean:d}},smooth:{enabled:{boolean:d},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]
},roundness:{number:e},forceDirection:{string:["horizontal","vertical","none"],boolean:d},__type__:{object:g,boolean:d}},title:{string:c,undefined:"undefined"},width:{number:e},value:{number:e,undefined:"undefined"},__type__:{object:g}},groups:{useDefaultGroups:{boolean:d},__any__:"get from nodes, will be overwritten below",__type__:{object:g}},interaction:{dragNodes:{boolean:d},dragView:{boolean:d},hideEdgesOnDrag:{boolean:d},hideNodesOnDrag:{boolean:d},hover:{boolean:d},keyboard:{enabled:{boolean:d},speed:{x:{number:e},y:{number:e},zoom:{number:e},__type__:{object:g}},bindToWindow:{boolean:d},__type__:{object:g,boolean:d}},multiselect:{boolean:d},navigationButtons:{boolean:d},selectable:{boolean:d},selectConnectedEdges:{boolean:d},hoverConnectedEdges:{boolean:d},tooltipDelay:{number:e},zoomView:{boolean:d},__type__:{object:g}},layout:{randomSeed:{undefined:"undefined",number:e},improvedLayout:{boolean:d},hierarchical:{enabled:{boolean:d},levelSeparation:{number:e},nodeSpacing:{number:e},treeSpacing:{number:e},blockShifting:{boolean:d},edgeMinimization:{boolean:d},parentCentralization:{boolean:d},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:g,boolean:d}},__type__:{object:g}},manipulation:{enabled:{boolean:d},initiallyActive:{boolean:d},addNode:{boolean:d,function:"function"},addEdge:{boolean:d,function:"function"},editNode:{function:"function"},editEdge:{boolean:d,function:"function"},deleteNode:{boolean:d,function:"function"},deleteEdge:{boolean:d,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:g,boolean:d}},nodes:{borderWidth:{number:e},borderWidthSelected:{number:e,undefined:"undefined"},brokenImage:{string:c,undefined:"undefined"},color:{border:{string:c},background:{string:c},highlight:{border:{string:c},background:{string:c},__type__:{object:g,string:c}},hover:{border:{string:c},background:{string:c},__type__:{object:g,string:c}},__type__:{object:g,string:c}},fixed:{x:{boolean:d},y:{boolean:d},__type__:{object:g,boolean:d}},font:{align:{string:c},color:{string:c},size:{number:e},face:{string:c},background:{string:c},strokeWidth:{number:e},strokeColor:{string:c},__type__:{object:g,string:c}},group:{string:c,number:e,undefined:"undefined"},hidden:{boolean:d},icon:{face:{string:c},code:{string:c},size:{number:e},color:{string:c},__type__:{object:g}},id:{string:c,number:e},image:{string:c,undefined:"undefined"},label:{string:c,undefined:"undefined"},labelHighlightBold:{boolean:d},level:{number:e,undefined:"undefined"},mass:{number:e},physics:{boolean:d},scaling:{min:{number:e},max:{number:e},label:{enabled:{boolean:d},min:{number:e},max:{number:e},maxVisible:{number:e},drawThreshold:{number:e},__type__:{object:g,boolean:d}},customScalingFunction:{function:"function"},__type__:{object:g}},shadow:{enabled:{boolean:d},color:{string:c},size:{number:e},x:{number:e},y:{number:e},__type__:{object:g,boolean:d}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},shapeProperties:{borderDashes:{boolean:d,array:f},borderRadius:{number:e},interpolation:{boolean:d},useImageSize:{boolean:d},useBorderWithImage:{boolean:d},__type__:{object:g}},size:{number:e},title:{string:c,undefined:"undefined"},value:{number:e,undefined:"undefined"},x:{number:e},y:{number:e},__type__:{object:g}},physics:{enabled:{boolean:d},barnesHut:{gravitationalConstant:{number:e},centralGravity:{number:e},springLength:{number:e},springConstant:{number:e},damping:{number:e},avoidOverlap:{number:e},__type__:{object:g}},forceAtlas2Based:{gravitationalConstant:{number:e},centralGravity:{number:e},springLength:{number:e},springConstant:{number:e},damping:{number:e},avoidOverlap:{number:e},__type__:{object:g}},repulsion:{centralGravity:{number:e},springLength:{number:e},springConstant:{number:e},nodeDistance:{number:e},damping:{number:e},__type__:{object:g}},hierarchicalRepulsion:{centralGravity:{number:e},springLength:{number:e},springConstant:{number:e},nodeDistance:{number:e},damping:{number:e},__type__:{object:g}},maxVelocity:{number:e},minVelocity:{number:e},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:d},iterations:{number:e},updateInterval:{number:e},onlyDynamicEdges:{boolean:d},fit:{boolean:d},__type__:{object:g,boolean:d}},timestep:{number:e},adaptiveTimestep:{boolean:d},__type__:{object:g,boolean:d}},autoResize:{boolean:d},clickToUse:{boolean:d},locale:{string:c},locales:{__any__:{any:i},__type__:{object:g}},height:{string:c},width:{string:c},__type__:{object:g}};j.groups.__any__=j.nodes,j.manipulation.controlNodeStyle=j.nodes;var k={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}};b.allOptions=j,b.configureOptions=k},function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var f=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(118),i=d(h),j=function(){function a(b,c,d){e(this,a),this.body=b,this.springLength=c,this.springConstant=d,this.distanceSolver=new i.default}return g(a,[{key:"setOptions",value:function(a){a&&(a.springLength&&(this.springLength=a.springLength),a.springConstant&&(this.springConstant=a.springConstant))}},{key:"solve",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=this.distanceSolver.getDistances(this.body,a,b);this._createL_matrix(d),this._createK_matrix(d);for(var e=.01,g=1,h=0,i=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),j=5,k=1e9,l=0,m=0,n=0,o=0,p=0;k>e&&h<i;){h+=1;var q=this._getHighestEnergyNode(c),r=f(q,4);for(l=r[0],k=r[1],m=r[2],n=r[3],o=k,p=0;o>g&&p<j;){p+=1,this._moveNode(l,m,n);var s=this._getEnergy(l),t=f(s,3);o=t[0],m=t[1],n=t[2]}}}},{key:"_getHighestEnergyNode",value:function(a){for(var b=this.body.nodeIndices,c=this.body.nodes,d=0,e=b[0],g=0,h=0,i=0;i<b.length;i++){var j=b[i];if(c[j].predefinedPosition===!1||c[j].isCluster===!0&&a===!0||c[j].options.fixed.x===!0||c[j].options.fixed.y===!0){var k=this._getEnergy(j),l=f(k,3),m=l[0],n=l[1],o=l[2];d<m&&(d=m,e=j,g=n,h=o)}}return[e,d,g,h]}},{key:"_getEnergy",value:function(a){for(var b=this.body.nodeIndices,c=this.body.nodes,d=c[a].x,e=c[a].y,f=0,g=0,h=0;h<b.length;h++){var i=b[h];if(i!==a){var j=c[i].x,k=c[i].y,l=1/Math.sqrt(Math.pow(d-j,2)+Math.pow(e-k,2));f+=this.K_matrix[a][i]*(d-j-this.L_matrix[a][i]*(d-j)*l),g+=this.K_matrix[a][i]*(e-k-this.L_matrix[a][i]*(e-k)*l)}}var m=Math.sqrt(Math.pow(f,2)+Math.pow(g,2));return[m,f,g]}},{key:"_moveNode",value:function(a,b,c){for(var d=this.body.nodeIndices,e=this.body.nodes,f=0,g=0,h=0,i=e[a].x,j=e[a].y,k=0;k<d.length;k++){var l=d[k];if(l!==a){var m=e[l].x,n=e[l].y,o=1/Math.pow(Math.pow(i-m,2)+Math.pow(j-n,2),1.5);f+=this.K_matrix[a][l]*(1-this.L_matrix[a][l]*Math.pow(j-n,2)*o),g+=this.K_matrix[a][l]*(this.L_matrix[a][l]*(i-m)*(j-n)*o),h+=this.K_matrix[a][l]*(1-this.L_matrix[a][l]*Math.pow(i-m,2)*o)}}var p=f,q=g,r=b,s=h,t=c,u=(r/p+t/q)/(q/p-s/q),v=-(q*u+r)/p;e[a].x+=v,e[a].y+=u}},{key:"_createL_matrix",value:function(a){var b=this.body.nodeIndices,c=this.springLength;this.L_matrix=[];for(var d=0;d<b.length;d++){this.L_matrix[b[d]]={};for(var e=0;e<b.length;e++)this.L_matrix[b[d]][b[e]]=c*a[b[d]][b[e]]}}},{key:"_createK_matrix",value:function(a){var b=this.body.nodeIndices,c=this.springConstant;this.K_matrix=[];for(var d=0;d<b.length;d++){this.K_matrix[b[d]]={};for(var e=0;e<b.length;e++)this.K_matrix[b[d]][b[e]]=c*Math.pow(a[b[d]][b[e]],-2)}}}]),a}();b.default=j},function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(b,"__esModule",{value:!0});var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(){function a(){c(this,a)}return d(a,[{key:"getDistances",value:function(a,b,c){for(var d={},e=a.edges,f=0;f<b.length;f++){d[b[f]]={},d[b[f]]={};for(var g=0;g<b.length;g++)d[b[f]][b[g]]=f==g?0:1e9,d[b[f]][b[g]]=f==g?0:1e9}for(var h=0;h<c.length;h++){var i=e[c[h]];i.connected===!0&&void 0!==d[i.fromId]&&void 0!==d[i.toId]&&(d[i.fromId][i.toId]=1,d[i.toId][i.fromId]=1)}for(var j=b.length,k=0;k<j;k++)for(var l=0;l<j-1;l++)for(var m=l+1;m<j;m++)d[b[l]][b[m]]=Math.min(d[b[l]][b[m]],d[b[l]][b[k]]+d[b[k]][b[m]]),d[b[m]][b[l]]=d[b[l]][b[m]];return d}}]),a}();b.default=e},function(a,b){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(a,b,c){this.beginPath(),this.arc(a,b,c,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(a,b,c){this.beginPath(),this.rect(a-c,b-c,2*c,2*c),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(a,b,c){this.beginPath(),c*=1.15,b+=.275*c;var d=2*c,e=d/2,f=Math.sqrt(3)/6*d,g=Math.sqrt(d*d-e*e);this.moveTo(a,b-(g-f)),this.lineTo(a+e,b+f),this.lineTo(a-e,b+f),this.lineTo(a,b-(g-f)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(a,b,c){this.beginPath(),c*=1.15,b-=.275*c;var d=2*c,e=d/2,f=Math.sqrt(3)/6*d,g=Math.sqrt(d*d-e*e);this.moveTo(a,b+(g-f)),this.lineTo(a+e,b-f),this.lineTo(a-e,b-f),this.lineTo(a,b+(g-f)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(a,b,c){this.beginPath(),c*=.82,b+=.1*c;for(var d=0;d<10;d++){var e=d%2===0?1.3*c:.5*c;this.lineTo(a+e*Math.sin(2*d*Math.PI/10),b-e*Math.cos(2*d*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(a,b,c){this.beginPath(),this.lineTo(a,b+c),this.lineTo(a+c,b),this.lineTo(a,b-c),this.lineTo(a-c,b),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(a,b,c,d,e){var f=Math.PI/180;c-2*e<0&&(e=c/2),d-2*e<0&&(e=d/2),this.beginPath(),this.moveTo(a+e,b),this.lineTo(a+c-e,b),this.arc(a+c-e,b+e,e,270*f,360*f,!1),this.lineTo(a+c,b+d-e),this.arc(a+c-e,b+d-e,e,0,90*f,!1),this.lineTo(a+e,b+d),this.arc(a+e,b+d-e,e,90*f,180*f,!1),this.lineTo(a,b+e),this.arc(a+e,b+e,e,180*f,270*f,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse=function(a,b,c,d){var e=.5522848,f=c/2*e,g=d/2*e,h=a+c,i=b+d,j=a+c/2,k=b+d/2;this.beginPath(),this.moveTo(a,k),this.bezierCurveTo(a,k-g,j-f,b,j,b),this.bezierCurveTo(j+f,b,h,k-g,h,k),this.bezierCurveTo(h,k+g,j+f,i,j,i),this.bezierCurveTo(j-f,i,a,k+g,a,k),this.closePath()},CanvasRenderingContext2D.prototype.database=function(a,b,c,d){var e=1/3,f=c,g=d*e,h=.5522848,i=f/2*h,j=g/2*h,k=a+f,l=b+g,m=a+f/2,n=b+g/2,o=b+(d-g/2),p=b+d;this.beginPath(),this.moveTo(k,n),this.bezierCurveTo(k,n+j,m+i,l,m,l),this.bezierCurveTo(m-i,l,a,n+j,a,n),this.bezierCurveTo(a,n-j,m-i,b,m,b),this.bezierCurveTo(m+i,b,k,n-j,k,n),this.lineTo(k,o),this.bezierCurveTo(k,o+j,m+i,p,m,p),this.bezierCurveTo(m-i,p,a,o+j,a,o),this.lineTo(a,n)},CanvasRenderingContext2D.prototype.arrowEndpoint=function(a,b,c,d){var e=a-d*Math.cos(c),f=b-d*Math.sin(c),g=a-.9*d*Math.cos(c),h=b-.9*d*Math.sin(c),i=e+d/3*Math.cos(c+.5*Math.PI),j=f+d/3*Math.sin(c+.5*Math.PI),k=e+d/3*Math.cos(c-.5*Math.PI),l=f+d/3*Math.sin(c-.5*Math.PI);this.beginPath(),this.moveTo(a,b),this.lineTo(i,j),this.lineTo(g,h),this.lineTo(k,l),this.closePath()},CanvasRenderingContext2D.prototype.circleEndpoint=function(a,b,c,d){var e=.4*d,f=a-e*Math.cos(c),g=b-e*Math.sin(c);this.circle(f,g,e)},CanvasRenderingContext2D.prototype.dashedLine=function(a,b,c,d,e){this.beginPath(),this.moveTo(a,b);for(var f=e.length,g=c-a,h=d-b,i=h/g,j=Math.sqrt(g*g+h*h),k=0,l=!0,m=0,n=e[0];j>=.1;)n=e[k++%f],n>j&&(n=j),m=Math.sqrt(n*n/(1+i*i)),m=g<0?-m:m,a+=m,b+=i*m,l===!0?this.lineTo(a,b):this.moveTo(a,b),j-=n,l=!l})},function(a,b){function c(a){return F=a,n()}function d(){G=0,H=F.charAt(0)}function e(){G++,H=F.charAt(G)}function f(){return F.charAt(G+1)}function g(a){return K.test(a)}function h(a,b){if(a||(a={}),b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function i(a,b,c){for(var d=b.split("."),e=a;d.length;){var f=d.shift();d.length?(e[f]||(e[f]={}),e=e[f]):e[f]=c}}function j(a,b){for(var c,d,e=null,f=[a],g=a;g.parent;)f.push(g.parent),g=g.parent;if(g.nodes)for(c=0,d=g.nodes.length;c<d;c++)if(b.id===g.nodes[c].id){e=g.nodes[c];break}for(e||(e={id:b.id},a.node&&(e.attr=h(e.attr,a.node))),c=f.length-1;c>=0;c--){var i=f[c];i.nodes||(i.nodes=[]),i.nodes.indexOf(e)===-1&&i.nodes.push(e)}b.attr&&(e.attr=h(e.attr,b.attr))}function k(a,b){if(a.edges||(a.edges=[]),a.edges.push(b),a.edge){var c=h({},a.edge);b.attr=h(c,b.attr)}}function l(a,b,c,d,e){var f={from:b,to:c,type:d};return a.edge&&(f.attr=h({},a.edge)),f.attr=h(f.attr||{},e),f}function m(){for(J=D.NULL,I="";" "===H||"\t"===H||"\n"===H||"\r"===H;)e();do{var a=!1;if("#"===H){for(var b=G-1;" "===F.charAt(b)||"\t"===F.charAt(b);)b--;if("\n"===F.charAt(b)||""===F.charAt(b)){for(;""!=H&&"\n"!=H;)e();a=!0}}if("/"===H&&"/"===f()){for(;""!=H&&"\n"!=H;)e();a=!0}if("/"===H&&"*"===f()){for(;""!=H;){if("*"===H&&"/"===f()){e(),e();break}e()}a=!0}for(;" "===H||"\t"===H||"\n"===H||"\r"===H;)e()}while(a);if(""===H)return void(J=D.DELIMITER);var c=H+f();if(E[c])return J=D.DELIMITER,I=c,e(),void e();if(E[H])return J=D.DELIMITER,I=H,void e();if(g(H)||"-"===H){for(I+=H,e();g(H);)I+=H,e();return"false"===I?I=!1:"true"===I?I=!0:isNaN(Number(I))||(I=Number(I)),void(J=D.IDENTIFIER)}if('"'===H){for(e();""!=H&&('"'!=H||'"'===H&&'"'===f());)I+=H,'"'===H&&e(),e();if('"'!=H)throw v('End of string " expected');return e(),void(J=D.IDENTIFIER)}for(J=D.UNKNOWN;""!=H;)I+=H,e();throw new SyntaxError('Syntax error in part "'+w(I,30)+'"')}function n(){var a={};if(d(),m(),"strict"===I&&(a.strict=!0,m()),"graph"!==I&&"digraph"!==I||(a.type=I,m()),J===D.IDENTIFIER&&(a.id=I,m()),"{"!=I)throw v("Angle bracket { expected");if(m(),o(a),"}"!=I)throw v("Angle bracket } expected");if(m(),""!==I)throw v("End of file expected");return m(),delete a.node,delete a.edge,delete a.graph,a}function o(a){for(;""!==I&&"}"!=I;)p(a),";"===I&&m()}function p(a){var b=q(a);if(b)return void t(a,b);var c=r(a);if(!c){if(J!=D.IDENTIFIER)throw v("Identifier expected");var d=I;if(m(),"="===I){if(m(),J!=D.IDENTIFIER)throw v("Identifier expected");a[d]=I,m()}else s(a,d)}}function q(a){var b=null;if("subgraph"===I&&(b={},b.type="subgraph",m(),J===D.IDENTIFIER&&(b.id=I,m())),"{"===I){if(m(),b||(b={}),b.parent=a,b.node=a.node,b.edge=a.edge,b.graph=a.graph,o(b),"}"!=I)throw v("Angle bracket } expected");m(),delete b.node,delete b.edge,delete b.graph,delete b.parent,a.subgraphs||(a.subgraphs=[]),a.subgraphs.push(b)}return b}function r(a){return"node"===I?(m(),a.node=u(),"node"):"edge"===I?(m(),a.edge=u(),"edge"):"graph"===I?(m(),a.graph=u(),"graph"):null}function s(a,b){var c={id:b},d=u();d&&(c.attr=d),j(a,c),t(a,b)}function t(a,b){for(;"->"===I||"--"===I;){var c,d=I;m();var e=q(a);if(e)c=e;else{if(J!=D.IDENTIFIER)throw v("Identifier or subgraph expected");c=I,j(a,{id:c}),m()}var f=u(),g=l(a,b,c,d,f);k(a,g),b=c}}function u(){for(var a=null;"["===I;){for(m(),a={};""!==I&&"]"!=I;){if(J!=D.IDENTIFIER)throw v("Attribute name expected");var b=I;if(m(),"="!=I)throw v("Equal sign = expected");if(m(),J!=D.IDENTIFIER)throw v("Attribute value expected");var c=I;i(a,b,c),m(),","==I&&m()}if("]"!=I)throw v("Bracket ] expected");m()}return a}function v(a){return new SyntaxError(a+', got "'+w(I,30)+'" (char '+G+")")}function w(a,b){return a.length<=b?a:a.substr(0,27)+"..."}function x(a,b,c){Array.isArray(a)?a.forEach(function(a){Array.isArray(b)?b.forEach(function(b){c(a,b)}):c(a,b)}):Array.isArray(b)?b.forEach(function(b){c(a,b)}):c(a,b)}function y(a,b,c){for(var d=b.split("."),e=d.pop(),f=a,g=0;g<d.length;g++){var h=d[g];h in f||(f[h]={}),f=f[h]}return f[e]=c,a}function z(a,b){var c={};for(var d in a)if(a.hasOwnProperty(d)){var e=b[d];Array.isArray(e)?e.forEach(function(b){y(c,b,a[d])}):"string"==typeof e?y(c,e,a[d]):y(c,d,a[d])}return c}function A(a){var b=c(a),d={nodes:[],edges:[],options:{}};if(b.nodes&&b.nodes.forEach(function(a){var b={id:a.id,label:String(a.label||a.id)};h(b,z(a.attr,B)),b.image&&(b.shape="image"),d.nodes.push(b)}),b.edges){var e=function(a){var b={from:a.from,to:a.to};return h(b,z(a.attr,C)),b.arrows="->"===a.type?"to":void 0,b};b.edges.forEach(function(a){var b,c;b=a.from instanceof Object?a.from.nodes:{id:a.from},c=a.to instanceof Object?a.to.nodes:{id:a.to},a.from instanceof Object&&a.from.edges&&a.from.edges.forEach(function(a){var b=e(a);d.edges.push(b)}),x(b,c,function(b,c){var f=l(d,b.id,c.id,a.type,a.attr),g=e(f);d.edges.push(g)}),a.to instanceof Object&&a.to.edges&&a.to.edges.forEach(function(a){var b=e(a);d.edges.push(b)})})}return b.attr&&(d.options=b.attr),d}var B={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},C=Object.create(B);C.color="color.color";var D={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},E={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},F="",G=0,H="",I="",J=D.NULL,K=/[a-zA-Z_0-9.:#]/;b.parseDOT=c,b.DOTToGraph=A},function(a,b){function c(a,b){var c=[],d=[],e={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==b&&(void 0!==b.fixed&&(e.nodes.fixed=b.fixed),void 0!==b.parseColor&&(e.nodes.parseColor=b.parseColor),void 0!==b.inheritColor&&(e.edges.inheritColor=b.inheritColor));for(var f=a.edges,g=a.nodes,h=0;h<f.length;h++){var i={},j=f[h];i.id=j.id,i.from=j.source,i.to=j.target,i.attributes=j.attributes,i.label=j.label,i.title=void 0!==j.attributes?j.attributes.title:void 0,"Directed"===j.type&&(i.arrows="to"),j.color&&e.inheritColor===!1&&(i.color=j.color),c.push(i)}for(var h=0;h<g.length;h++){var k={},l=g[h];k.id=l.id,k.attributes=l.attributes,k.title=l.title,k.x=l.x,k.y=l.y,k.label=l.label,k.title=void 0!==l.attributes?l.attributes.title:void 0,e.nodes.parseColor===!0?k.color=l.color:k.color=void 0!==l.color?{background:l.color,border:l.color,highlight:{background:l.color,border:l.color},hover:{background:l.color,border:l.color}}:void 0,k.size=l.size,k.fixed=e.nodes.fixed&&void 0!==l.x&&void 0!==l.y,d.push(k)}return{nodes:d,edges:c}}b.parseGephi=c},function(a,b){b.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},b.en_EN=b.en,b.en_US=b.en,b.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},b.de_DE=b.de,b.es={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},b.es_ES=b.es,b.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},b.it_IT=b.it,b.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},b.nl_NL=b.nl,b.nl_BE=b.nl,b["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nó",addEdge:"Adicionar aresta",editNode:"Editar nó",editEdge:"Editar aresta",addDescription:"Clique em um espaço em branco para adicionar um novo nó",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",createEdgeError:"Não foi possível linkar arestas a um cluster.",deleteClusterError:"Clusters não puderam ser removidos.",editClusterError:"Clusters não puderam ser editados."},b["pt-BR"]=b["pt-br"],b.pt_BR=b["pt-br"],b.pt_br=b["pt-br"],b.ru={edit:"Редактировать",del:"Удалить выбранное",back:"Назад",addNode:"Добавить узел",addEdge:"Добавить ребро",editNode:"Редактировать узел",editEdge:"Редактировать ребро",addDescription:"Кликните в свободное место, чтобы добавить новый узел.",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",createEdgeError:"Невозможно соединить ребра в кластер.",deleteClusterError:"Кластеры не могут быть удалены",editClusterError:"Кластеры недоступны для редактирования."},b.ru_RU=b.ru}])})},{}],2:[function(a,b,c){function d(){null!==u&&(u.destroy(),u=null)}function e(a){return{border:"#2B7CE9",background:a,highlight:{border:"#2B7CE9",background:"red"}}}function f(){s=[{id:q.guid(),label:"q0",color:e("orange"),extra:"start"},{id:q.guid(),label:"q1",color:e("green"),extra:"accept"}],t=[],v={nodes:new p.DataSet(s),edges:new p.DataSet(t)}}function g(){d(),f();var a=document.getElementById("mynetwork");u=new p.Network(a,v,x),window.network=u}function h(a,b,c,d){document.getElementById("operation").innerHTML=a,document.getElementById("node-label").value=c.label,document.getElementById("node-extra").value=c.extra,document.getElementById("saveButton").onclick=b.bind(null,c,d),document.getElementById("cancelButton").onclick=i.bind(),document.getElementById("network-popUp").style.display="block"}function i(){document.getElementById("saveButton").onclick=null,document.getElementById("cancelButton").onclick=null,document.getElementById("network-popUp").style.display="none"}function j(a,b){switch(a.label=document.getElementById("node-label").value,a.extra=document.getElementById("node-extra").value,a.extra){case"start":a.color=e("orange");break;case"accept":a.color=e("green");break;default:a.color=e("cyan")}i(),b(a)}function k(a,b){a.label=document.getElementById("node-label").value,a.extra=document.getElementById("node-extra").value,i(),b(a)}function l(a,b,c){var d=document.createElement("a"),e=new Blob([a],{type:c});d.href=URL.createObjectURL(e),d.download=b,d.click()}function m(){l(JSON.stringify({data:v}),"save.tmws","tmws")}function n(a){var b=JSON.parse(a);v={nodes:o(b.data.nodes),edges:o(b.data.edges)},u.setData(v),u.redraw(),w.data=v}function o(a){var b=new p.DataSet;for(var c in a)b[c]=a[c];return b}console.log("app.js");var p=a("vis/dist/vis.js"),q=a("./util.js"),r=a("./turing.js"),s=null,t=null,u=null,v=null,w={},x={layout:{randomSeed:2},interaction:{hover:!0},nodes:{font:{size:14}},manipulation:{addNode:function(a,b){a.extra="",h("Add Node",j,a,b)},editNode:function(a,b){h("Edit Node",j,a,b)},addEdge:function(a,b){a.id=q.guid(),a.arrows="to",a.label="0/1/r",a.extra="",h("Add Edge",k,a,b)},editEdge:function(a,b){a.arrows="to",a.label="0/1/r",a.extra="",h("Edit Edge",k,a,b)},deleteNode:function(a,b){b(a)},deleteEdge:function(a,b){b(a)}}};document.body.onload=function(){var a=document.getElementById("msgArea"),b=function(){var b=Array.from(arguments);a.innerText=b.join(" ")};r.setMsgOutput(b);var c=function(a,b){u.unselectAll(),u.setSelection({nodes:a,edges:b})};r.setHighlightFunc(c);var d=document.getElementById("stepArea"),e=document.getElementById("tapeLeft"),f=document.getElementById("tapeRight"),h=document.getElementById("tapeHead"),i=function(){var a=r.machine.head,b=r.machine.tape.length,c=r.machine.tape;d.innerText=r.machine.steps,e.innerText="",f.innerText="",a>0&&(e.innerText=c.slice(0,a).join("")),h.innerText=void 0==c[a]?"_":c[a],b-1-a>0&&(f.innerText=c.slice(a+1,b).join("")),u.redraw()};r.setDrawCallback(i),document.getElementById("restoreWorkspaceBtn").addEventListener("change",function(a){var b=a.target.files,c=new FileReader;c.onload=function(a){str=a.target.result,n(str)},c.readAsText(b[0])},!1),document.getElementById("saveWorkspaceBtn").addEventListener("click",function(a){m()},!1),document.getElementById("buildBtn").addEventListener("click",function(a){r.makeTable(v)},!1),document.getElementById("resetBtn").addEventListener("click",function(a){u.unselectAll(),r.reset(document.getElementById("tapeInput").value,parseInt(document.getElementById("intervalInput").value))},!1),document.getElementById("startBtn").addEventListener("click",function(a){r.start()},!1),document.getElementById("stepBtn").addEventListener("click",function(a){r.step()},!1),g()}},{"./turing.js":3,"./util.js":4,"vis/dist/vis.js":1}],3:[function(a,b,c){function d(a){var b=l;b.table={},b.startState=null;var c=a.edges._data,d=a.nodes._data;for(var e in d)v=d[e],null==b.table[e]&&(b.table[e]={extra:v.extra,label:v.label}),"start"==v.extra&&null==b.startState&&(b.startState=e);for(var e in c)v=c[e],v.label.split(",").forEach(function(a){return trans=a.split("/"),3!=trans.length?(m("transform must have 3 elements"),void console.error("transform must have 3 elements")):null!=b.table[v.from][trans[0]]?(m("cannot have indetermined transition"),void console.error("cannot have indetermined transition")):void(b.table[v.from][trans[0]]={nextSymbol:trans[1],direction:trans[2],nextState:v.to,edge:e,extra:v.extra})})}function e(a,b){var c=l;c.tape=Array.from(a.replace(/ /g,"_")),c.steps=0,c.head=0,c.state=c.startState,c.isFast=!1,c.interval=b,c.timer=null,o()}function f(){h()&&(timer=window.setTimeout(f,l.interval))}function g(){var a=l;return a.head<0?(m("halt because tape is limited"),!0):null==a.table[a.state]?(m("halt because no such state"),!0):"accept"==a.table[a.state].extra&&null==k()&&(m("halt accept"),!0)}function h(){var a=l,b=k();return null!=b&&(a.state=b.nextState,j(b.nextSymbol),p.hasOwnProperty(b.direction)&&(a.head+=p[b.direction]),a.steps++,n([a.state],[b.edge]),o(),!g())}function i(){var a=l;return a.head<a.tape.length?a.tape[a.head]:(a.tape=a.tape.concat(Array.from("_".repeat(a.tape.length))),
i())}function j(a){var b=l;a=" "==a?"_":a,b.tape[b.head]=a}function k(){var a=l;if(null==a.table[a.state])return m(a.state,"do not exits"),!1;var b=i(),c=a.table[a.state][b];return null==c&&m(b,a.table[a.state].label,"do not exits"),c}var l={table:{},startState:null,tape:[],steps:0,head:0,state:null,timer:null,isFast:!1,interval:50},m=null,n=null,o=null,p={r:1,l:-1};b.exports={machine:l,reset:e,start:f,step:h,makeTable:d,setMsgOutput:function(a){m=a},setHighlightFunc:function(a){n=a},setDrawCallback:function(a){o=a}},window.machine=l},{}],4:[function(a,b,c){function d(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){4===d.readyState&&(200===d.status?b(JSON.parse(d.responseText)):c(d))},d.open("GET",a,!0),d.send()}function e(a){for(var b=[],c=[],d=[],e=0;e<a;e++)if(b.push({id:e,label:String(e)}),d[e]=0,1==e){var f=e,g=0;c.push({from:f,to:g}),d[f]++,d[g]++}else if(e>1){for(var h=2*c.length,i=Math.floor(Math.random()*h),j=0,k=0;k<d.length&&j<i;)j+=d[k],k++;var f=e,g=k;c.push({from:f,to:g}),d[f]++,d[g]++}return{nodes:b,edges:c}}function f(){var a=1e4*Math.sin(i++);return a-Math.floor(a)}function g(a,b){b&&(i=Number(b));for(var c=[],d=[],e=[],g=0,h=0;h<a;h++)if(c.push({id:h,label:String(h)}),e[h]=0,1==h){var j=h,k=0;d.push({id:g++,from:j,to:k}),e[j]++,e[k]++}else if(h>1){for(var l=2*d.length,m=Math.floor(f()*l),n=0,o=0;o<e.length&&n<m;)n+=e[o],o++;var j=h,k=o;d.push({id:g++,from:j,to:k}),e[j]++,e[k]++}return{nodes:c,edges:d}}function h(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}var i=764;b.exports={loadJSON:d,getScaleFreeNetwork:e,getScaleFreeNetworkSeeded:g,guid:h}},{}]},{},[2]);
//# sourceMappingURL=bundle.min.js.map